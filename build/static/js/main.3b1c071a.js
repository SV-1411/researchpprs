/*! For license information please see main.3b1c071a.js.LICENSE.txt */
(()=>{var e={9:(e,t,s)=>{"use strict";var n=s(483),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var n,r={},c=null,d=null;for(n in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:d,props:r,_owner:o.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},122:(e,t)=>{"use strict";function s(e,t){var s=e.length;e.push(t);e:for(;0<s;){var n=s-1>>>1,i=e[n];if(!(0<r(i,t)))break e;e[n]=t,e[s]=i,s=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],s=e.pop();if(s!==t){e[0]=s;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,s))c<i&&0>r(d,l)?(e[n]=d,e[c]=s,n=c):(e[n]=l,e[o]=s,n=o);else{if(!(c<i&&0>r(d,s)))break e;e[n]=d,e[c]=s,n=c}}}return t}function r(e,t){var s=e.sortIndex-t.sortIndex;return 0!==s?s:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,m=3,p=!1,f=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,s(c,t)}t=n(d)}}function w(e){if(g=!1,y(e),!f)if(null!==n(c))f=!0,R(j);else{var t=n(d);null!==t&&D(w,t.startTime-e)}}function j(e,s){f=!1,g&&(g=!1,v(A),A=-1),p=!0;var r=m;try{for(y(s),u=n(c);null!==u&&(!(u.expirationTime>s)||e&&!E());){var a=u.callback;if("function"===typeof a){u.callback=null,m=u.priorityLevel;var o=a(u.expirationTime<=s);s=t.unstable_now(),"function"===typeof o?u.callback=o:u===n(c)&&i(c),y(s)}else i(c);u=n(c)}if(null!==u)var l=!0;else{var h=n(d);null!==h&&D(w,h.startTime-s),l=!1}return l}finally{u=null,m=r,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,A=-1,_=5,C=-1;function E(){return!(t.unstable_now()-C<_)}function M(){if(null!==S){var e=t.unstable_now();C=e;var s=!0;try{s=S(!0,e)}finally{s?N():(k=!1,S=null)}}else k=!1}if("function"===typeof b)N=function(){b(M)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=M,N=function(){T.postMessage(null)}}else N=function(){x(M,0)};function R(e){S=e,k||(k=!0,N())}function D(e,s){A=x(function(){e(t.unstable_now())},s)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var s=m;m=t;try{return e()}finally{m=s}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var s=m;m=e;try{return t()}finally{m=s}},t.unstable_scheduleCallback=function(e,i,r){var a=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?a+r:a:r=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:r,expirationTime:o=r+o,sortIndex:-1},r>a?(e.sortIndex=r,s(d,e),null===n(c)&&e===n(d)&&(g?(v(A),A=-1):g=!0,D(w,r-a))):(e.sortIndex=o,s(c,e),f||p||(f=!0,R(j))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=m;return function(){var s=m;m=t;try{return e.apply(this,arguments)}finally{m=s}}}},146:(e,t)=>{"use strict";var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function x(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}function v(){}function b(e,t,s){this.props=e,this.context=t,this.refs=g,this.updater=s||p}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=x.prototype;var y=b.prototype=new v;y.constructor=b,f(y,x.prototype),y.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var i,r={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,i)&&!k.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:s,type:e,key:a,ref:o,props:r,_owner:N.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,i,r,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case s:case n:l=!0}}if(l)return a=a(l=e),e=""===r?"."+C(l,0):r,w(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),E(a,t,i,"",function(e){return e})):null!=a&&(A(a)&&(a=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",w(e))for(var c=0;c<e.length;c++){var d=r+C(o=e[c],c);l+=E(o,t,i,d,a)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,i,d=r+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,s){if(null==e)return e;var n=[],i=0;return E(e,n,"","",function(e){return t.call(s,e,i++)}),n}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},R={transition:null},D={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,s){M(e,function(){t.apply(this,arguments)},s)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),r=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:s,type:e.type,key:r,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,s){return T.current.useImperativeHandle(e,t,s)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,s){return T.current.useReducer(e,t,s)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,s){return T.current.useSyncExternalStore(e,t,s)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},483:(e,t,s)=>{"use strict";e.exports=s(146)},557:(e,t,s)=>{"use strict";e.exports=s(122)},568:e=>{"use strict";var t=function(){};e.exports=t},723:(e,t,s)=>{"use strict";e.exports=s(9)},775:(e,t,s)=>{"use strict";var n=s(998);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},914:(e,t,s)=>{"use strict";var n=s(483),i=s(557);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,s,n,i,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,s,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,s,n){if(null===t||"undefined"===typeof t||function(e,t,s,n){if(null!==s&&0===s.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==s?!s.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,s,n))return!0;if(n)return!1;if(null!==s)switch(s.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,s,i,n)&&(s=null),n||null===i?function(e){return!!h.call(p,e)||!h.call(m,e)&&(u.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===s?e.removeAttribute(t):e.setAttribute(t,""+s)):i.mustUseProperty?e[i.propertyName]=null===s?3!==i.type&&"":s:(t=i.attributeName,n=i.attributeNamespace,null===s?e.removeAttribute(t):(s=3===(i=i.type)||4===i&&!0===s?"":""+s,n?e.setAttributeNS(n,t,s):e.setAttribute(t,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,F=Object.assign;function O(e){if(void 0===I)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function W(e,t){if(!e||B)return"";B=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),r=n.stack.split("\n"),a=i.length-1,o=r.length-1;1<=a&&0<=o&&i[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==r[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==r[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?O(e):""}function z(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(s){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof s&&"function"===typeof s.get&&"function"===typeof s.set){var i=s.get,r=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),n="";return e&&(n=G(e)?e.checked?"true":"false":e.value),(e=n)!==s&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var s=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=s?s:e._wrapperState.initialChecked})}function J(e,t){var s=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;s=V(null!=t.value?t.value:s),e._wrapperState={initialChecked:n,initialValue:s,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var s=V(t.value),n=t.type;if(null!=s)"number"===n?(0===s&&""===e.value||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,s):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}""!==(s=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==s&&(e.name=s)}function ee(e,t,s){"number"===t&&Y(e.ownerDocument)===e||(null==s?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var te=Array.isArray;function se(e,t,s,n){if(e=e.options,t){t={};for(var i=0;i<s.length;i++)t["$"+s[i]]=!0;for(s=0;s<e.length;s++)i=t.hasOwnProperty("$"+e[s].value),e[s].selected!==i&&(e[s].selected=i),i&&n&&(e[s].defaultSelected=!0)}else{for(s=""+V(s),t=null,i=0;i<e.length;i++){if(e[i].value===s)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var s=t.value;if(null==s){if(s=t.children,t=t.defaultValue,null!=s){if(null!=t)throw Error(r(92));if(te(s)){if(1<s.length)throw Error(r(93));s=s[0]}t=s}null==t&&(t=""),s=t}e._wrapperState={initialValue:V(s)}}function re(e,t){var s=V(t.value),n=V(t.defaultValue);null!=s&&((s=""+s)!==e.value&&(e.value=s),null==t.defaultValue&&e.defaultValue!==s&&(e.defaultValue=s)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,s,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function ue(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&3===s.nodeType)return void(s.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function fe(e,t,s){return null==t||"boolean"===typeof t||""===t?"":s||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var s in e=e.style,t)if(t.hasOwnProperty(s)){var n=0===s.indexOf("--"),i=fe(s,t[s],n);"float"===s&&(s="cssFloat"),n?e.setProperty(s,i):e[s]=i}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var xe=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=bi(e)){if("function"!==typeof je)throw Error(r(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function Ae(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ee(){}var Me=!1;function Pe(e,t,s){if(Me)return e(t,s);Me=!0;try{return Ce(e,t,s)}finally{Me=!1,(null!==Ne||null!==ke)&&(Ee(),_e())}}function Te(e,t){var s=e.stateNode;if(null===s)return null;var n=wi(s);if(null===n)return null;s=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(s&&"function"!==typeof s)throw Error(r(231,t,typeof s));return s}var Re=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Re=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Re=!1}function Le(e,t,s,n,i,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(s,c)}catch(d){this.onError(d)}}var Ie=!1,Fe=null,Oe=!1,Be=null,We={onError:function(e){Ie=!0,Fe=e}};function ze(e,t,s,n,i,r,a,o,l){Ie=!1,Fe=null,Le.apply(We,arguments)}function Ue(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(s=t.return),e=t.return}while(e)}return 3===t.tag?s:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(r(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(r(188));return t!==e?null:e}for(var s=e,n=t;;){var i=s.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){s=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===s)return Ve(i),e;if(a===n)return Ve(i),t;a=a.sibling}throw Error(r(188))}if(s.return!==n.return)s=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===s){o=!0,s=i,n=a;break}if(l===n){o=!0,n=i,s=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===s){o=!0,s=a,n=i;break}if(l===n){o=!0,n=a,s=i;break}l=l.sibling}if(!o)throw Error(r(189))}}if(s.alternate!==n)throw Error(r(190))}if(3!==s.tag)throw Error(r(188));return s.stateNode.current===s?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Je=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,st=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,rt=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var s=e.pendingLanes;if(0===s)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes,a=268435455&s;if(0!==a){var o=a&~i;0!==o?n=ht(o):0!==(r&=a)&&(n=ht(r))}else 0!==(a=s&~i)?n=ht(a):0!==r&&(n=ht(r));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(r=t&-t)||16===i&&0!==(4194240&r)))return t;if(0!==(4&n)&&(n|=16&s),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(s=31-at(t)),n|=e[s],t&=~i;return n}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function xt(e,t,s){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=s}function vt(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var n=31-at(s),i=1<<n;i&t|e[n]&t&&(e[n]|=t),s&=~i}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,At=!1,_t=[],Ct=null,Et=null,Mt=null,Pt=new Map,Tt=new Map,Rt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,s,n,i,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:s,eventSystemFlags:n,nativeEvent:r,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=vi(e.target);if(null!==t){var s=Ue(t);if(null!==s)if(13===(t=s.tag)){if(null!==(t=He(s)))return e.blockedOn=t,void St(e.priority,function(){Nt(s)})}else if(3===t&&s.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===s.tag?s.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var s=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==s)return null!==(t=bi(s))&&jt(t),e.blockedOn=s,!1;var n=new(s=e.nativeEvent).constructor(s.type,s);ye=n,s.target.dispatchEvent(n),ye=null,t.shift()}return!0}function Bt(e,t,s){Ot(e)&&s.delete(t)}function Wt(){At=!1,null!==Ct&&Ot(Ct)&&(Ct=null),null!==Et&&Ot(Et)&&(Et=null),null!==Mt&&Ot(Mt)&&(Mt=null),Pt.forEach(Bt),Tt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function Ut(e){function t(t){return zt(t,e)}if(0<_t.length){zt(_t[0],e);for(var s=1;s<_t.length;s++){var n=_t[s];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Et&&zt(Et,e),null!==Mt&&zt(Mt,e),Pt.forEach(t),Tt.forEach(t),s=0;s<Rt.length;s++)(n=Rt[s]).blockedOn===e&&(n.blockedOn=null);for(;0<Rt.length&&null===(s=Rt[0]).blockedOn;)Ft(s),null===s.blockedOn&&Rt.shift()}var Ht=y.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,s,n){var i=bt,r=Ht.transition;Ht.transition=null;try{bt=1,Xt(e,t,s,n)}finally{bt=i,Ht.transition=r}}function qt(e,t,s,n){var i=bt,r=Ht.transition;Ht.transition=null;try{bt=4,Xt(e,t,s,n)}finally{bt=i,Ht.transition=r}}function Xt(e,t,s,n){if(Vt){var i=Kt(e,t,s,n);if(null===i)Vn(e,t,n,Yt,s),Lt(e,n);else if(function(e,t,s,n,i){switch(t){case"focusin":return Ct=It(Ct,e,t,s,n,i),!0;case"dragenter":return Et=It(Et,e,t,s,n,i),!0;case"mouseover":return Mt=It(Mt,e,t,s,n,i),!0;case"pointerover":var r=i.pointerId;return Pt.set(r,It(Pt.get(r)||null,e,t,s,n,i)),!0;case"gotpointercapture":return r=i.pointerId,Tt.set(r,It(Tt.get(r)||null,e,t,s,n,i)),!0}return!1}(i,e,t,s,n))n.stopPropagation();else if(Lt(e,n),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var r=bi(i);if(null!==r&&wt(r),null===(r=Kt(e,t,s,n))&&Vn(e,t,n,Yt,s),r===i)break;i=r}null!==i&&n.stopPropagation()}else Vn(e,t,n,null,s)}}var Yt=null;function Kt(e,t,s,n){if(Yt=null,null!==(e=vi(e=we(n))))if(null===(t=Ue(e)))e=null;else if(13===(s=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===s){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case st:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Zt=null;function es(){if(Zt)return Zt;var e,t,s=$t,n=s.length,i="value"in Qt?Qt.value:Qt.textContent,r=i.length;for(e=0;e<n&&s[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&s[n-t]===i[r-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function ts(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function ss(){return!0}function ns(){return!1}function is(e){function t(t,s,n,i,r){for(var a in this._reactName=t,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?ss:ns,this.isPropagationStopped=ns,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ss)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ss)},persist:function(){},isPersistent:ss}),t}var rs,as,os,ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=is(ls),ds=F({},ls,{view:0,detail:0}),hs=is(ds),us=F({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&"mousemove"===e.type?(rs=e.screenX-os.screenX,as=e.screenY-os.screenY):as=rs=0,os=e),rs)},movementY:function(e){return"movementY"in e?e.movementY:as}}),ms=is(us),ps=is(F({},us,{dataTransfer:0})),fs=is(F({},ds,{relatedTarget:0})),gs=is(F({},ls,{animationName:0,elapsedTime:0,pseudoElement:0})),xs=F({},ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vs=is(xs),bs=is(F({},ls,{data:0})),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},js={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ns(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=js[e])&&!!t[e]}function ks(){return Ns}var Ss=F({},ds,{key:function(e){if(e.key){var t=ys[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ts(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ws[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return"keypress"===e.type?ts(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ts(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),As=is(Ss),_s=is(F({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cs=is(F({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks})),Es=is(F({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ms=F({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ps=is(Ms),Ts=[9,13,27,32],Rs=d&&"CompositionEvent"in window,Ds=null;d&&"documentMode"in document&&(Ds=document.documentMode);var Ls=d&&"TextEvent"in window&&!Ds,Is=d&&(!Rs||Ds&&8<Ds&&11>=Ds),Fs=String.fromCharCode(32),Os=!1;function Bs(e,t){switch(e){case"keyup":return-1!==Ts.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ws(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zs=!1;var Us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Us[e.type]:"textarea"===t}function Vs(e,t,s,n){Ae(n),0<(t=qn(t,"onChange")).length&&(s=new cs("onChange","change",null,s,n),e.push({event:s,listeners:t}))}var Gs=null,qs=null;function Xs(e){On(e,0)}function Ys(e){if(X(yi(e)))return e}function Ks(e,t){if("change"===e)return t}var Js=!1;if(d){var Qs;if(d){var $s="oninput"in document;if(!$s){var Zs=document.createElement("div");Zs.setAttribute("oninput","return;"),$s="function"===typeof Zs.oninput}Qs=$s}else Qs=!1;Js=Qs&&(!document.documentMode||9<document.documentMode)}function en(){Gs&&(Gs.detachEvent("onpropertychange",tn),qs=Gs=null)}function tn(e){if("value"===e.propertyName&&Ys(qs)){var t=[];Vs(t,qs,e,we(e)),Pe(Xs,t)}}function sn(e,t,s){"focusin"===e?(en(),qs=s,(Gs=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ys(qs)}function rn(e,t){if("click"===e)return Ys(t)}function an(e,t){if("input"===e||"change"===e)return Ys(t)}var on="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(on(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(n=0;n<s.length;n++){var i=s[n];if(!h.call(t,i)||!on(e[i],t[i]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var s,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function un(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var s="string"===typeof t.contentWindow.location.href}catch(n){s=!1}if(!s)break;t=Y((e=t.contentWindow).document)}return t}function mn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=un(),s=e.focusedElem,n=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&hn(s.ownerDocument.documentElement,s)){if(null!==n&&mn(s))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if((e=(t=s.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=s.textContent.length,r=Math.min(n.start,i);n=void 0===n.end?r:Math.min(n.end,i),!e.extend&&r>n&&(i=n,n=r,r=i),i=dn(s,r);var a=dn(s,n);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),r>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=s;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<t.length;s++)(e=t[s]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=d&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,vn=null,bn=!1;function yn(e,t,s){var n=s.window===s?s.document:9===s.nodeType?s:s.ownerDocument;bn||null==gn||gn!==Y(n)||("selectionStart"in(n=gn)&&mn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=qn(xn,"onSelect")).length&&(t=new cs("onSelect","select",null,t,s),e.push({event:t,listeners:n}),t.target=gn)))}function wn(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var jn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},Nn={},kn={};function Sn(e){if(Nn[e])return Nn[e];if(!jn[e])return e;var t,s=jn[e];for(t in s)if(s.hasOwnProperty(t)&&t in kn)return Nn[e]=s[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var An=Sn("animationend"),_n=Sn("animationiteration"),Cn=Sn("animationstart"),En=Sn("transitionend"),Mn=new Map,Pn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Mn.set(e,t),l(t,[e])}for(var Rn=0;Rn<Pn.length;Rn++){var Dn=Pn[Rn];Tn(Dn.toLowerCase(),"on"+(Dn[0].toUpperCase()+Dn.slice(1)))}Tn(An,"onAnimationEnd"),Tn(_n,"onAnimationIteration"),Tn(Cn,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(En,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ln="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),In=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ln));function Fn(e,t,s){var n=e.type||"unknown-event";e.currentTarget=s,function(e,t,s,n,i,a,o,l,c){if(ze.apply(this,arguments),Ie){if(!Ie)throw Error(r(198));var d=Fe;Ie=!1,Fe=null,Oe||(Oe=!0,Be=d)}}(n,t,void 0,e),e.currentTarget=null}function On(e,t){t=0!==(4&t);for(var s=0;s<e.length;s++){var n=e[s],i=n.event;n=n.listeners;e:{var r=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&i.isPropagationStopped())break e;Fn(i,o,c),r=l}else for(a=0;a<n.length;a++){if(l=(o=n[a]).instance,c=o.currentTarget,o=o.listener,l!==r&&i.isPropagationStopped())break e;Fn(i,o,c),r=l}}}if(Oe)throw e=Be,Oe=!1,Be=null,e}function Bn(e,t){var s=t[fi];void 0===s&&(s=t[fi]=new Set);var n=e+"__bubble";s.has(n)||(Hn(t,e,2,!1),s.add(n))}function Wn(e,t,s){var n=0;t&&(n|=4),Hn(s,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[zn]){e[zn]=!0,a.forEach(function(t){"selectionchange"!==t&&(In.has(t)||Wn(t,!1,e),Wn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Wn("selectionchange",!1,t))}}function Hn(e,t,s,n){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=qt;break;default:i=Xt}s=i.bind(null,t,s,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,s,{capture:!0,passive:i}):e.addEventListener(t,s,!0):void 0!==i?e.addEventListener(t,s,{passive:i}):e.addEventListener(t,s,!1)}function Vn(e,t,s,n,i){var r=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var o=n.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){n=r=a;continue e}o=o.parentNode}}n=n.return}Pe(function(){var n=r,i=we(s),a=[];e:{var o=Mn.get(e);if(void 0!==o){var l=cs,c=e;switch(e){case"keypress":if(0===ts(s))break e;case"keydown":case"keyup":l=As;break;case"focusin":c="focus",l=fs;break;case"focusout":c="blur",l=fs;break;case"beforeblur":case"afterblur":l=fs;break;case"click":if(2===s.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ps;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cs;break;case An:case _n:case Cn:l=gs;break;case En:l=Es;break;case"scroll":l=hs;break;case"wheel":l=Ps;break;case"copy":case"cut":case"paste":l=vs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_s}var d=0!==(4&t),h=!d&&"scroll"===e,u=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=n;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==u&&(null!=(f=Te(p,u))&&d.push(Gn(p,f,m)))),h)break;p=p.return}0<d.length&&(o=new l(o,c,null,s,i),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||s===ye||!(c=s.relatedTarget||s.fromElement)||!vi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=s.relatedTarget||s.toElement)?vi(c):null)&&(c!==(h=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=ms,f="onMouseLeave",u="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=_s,f="onPointerLeave",u="onPointerEnter",p="pointer"),h=null==l?o:yi(l),m=null==c?o:yi(c),(o=new d(f,p+"leave",l,s,i)).target=h,o.relatedTarget=m,f=null,vi(i)===n&&((d=new d(u,p+"enter",c,s,i)).target=m,d.relatedTarget=h,f=d),h=f,l&&c)e:{for(u=c,p=0,m=d=l;m;m=Xn(m))p++;for(m=0,f=u;f;f=Xn(f))m++;for(;0<p-m;)d=Xn(d),p--;for(;0<m-p;)u=Xn(u),m--;for(;p--;){if(d===u||null!==u&&d===u.alternate)break e;d=Xn(d),u=Xn(u)}d=null}else d=null;null!==l&&Yn(a,o,l,d,!1),null!==c&&null!==h&&Yn(a,h,c,d,!0)}if("select"===(l=(o=n?yi(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Ks;else if(Hs(o))if(Js)g=an;else{g=nn;var x=sn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=rn);switch(g&&(g=g(e,n))?Vs(a,g,s,i):(x&&x(e,o,n),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=n?yi(n):window,e){case"focusin":(Hs(x)||"true"===x.contentEditable)&&(gn=x,xn=n,vn=null);break;case"focusout":vn=xn=gn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,yn(a,s,i);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":yn(a,s,i)}var v;if(Rs)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zs?Bs(e,s)&&(b="onCompositionEnd"):"keydown"===e&&229===s.keyCode&&(b="onCompositionStart");b&&(Is&&"ko"!==s.locale&&(zs||"onCompositionStart"!==b?"onCompositionEnd"===b&&zs&&(v=es()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,zs=!0)),0<(x=qn(n,b)).length&&(b=new bs(b,e,null,s,i),a.push({event:b,listeners:x}),v?b.data=v:null!==(v=Ws(s))&&(b.data=v))),(v=Ls?function(e,t){switch(e){case"compositionend":return Ws(t);case"keypress":return 32!==t.which?null:(Os=!0,Fs);case"textInput":return(e=t.data)===Fs&&Os?null:e;default:return null}}(e,s):function(e,t){if(zs)return"compositionend"===e||!Rs&&Bs(e,t)?(e=es(),Zt=$t=Qt=null,zs=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Is&&"ko"!==t.locale?null:t.data}}(e,s))&&(0<(n=qn(n,"onBeforeInput")).length&&(i=new bs("onBeforeInput","beforeinput",null,s,i),a.push({event:i,listeners:n}),i.data=v))}On(a,t)})}function Gn(e,t,s){return{instance:e,listener:t,currentTarget:s}}function qn(e,t){for(var s=t+"Capture",n=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Te(e,s))&&n.unshift(Gn(e,r,i)),null!=(r=Te(e,t))&&n.push(Gn(e,r,i))),e=e.return}return n}function Xn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,s,n,i){for(var r=t._reactName,a=[];null!==s&&s!==n;){var o=s,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Te(s,r))&&a.unshift(Gn(s,l,o)):i||null!=(l=Te(s,r))&&a.push(Gn(s,l,o))),s=s.return}0!==a.length&&e.push({event:t,listeners:a})}var Kn=/\r\n?/g,Jn=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Jn,"")}function $n(e,t,s){if(t=Qn(t),Qn(e)!==t&&s)throw Error(r(425))}function Zn(){}var ei=null,ti=null;function si(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ri="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ri?function(e){return ri.resolve(null).then(e).catch(oi)}:ni;function oi(e){setTimeout(function(){throw e})}function li(e,t){var s=t,n=0;do{var i=s.nextSibling;if(e.removeChild(s),i&&8===i.nodeType)if("/$"===(s=i.data)){if(0===n)return e.removeChild(i),void Ut(t);n--}else"$"!==s&&"$?"!==s&&"$!"!==s||n++;s=i}while(s);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var s=e.data;if("$"===s||"$!"===s||"$?"===s){if(0===t)return e;t--}else"/$"===s&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),ui="__reactFiber$"+hi,mi="__reactProps$"+hi,pi="__reactContainer$"+hi,fi="__reactEvents$"+hi,gi="__reactListeners$"+hi,xi="__reactHandles$"+hi;function vi(e){var t=e[ui];if(t)return t;for(var s=e.parentNode;s;){if(t=s[pi]||s[ui]){if(s=t.alternate,null!==t.child||null!==s&&null!==s.child)for(e=di(e);null!==e;){if(s=e[ui])return s;e=di(e)}return t}s=(e=s).parentNode}return null}function bi(e){return!(e=e[ui]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function wi(e){return e[mi]||null}var ji=[],Ni=-1;function ki(e){return{current:e}}function Si(e){0>Ni||(e.current=ji[Ni],ji[Ni]=null,Ni--)}function Ai(e,t){Ni++,ji[Ni]=e.current,e.current=t}var _i={},Ci=ki(_i),Ei=ki(!1),Mi=_i;function Pi(e,t){var s=e.type.contextTypes;if(!s)return _i;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in s)r[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ti(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ei),Si(Ci)}function Di(e,t,s){if(Ci.current!==_i)throw Error(r(168));Ai(Ci,t),Ai(Ei,s)}function Li(e,t,s){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return s;for(var i in n=n.getChildContext())if(!(i in t))throw Error(r(108,H(e)||"Unknown",i));return F({},s,n)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Mi=Ci.current,Ai(Ci,e),Ai(Ei,Ei.current),!0}function Fi(e,t,s){var n=e.stateNode;if(!n)throw Error(r(169));s?(e=Li(e,t,Mi),n.__reactInternalMemoizedMergedChildContext=e,Si(Ei),Si(Ci),Ai(Ci,e)):Si(Ei),Ai(Ei,s)}var Oi=null,Bi=!1,Wi=!1;function zi(e){null===Oi?Oi=[e]:Oi.push(e)}function Ui(){if(!Wi&&null!==Oi){Wi=!0;var e=0,t=bt;try{var s=Oi;for(bt=1;e<s.length;e++){var n=s[e];do{n=n(!0)}while(null!==n)}Oi=null,Bi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Xe(Ze,Ui),i}finally{bt=t,Wi=!1}}return null}var Hi=[],Vi=0,Gi=null,qi=0,Xi=[],Yi=0,Ki=null,Ji=1,Qi="";function $i(e,t){Hi[Vi++]=qi,Hi[Vi++]=Gi,Gi=e,qi=t}function Zi(e,t,s){Xi[Yi++]=Ji,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Ki=e;var n=Ji;e=Qi;var i=32-at(n)-1;n&=~(1<<i),s+=1;var r=32-at(t)+i;if(30<r){var a=i-i%5;r=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ji=1<<32-at(t)+i|s<<i|n,Qi=r+e}else Ji=1<<r|s<<i|n,Qi=e}function er(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function tr(e){for(;e===Gi;)Gi=Hi[--Vi],Hi[Vi]=null,qi=Hi[--Vi],Hi[Vi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,Qi=Xi[--Yi],Xi[Yi]=null,Ji=Xi[--Yi],Xi[Yi]=null}var sr=null,nr=null,ir=!1,rr=null;function ar(e,t){var s=Pc(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,null===(t=e.deletions)?(e.deletions=[s],e.flags|=16):t.push(s)}function or(e,t){switch(e.tag){case 5:var s=e.type;return null!==(t=1!==t.nodeType||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,sr=e,nr=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,sr=e,nr=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(s=null!==Ki?{id:Ji,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},(s=Pc(18,null,null,0)).stateNode=t,s.return=e,e.child=s,sr=e,nr=null,!0);default:return!1}}function lr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cr(e){if(ir){var t=nr;if(t){var s=t;if(!or(e,t)){if(lr(e))throw Error(r(418));t=ci(s.nextSibling);var n=sr;t&&or(e,t)?ar(n,s):(e.flags=-4097&e.flags|2,ir=!1,sr=e)}}else{if(lr(e))throw Error(r(418));e.flags=-4097&e.flags|2,ir=!1,sr=e}}}function dr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;sr=e}function hr(e){if(e!==sr)return!1;if(!ir)return dr(e),ir=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!si(e.type,e.memoizedProps)),t&&(t=nr)){if(lr(e))throw ur(),Error(r(418));for(;t;)ar(e,t),t=ci(t.nextSibling)}if(dr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var s=e.data;if("/$"===s){if(0===t){nr=ci(e.nextSibling);break e}t--}else"$"!==s&&"$!"!==s&&"$?"!==s||t++}e=e.nextSibling}nr=null}}else nr=sr?ci(e.stateNode.nextSibling):null;return!0}function ur(){for(var e=nr;e;)e=ci(e.nextSibling)}function mr(){nr=sr=null,ir=!1}function pr(e){null===rr?rr=[e]:rr.push(e)}var fr=y.ReactCurrentBatchConfig;function gr(e,t,s){if(null!==(e=s.ref)&&"function"!==typeof e&&"object"!==typeof e){if(s._owner){if(s=s._owner){if(1!==s.tag)throw Error(r(309));var n=s.stateNode}if(!n)throw Error(r(147,e));var i=n,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function xr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vr(e){return(0,e._init)(e._payload)}function br(e){function t(t,s){if(e){var n=t.deletions;null===n?(t.deletions=[s],t.flags|=16):n.push(s)}}function s(s,n){if(!e)return null;for(;null!==n;)t(s,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,s,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<s?(t.flags|=2,s):n:(t.flags|=2,s):(t.flags|=1048576,s)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,s,n){return null===t||6!==t.tag?((t=Fc(s,e.mode,n)).return=e,t):((t=i(t,s)).return=e,t)}function c(e,t,s,n){var r=s.type;return r===N?h(e,t,s.props.children,n,s.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===T&&vr(r)===t.type)?((n=i(t,s.props)).ref=gr(e,t,s),n.return=e,n):((n=Dc(s.type,s.key,s.props,null,e.mode,n)).ref=gr(e,t,s),n.return=e,n)}function d(e,t,s,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==s.containerInfo||t.stateNode.implementation!==s.implementation?((t=Oc(s,e.mode,n)).return=e,t):((t=i(t,s.children||[])).return=e,t)}function h(e,t,s,n,r){return null===t||7!==t.tag?((t=Lc(s,e.mode,n,r)).return=e,t):((t=i(t,s)).return=e,t)}function u(e,t,s){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,s)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(s=Dc(t.type,t.key,t.props,null,e.mode,s)).ref=gr(e,null,t),s.return=e,s;case j:return(t=Oc(t,e.mode,s)).return=e,t;case T:return u(e,(0,t._init)(t._payload),s)}if(te(t)||L(t))return(t=Lc(t,e.mode,s,null)).return=e,t;xr(e,t)}return null}function m(e,t,s,n){var i=null!==t?t.key:null;if("string"===typeof s&&""!==s||"number"===typeof s)return null!==i?null:l(e,t,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return s.key===i?c(e,t,s,n):null;case j:return s.key===i?d(e,t,s,n):null;case T:return m(e,t,(i=s._init)(s._payload),n)}if(te(s)||L(s))return null!==i?null:h(e,t,s,n,null);xr(e,s)}return null}function p(e,t,s,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(s)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?s:n.key)||null,n,i);case j:return d(t,e=e.get(null===n.key?s:n.key)||null,n,i);case T:return p(e,t,s,(0,n._init)(n._payload),i)}if(te(n)||L(n))return h(t,e=e.get(s)||null,n,i,null);xr(t,n)}return null}function f(i,r,o,l){for(var c=null,d=null,h=r,f=r=0,g=null;null!==h&&f<o.length;f++){h.index>f?(g=h,h=null):g=h.sibling;var x=m(i,h,o[f],l);if(null===x){null===h&&(h=g);break}e&&h&&null===x.alternate&&t(i,h),r=a(x,r,f),null===d?c=x:d.sibling=x,d=x,h=g}if(f===o.length)return s(i,h),ir&&$i(i,f),c;if(null===h){for(;f<o.length;f++)null!==(h=u(i,o[f],l))&&(r=a(h,r,f),null===d?c=h:d.sibling=h,d=h);return ir&&$i(i,f),c}for(h=n(i,h);f<o.length;f++)null!==(g=p(h,i,f,o[f],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),r=a(g,r,f),null===d?c=g:d.sibling=g,d=g);return e&&h.forEach(function(e){return t(i,e)}),ir&&$i(i,f),c}function g(i,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var h=d=null,f=o,g=o=0,x=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(x=f,f=null):x=f.sibling;var b=m(i,f,v.value,c);if(null===b){null===f&&(f=x);break}e&&f&&null===b.alternate&&t(i,f),o=a(b,o,g),null===h?d=b:h.sibling=b,h=b,f=x}if(v.done)return s(i,f),ir&&$i(i,g),d;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=u(i,v.value,c))&&(o=a(v,o,g),null===h?d=v:h.sibling=v,h=v);return ir&&$i(i,g),d}for(f=n(i,f);!v.done;g++,v=l.next())null!==(v=p(f,i,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?d=v:h.sibling=v,h=v);return e&&f.forEach(function(e){return t(i,e)}),ir&&$i(i,g),d}return function e(n,r,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,d=r;null!==d;){if(d.key===c){if((c=a.type)===N){if(7===d.tag){s(n,d.sibling),(r=i(d,a.props.children)).return=n,n=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&vr(c)===d.type){s(n,d.sibling),(r=i(d,a.props)).ref=gr(n,d,a),r.return=n,n=r;break e}s(n,d);break}t(n,d),d=d.sibling}a.type===N?((r=Lc(a.props.children,n.mode,l,a.key)).return=n,n=r):((l=Dc(a.type,a.key,a.props,null,n.mode,l)).ref=gr(n,r,a),l.return=n,n=l)}return o(n);case j:e:{for(d=a.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){s(n,r.sibling),(r=i(r,a.children||[])).return=n,n=r;break e}s(n,r);break}t(n,r),r=r.sibling}(r=Oc(a,n.mode,l)).return=n,n=r}return o(n);case T:return e(n,r,(d=a._init)(a._payload),l)}if(te(a))return f(n,r,a,l);if(L(a))return g(n,r,a,l);xr(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==r&&6===r.tag?(s(n,r.sibling),(r=i(r,a)).return=n,n=r):(s(n,r),(r=Fc(a,n.mode,l)).return=n,n=r),o(n)):s(n,r)}}var yr=br(!0),wr=br(!1),jr=ki(null),Nr=null,kr=null,Sr=null;function Ar(){Sr=kr=Nr=null}function _r(e){var t=jr.current;Si(jr),e._currentValue=t}function Cr(e,t,s){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===s)break;e=e.return}}function Er(e,t){Nr=e,Sr=kr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(Sr!==e)if(e={context:e,memoizedValue:t,next:null},null===kr){if(null===Nr)throw Error(r(308));kr=e,Nr.dependencies={lanes:0,firstContext:e}}else kr=kr.next=e;return t}var Pr=null;function Tr(e){null===Pr?Pr=[e]:Pr.push(e)}function Rr(e,t,s,n){var i=t.interleaved;return null===i?(s.next=s,Tr(t)):(s.next=i.next,i.next=s),t.interleaved=s,Dr(e,n)}function Dr(e,t){e.lanes|=t;var s=e.alternate;for(null!==s&&(s.lanes|=t),s=e,e=e.return;null!==e;)e.childLanes|=t,null!==(s=e.alternate)&&(s.childLanes|=t),s=e,e=e.return;return 3===s.tag?s.stateNode:null}var Lr=!1;function Ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Br(e,t,s){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Cl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Dr(e,s)}return null===(i=n.interleaved)?(t.next=t,Tr(n)):(t.next=i.next,i.next=t),n.interleaved=t,Dr(e,s)}function Wr(e,t,s){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&s))){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,vt(e,s)}}function zr(e,t){var s=e.updateQueue,n=e.alternate;if(null!==n&&s===(n=n.updateQueue)){var i=null,r=null;if(null!==(s=s.firstBaseUpdate)){do{var a={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};null===r?i=r=a:r=r.next=a,s=s.next}while(null!==s);null===r?i=r=t:r=r.next=t}else i=r=t;return s={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:n.shared,effects:n.effects},void(e.updateQueue=s)}null===(e=s.lastBaseUpdate)?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function Ur(e,t,s,n){var i=e.updateQueue;Lr=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?r=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==r){var h=i.baseState;for(a=0,d=c=l=null,o=r;;){var u=o.lane,m=o.eventTime;if((n&u)===u){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(u=t,m=s,f.tag){case 1:if("function"===typeof(p=f.payload)){h=p.call(m,h,u);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(u="function"===typeof(p=f.payload)?p.call(m,h,u):p)||void 0===u)break e;h=F({},h,u);break e;case 2:Lr=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(u=i.effects)?i.effects=[o]:u.push(o))}else m={eventTime:m,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=h):d=d.next=m,a|=u;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(u=o).next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}if(null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===r&&(i.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=h}}function Hr(e,t,s){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=s,"function"!==typeof i)throw Error(r(191,i));i.call(n)}}}var Vr={},Gr=ki(Vr),qr=ki(Vr),Xr=ki(Vr);function Yr(e){if(e===Vr)throw Error(r(174));return e}function Kr(e,t){switch(Ai(Xr,t),Ai(qr,e),Ai(Gr,Vr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Gr),Ai(Gr,t)}function Jr(){Si(Gr),Si(qr),Si(Xr)}function Qr(e){Yr(Xr.current);var t=Yr(Gr.current),s=le(t,e.type);t!==s&&(Ai(qr,e),Ai(Gr,s))}function $r(e){qr.current===e&&(Si(Gr),Si(qr))}var Zr=ki(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var s=t.memoizedState;if(null!==s&&(null===(s=s.dehydrated)||"$?"===s.data||"$!"===s.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function sa(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var na=y.ReactCurrentDispatcher,ia=y.ReactCurrentBatchConfig,ra=0,aa=null,oa=null,la=null,ca=!1,da=!1,ha=0,ua=0;function ma(){throw Error(r(321))}function pa(e,t){if(null===t)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!on(e[s],t[s]))return!1;return!0}function fa(e,t,s,n,i,a){if(ra=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=null===e||null===e.memoizedState?$a:Za,e=s(n,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(r(301));a+=1,la=oa=null,t.updateQueue=null,na.current=eo,e=s(n,i)}while(da)}if(na.current=Qa,t=null!==oa&&null!==oa.next,ra=0,la=oa=aa=null,ca=!1,t)throw Error(r(300));return e}function ga(){var e=0!==ha;return ha=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(r(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function ya(e){var t=va(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=oa,i=n.baseQueue,a=s.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,s.pending=null}if(null!==i){a=i.next,n=n.baseState;var l=o=null,c=null,d=a;do{var h=d.lane;if((ra&h)===h)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=u,o=n):c=c.next=u,aa.lanes|=h,Il|=h}d=d.next}while(null!==d&&d!==a);null===c?o=n:c.next=l,on(n,t.memoizedState)||(bo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,s.lastRenderedState=n}if(null!==(e=s.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Il|=a,i=i.next}while(i!==e)}else null===i&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function wa(e){var t=va(),s=t.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=e;var n=s.dispatch,i=s.pending,a=t.memoizedState;if(null!==i){s.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);on(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),s.lastRenderedState=a}return[a,n]}function ja(){}function Na(e,t){var s=aa,n=va(),i=t(),a=!on(n.memoizedState,i);if(a&&(n.memoizedState=i,bo=!0),n=n.queue,La(Aa.bind(null,s,n,e),[e]),n.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(s.flags|=2048,Ma(9,Sa.bind(null,s,n,i,t),void 0,null),null===El)throw Error(r(349));0!==(30&ra)||ka(s,t,i)}return i}function ka(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(s=t.stores)?t.stores=[e]:s.push(e)}function Sa(e,t,s,n){t.value=s,t.getSnapshot=n,_a(t)&&Ca(e)}function Aa(e,t,s){return s(function(){_a(t)&&Ca(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!on(e,s)}catch(n){return!0}}function Ca(e){var t=Dr(e,1);null!==t&&sc(t,e,1,-1)}function Ea(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,aa,e),[t.memoizedState,e]}function Ma(e,t,s,n){return e={tag:e,create:t,destroy:s,deps:n,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(s=t.lastEffect)?t.lastEffect=e.next=e:(n=s.next,s.next=e,e.next=n,t.lastEffect=e),e}function Pa(){return va().memoizedState}function Ta(e,t,s,n){var i=xa();aa.flags|=e,i.memoizedState=Ma(1|t,s,void 0,void 0===n?null:n)}function Ra(e,t,s,n){var i=va();n=void 0===n?null:n;var r=void 0;if(null!==oa){var a=oa.memoizedState;if(r=a.destroy,null!==n&&pa(n,a.deps))return void(i.memoizedState=Ma(t,s,r,n))}aa.flags|=e,i.memoizedState=Ma(1|t,s,r,n)}function Da(e,t){return Ta(8390656,8,e,t)}function La(e,t){return Ra(2048,8,e,t)}function Ia(e,t){return Ra(4,2,e,t)}function Fa(e,t){return Ra(4,4,e,t)}function Oa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ra(4,4,Oa.bind(null,t,e),s)}function Wa(){}function za(e,t){var s=va();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&pa(t,n[1])?n[0]:(s.memoizedState=[e,t],e)}function Ua(e,t){var s=va();t=void 0===t?null:t;var n=s.memoizedState;return null!==n&&null!==t&&pa(t,n[1])?n[0]:(e=e(),s.memoizedState=[e,t],e)}function Ha(e,t,s){return 0===(21&ra)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=s):(on(s,t)||(s=ft(),aa.lanes|=s,Il|=s,e.baseState=!0),t)}function Va(e,t){var s=bt;bt=0!==s&&4>s?s:4,e(!0);var n=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=s,ia.transition=n}}function Ga(){return va().memoizedState}function qa(e,t,s){var n=tc(e);if(s={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ka(t,s);else if(null!==(s=Rr(e,t,s,n))){sc(s,e,n,ec()),Ja(s,t,n)}}function Xa(e,t,s){var n=tc(e),i={lane:n,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ka(t,i);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=r(a,s);if(i.hasEagerState=!0,i.eagerState=o,on(o,a)){var l=t.interleaved;return null===l?(i.next=i,Tr(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(s=Rr(e,t,i,n))&&(sc(s,e,n,i=ec()),Ja(s,t,n))}}function Ya(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ka(e,t){da=ca=!0;var s=e.pending;null===s?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function Ja(e,t,s){if(0!==(4194240&s)){var n=t.lanes;s|=n&=e.pendingLanes,t.lanes=s,vt(e,s)}}var Qa={readContext:Mr,useCallback:ma,useContext:ma,useEffect:ma,useImperativeHandle:ma,useInsertionEffect:ma,useLayoutEffect:ma,useMemo:ma,useReducer:ma,useRef:ma,useState:ma,useDebugValue:ma,useDeferredValue:ma,useTransition:ma,useMutableSource:ma,useSyncExternalStore:ma,useId:ma,unstable_isNewReconciler:!1},$a={readContext:Mr,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:Da,useImperativeHandle:function(e,t,s){return s=null!==s&&void 0!==s?s.concat([e]):null,Ta(4194308,4,Oa.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Ta(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ta(4,2,e,t)},useMemo:function(e,t){var s=xa();return t=void 0===t?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var n=xa();return t=void 0!==s?s(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qa.bind(null,aa,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ea,useDebugValue:Wa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ea(!1),t=e[0];return e=Va.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var n=aa,i=xa();if(ir){if(void 0===s)throw Error(r(407));s=s()}else{if(s=t(),null===El)throw Error(r(349));0!==(30&ra)||ka(n,t,s)}i.memoizedState=s;var a={value:s,getSnapshot:t};return i.queue=a,Da(Aa.bind(null,n,a,e),[e]),n.flags|=2048,Ma(9,Sa.bind(null,n,a,s,t),void 0,null),s},useId:function(){var e=xa(),t=El.identifierPrefix;if(ir){var s=Qi;t=":"+t+"R"+(s=(Ji&~(1<<32-at(Ji)-1)).toString(32)+s),0<(s=ha++)&&(t+="H"+s.toString(32)),t+=":"}else t=":"+t+"r"+(s=ua++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Mr,useCallback:za,useContext:Mr,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Ia,useLayoutEffect:Fa,useMemo:Ua,useReducer:ya,useRef:Pa,useState:function(){return ya(ba)},useDebugValue:Wa,useDeferredValue:function(e){return Ha(va(),oa.memoizedState,e)},useTransition:function(){return[ya(ba)[0],va().memoizedState]},useMutableSource:ja,useSyncExternalStore:Na,useId:Ga,unstable_isNewReconciler:!1},eo={readContext:Mr,useCallback:za,useContext:Mr,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Ia,useLayoutEffect:Fa,useMemo:Ua,useReducer:wa,useRef:Pa,useState:function(){return wa(ba)},useDebugValue:Wa,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],va().memoizedState]},useMutableSource:ja,useSyncExternalStore:Na,useId:Ga,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var s in t=F({},t),e=e.defaultProps)void 0===t[s]&&(t[s]=e[s]);return t}return t}function so(e,t,s,n){s=null===(s=s(n,t=e.memoizedState))||void 0===s?t:F({},t,s),e.memoizedState=s,0===e.lanes&&(e.updateQueue.baseState=s)}var no={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,s){e=e._reactInternals;var n=ec(),i=tc(e),r=Or(n,i);r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Br(e,r,i))&&(sc(t,e,i,n),Wr(t,e,i))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var n=ec(),i=tc(e),r=Or(n,i);r.tag=1,r.payload=t,void 0!==s&&null!==s&&(r.callback=s),null!==(t=Br(e,r,i))&&(sc(t,e,i,n),Wr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=ec(),n=tc(e),i=Or(s,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Br(e,i,n))&&(sc(t,e,n,s),Wr(t,e,n))}};function io(e,t,s,n,i,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!ln(s,n)||!ln(i,r))}function ro(e,t,s){var n=!1,i=_i,r=t.contextType;return"object"===typeof r&&null!==r?r=Mr(r):(i=Ti(t)?Mi:Ci.current,r=(n=null!==(n=t.contextTypes)&&void 0!==n)?Pi(e,i):_i),t=new t(s,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=no,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function ao(e,t,s,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(s,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(s,n),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t,s,n){var i=e.stateNode;i.props=s,i.state=e.memoizedState,i.refs={},Ir(e);var r=t.contextType;"object"===typeof r&&null!==r?i.context=Mr(r):(r=Ti(t)?Mi:Ci.current,i.context=Pi(e,r)),i.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(so(e,t,r,s),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&no.enqueueReplaceState(i,i.state,null),Ur(e,s,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var s="",n=t;do{s+=z(n),n=n.return}while(n);var i=s}catch(r){i="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,s){return{value:e,source:null,stack:null!=s?s:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var uo="function"===typeof WeakMap?WeakMap:Map;function mo(e,t,s){(s=Or(-1,s)).tag=3,s.payload={element:null};var n=t.value;return s.callback=function(){Vl||(Vl=!0,Gl=n),ho(0,t)},s}function po(e,t,s){(s=Or(-1,s)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;s.payload=function(){return n(i)},s.callback=function(){ho(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(s.callback=function(){ho(0,t),"function"!==typeof n&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),s}function fo(e,t,s){var n=e.pingCache;if(null===n){n=e.pingCache=new uo;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(s)||(i.add(s),e=Sc.bind(null,e,t,s),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,s,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,1===s.tag&&(null===s.alternate?s.tag=17:((t=Or(-1,1)).tag=2,Br(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=y.ReactCurrentOwner,bo=!1;function yo(e,t,s,n){t.child=null===e?wr(t,null,s,n):yr(t,e.child,s,n)}function wo(e,t,s,n,i){s=s.render;var r=t.ref;return Er(t,i),n=fa(e,t,s,n,r,i),s=ga(),null===e||bo?(ir&&s&&er(t),t.flags|=1,yo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function jo(e,t,s,n,i){if(null===e){var r=s.type;return"function"!==typeof r||Tc(r)||void 0!==r.defaultProps||null!==s.compare||void 0!==s.defaultProps?((e=Dc(s.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,No(e,t,r,n,i))}if(r=e.child,0===(e.lanes&i)){var a=r.memoizedProps;if((s=null!==(s=s.compare)?s:ln)(a,n)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Rc(r,n)).ref=t.ref,e.return=t,t.child=e}function No(e,t,s,n,i){if(null!==e){var r=e.memoizedProps;if(ln(r,n)&&e.ref===t.ref){if(bo=!1,t.pendingProps=n=r,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Ao(e,t,s,n,i)}function ko(e,t,s){var n=t.pendingProps,i=n.children,r=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Rl,Tl),Tl|=s;else{if(0===(1073741824&s))return e=null!==r?r.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Rl,Tl),Tl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==r?r.baseLanes:s,Ai(Rl,Tl),Tl|=n}else null!==r?(n=r.baseLanes|s,t.memoizedState=null):n=s,Ai(Rl,Tl),Tl|=n;return yo(e,t,i,s),t.child}function So(e,t){var s=t.ref;(null===e&&null!==s||null!==e&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,s,n,i){var r=Ti(s)?Mi:Ci.current;return r=Pi(t,r),Er(t,i),s=fa(e,t,s,n,r,i),n=ga(),null===e||bo?(ir&&n&&er(t),t.flags|=1,yo(e,t,s,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function _o(e,t,s,n,i){if(Ti(s)){var r=!0;Ii(t)}else r=!1;if(Er(t,i),null===t.stateNode)Ho(e,t),ro(t,s,n),oo(t,s,n,i),n=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=s.contextType;"object"===typeof c&&null!==c?c=Mr(c):c=Pi(t,c=Ti(s)?Mi:Ci.current);var d=s.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==n||l!==c)&&ao(t,a,n,c),Lr=!1;var u=t.memoizedState;a.state=u,Ur(t,n,a,i),l=t.memoizedState,o!==n||u!==l||Ei.current||Lr?("function"===typeof d&&(so(t,s,d,n),l=t.memoizedState),(o=Lr||io(t,s,o,n,u,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Fr(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,u=a.context,"object"===typeof(l=s.contextType)&&null!==l?l=Mr(l):l=Pi(t,l=Ti(s)?Mi:Ci.current);var m=s.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||u!==l)&&ao(t,a,n,l),Lr=!1,u=t.memoizedState,a.state=u,Ur(t,n,a,i);var p=t.memoizedState;o!==h||u!==p||Ei.current||Lr?("function"===typeof m&&(so(t,s,m,n),p=t.memoizedState),(c=Lr||io(t,s,c,n,u,p,l)||!1)?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),n=!1)}return Co(e,t,s,n,r,i)}function Co(e,t,s,n,i,r){So(e,t);var a=0!==(128&t.flags);if(!n&&!a)return i&&Fi(t,s,!1),Vo(e,t,r);n=t.stateNode,vo.current=t;var o=a&&"function"!==typeof s.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=yr(t,e.child,null,r),t.child=yr(t,null,o,r)):yo(e,t,o,r),t.memoizedState=n.state,i&&Fi(t,s,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Kr(e,t.containerInfo)}function Mo(e,t,s,n,i){return mr(),pr(i),t.flags|=256,yo(e,t,s,n),t.child}var Po,To,Ro,Do,Lo={dehydrated:null,treeContext:null,retryLane:0};function Io(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,s){var n,i=t.pendingProps,a=Zr.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&a)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ai(Zr,1&a),null===e)return cr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Ic(l,i,0,null),e=Lc(e,i,s,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Io(s),t.memoizedState=Lo,e):Oo(t,l));if(null!==(a=e.memoizedState)&&null!==(n=a.dehydrated))return function(e,t,s,n,i,a,o){if(s)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,n=co(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Ic({mode:"visible",children:n.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,0!==(1&t.mode)&&yr(t,e.child,null,o),t.child.memoizedState=Io(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Bo(e,t,o,n=co(a=Error(r(419)),n,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(n=El)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Dr(e,i),sc(n,e,i,-1))}return fc(),Bo(e,t,o,n=co(Error(r(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,nr=ci(i.nextSibling),sr=t,ir=!0,rr=null,null!==e&&(Xi[Yi++]=Ji,Xi[Yi++]=Qi,Xi[Yi++]=Ki,Ji=e.id,Qi=e.overflow,Ki=t),t=Oo(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,a,s);if(o){o=i.fallback,l=t.mode,n=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==n?o=Rc(n,o):(o=Lc(o,l,s,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Io(s):{baseLanes:l.baseLanes|s,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~s,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=s),i.return=t,i.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=i,t.memoizedState=null,i}function Oo(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,s,n){return null!==n&&pr(n),yr(t,e.child,null,s),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,s){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Cr(e.return,t,s)}function zo(e,t,s,n,i){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:s,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=s,r.tailMode=i)}function Uo(e,t,s){var n=t.pendingProps,i=n.revealOrder,r=n.tail;if(yo(e,t,n.children,s),0!==(2&(n=Zr.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,s,t);else if(19===e.tag)Wo(e,s,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ai(Zr,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(s=t.child,i=null;null!==s;)null!==(e=s.alternate)&&null===ea(e)&&(i=s),s=s.sibling;null===(s=i)?(i=t.child,t.child=null):(i=s.sibling,s.sibling=null),zo(t,!1,i,s,r);break;case"backwards":for(s=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=s,s=i,i=e}zo(t,!0,s,null,r);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,s){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(s&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(s=Rc(e=t.child,e.pendingProps),t.child=s,s.return=t;null!==e.sibling;)e=e.sibling,(s=s.sibling=Rc(e,e.pendingProps)).return=t;s.sibling=null}return t.child}function Go(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;null!==t;)null!==t.alternate&&(s=t),t=t.sibling;null===s?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var n=null;null!==s;)null!==s.alternate&&(n=s),s=s.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,s=0,n=0;if(t)for(var i=e.child;null!==i;)s|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)s|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=s,t}function Xo(e,t,s){var n=t.pendingProps;switch(tr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Ti(t.type)&&Ri(),qo(t),null;case 3:return n=t.stateNode,Jr(),Si(Ei),Si(Ci),sa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==rr&&(ac(rr),rr=null))),To(e,t),qo(t),null;case 5:$r(t);var i=Yr(Xr.current);if(s=t.type,null!==e&&null!=t.stateNode)Ro(e,t,s,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(r(166));return qo(t),null}if(e=Yr(Gr.current),hr(t)){n=t.stateNode,s=t.type;var a=t.memoizedProps;switch(n[ui]=t,n[mi]=a,e=0!==(1&t.mode),s){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(i=0;i<Ln.length;i++)Bn(Ln[i],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":J(n,a),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",n);break;case"textarea":ie(n,a),Bn("invalid",n)}for(var l in ve(s,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==a.suppressHydrationWarning&&$n(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$n(n.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Bn("scroll",n)}switch(s){case"input":q(n),Z(n,a,!0);break;case"textarea":q(n),ae(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Zn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(s)),"http://www.w3.org/1999/xhtml"===e?"script"===s?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(s,{is:n.is}):(e=l.createElement(s),"select"===s&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,s),e[ui]=t,e[mi]=n,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(s,n),s){case"dialog":Bn("cancel",e),Bn("close",e),i=n;break;case"iframe":case"object":case"embed":Bn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ln.length;i++)Bn(Ln[i],e);i=n;break;case"source":Bn("error",e),i=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=n;break;case"details":Bn("toggle",e),i=n;break;case"input":J(e,n),i=K(e,n),Bn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=F({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Bn("invalid",e)}for(a in ve(s,i),c=i)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?ge(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&he(e,d):"children"===a?"string"===typeof d?("textarea"!==s||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Bn("scroll",e):null!=d&&b(e,a,d,l))}switch(s){case"input":q(e),Z(e,n,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?se(e,!!n.multiple,a,!1):null!=n.defaultValue&&se(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zn)}switch(s){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(r(166));if(s=Yr(Xr.current),Yr(Gr.current),hr(t)){if(n=t.stateNode,s=t.memoizedProps,n[ui]=t,(a=n.nodeValue!==s)&&null!==(e=sr))switch(e.tag){case 3:$n(n.nodeValue,s,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$n(n.nodeValue,s,0!==(1&e.mode))}a&&(t.flags|=4)}else(n=(9===s.nodeType?s:s.ownerDocument).createTextNode(n))[ui]=t,t.stateNode=n}return qo(t),null;case 13:if(Si(Zr),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ir&&null!==nr&&0!==(1&t.mode)&&0===(128&t.flags))ur(),mr(),t.flags|=98560,a=!1;else if(a=hr(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(r(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(r(317));a[ui]=t}else mr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),a=!1}else null!==rr&&(ac(rr),rr=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=s,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zr.current)?0===Dl&&(Dl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Jr(),To(e,t),null===e&&Un(t.stateNode.containerInfo),qo(t),null;case 10:return _r(t.type._context),qo(t),null;case 19:if(Si(Zr),null===(a=t.memoizedState))return qo(t),null;if(n=0!==(128&t.flags),null===(l=a.rendering))if(n)Go(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Go(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=s,s=t.child;null!==s;)e=n,(a=s).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ai(Zr,1&Zr.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Go(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ea(l))){if(t.flags|=128,n=!0,null!==(s=e.updateQueue)&&(t.updateQueue=s,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ir)return qo(t),null}else 2*Qe()-a.renderingStartTime>Ul&&1073741824!==s&&(t.flags|=128,n=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(s=a.last)?s.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,s=Zr.current,Ai(Zr,n?1&s|2:1&s),t):(qo(t),null);case 22:case 23:return hc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Tl)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Yo(e,t){switch(tr(t),t.tag){case 1:return Ti(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jr(),Si(Ei),Si(Ci),sa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $r(t),null;case 13:if(Si(Zr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));mr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Zr),null;case 4:return Jr(),null;case 10:return _r(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break;for(;null===s.sibling;){if(null===s.return||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},To=function(){},Ro=function(e,t,s,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Yr(Gr.current);var r,a=null;switch(s){case"input":i=K(e,i),n=K(e,n),a=[];break;case"select":i=F({},i,{value:void 0}),n=F({},n,{value:void 0}),a=[];break;case"textarea":i=ne(e,i),n=ne(e,n),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ve(s,n),s=null,i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(r in l)l.hasOwnProperty(r)&&(s||(s={}),s[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=i?i[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(s||(s={}),s[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(s||(s={}),s[r]=c[r])}else s||(a||(a=[]),a.push(d,s)),s=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Bn("scroll",e),a||l===c||(a=[])):(a=a||[]).push(d,c))}s&&(a=a||[]).push("style",s);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Do=function(e,t,s,n){s!==n&&(t.flags|=4)};var Ko=!1,Jo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,$o=null;function Zo(e,t){var s=e.ref;if(null!==s)if("function"===typeof s)try{s(null)}catch(n){kc(e,t,n)}else s.current=null}function el(e,t,s){try{s()}catch(n){kc(e,t,n)}}var tl=!1;function sl(e,t,s){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,void 0!==r&&el(t,s,r)}i=i.next}while(i!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var s=t=t.next;do{if((s.tag&e)===e){var n=s.create;s.destroy=n()}s=s.next}while(s!==t)}}function il(e){var t=e.ref;if(null!==t){var s=e.stateNode;e.tag,e=s,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[mi],delete t[fi],delete t[gi],delete t[xi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===s.nodeType?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(8===s.nodeType?(t=s.parentNode).insertBefore(e,s):(t=s).appendChild(e),null!==(s=s._reactRootContainer)&&void 0!==s||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,s),e=e.sibling;null!==e;)ll(e,t,s),e=e.sibling}function cl(e,t,s){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,s),e=e.sibling;null!==e;)cl(e,t,s),e=e.sibling}var dl=null,hl=!1;function ul(e,t,s){for(s=s.child;null!==s;)ml(e,t,s),s=s.sibling}function ml(e,t,s){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(it,s)}catch(o){}switch(s.tag){case 5:Jo||Zo(s,t);case 6:var n=dl,i=hl;dl=null,ul(e,t,s),hl=i,null!==(dl=n)&&(hl?(e=dl,s=s.stateNode,8===e.nodeType?e.parentNode.removeChild(s):e.removeChild(s)):dl.removeChild(s.stateNode));break;case 18:null!==dl&&(hl?(e=dl,s=s.stateNode,8===e.nodeType?li(e.parentNode,s):1===e.nodeType&&li(e,s),Ut(e)):li(dl,s.stateNode));break;case 4:n=dl,i=hl,dl=s.stateNode.containerInfo,hl=!0,ul(e,t,s),dl=n,hl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(n=s.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var r=i,a=r.destroy;r=r.tag,void 0!==a&&(0!==(2&r)||0!==(4&r))&&el(s,t,a),i=i.next}while(i!==n)}ul(e,t,s);break;case 1:if(!Jo&&(Zo(s,t),"function"===typeof(n=s.stateNode).componentWillUnmount))try{n.props=s.memoizedProps,n.state=s.memoizedState,n.componentWillUnmount()}catch(o){kc(s,t,o)}ul(e,t,s);break;case 21:ul(e,t,s);break;case 22:1&s.mode?(Jo=(n=Jo)||null!==s.memoizedState,ul(e,t,s),Jo=n):ul(e,t,s);break;default:ul(e,t,s)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var s=e.stateNode;null===s&&(s=e.stateNode=new Qo),t.forEach(function(t){var n=Cc.bind(null,e,t);s.has(t)||(s.add(t),t.then(n,n))})}}function fl(e,t){var s=t.deletions;if(null!==s)for(var n=0;n<s.length;n++){var i=s[n];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(r(160));ml(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){kc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var s=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),xl(e),4&n){try{sl(3,e,e.return),nl(3,e)}catch(g){kc(e,e.return,g)}try{sl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:fl(t,e),xl(e),512&n&&null!==s&&Zo(s,s.return);break;case 5:if(fl(t,e),xl(e),512&n&&null!==s&&Zo(s,s.return),32&e.flags){var i=e.stateNode;try{ue(i,"")}catch(g){kc(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==s?s.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(i,a),be(l,o);var d=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];"style"===h?ge(i,u):"dangerouslySetInnerHTML"===h?he(i,u):"children"===h?ue(i,u):b(i,h,u,d)}switch(l){case"input":$(i,a);break;case"textarea":re(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?se(i,!!a.multiple,p,!1):m!==!!a.multiple&&(null!=a.defaultValue?se(i,!!a.multiple,a.defaultValue,!0):se(i,!!a.multiple,a.multiple?[]:"",!1))}i[mi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(fl(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(r(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(fl(t,e),xl(e),4&n&&null!==s&&s.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:fl(t,e),xl(e);break;case 13:fl(t,e),xl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Qe())),4&n&&pl(e);break;case 22:if(h=null!==s&&null!==s.memoizedState,1&e.mode?(Jo=(d=Jo)||h,fl(t,e),Jo=d):fl(t,e),xl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!h&&0!==(1&e.mode))for($o=e,h=e.child;null!==h;){for(u=$o=h;null!==$o;){switch(p=(m=$o).child,m.tag){case 0:case 11:case 14:case 15:sl(4,m,m.return);break;case 1:Zo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){n=m,s=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(n,s,g)}}break;case 5:Zo(m,m.return);break;case 22:if(null!==m.memoizedState){wl(u);continue}}null!==p?(p.return=m,$o=p):wl(u)}h=h.sibling}e:for(h=null,u=e;;){if(5===u.tag){if(null===h){h=u;try{i=u.stateNode,d?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=u.stateNode,o=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===u.tag){if(null===h)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:fl(t,e),xl(e),4&n&&pl(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var s=e.return;null!==s;){if(al(s)){var n=s;break e}s=s.return}throw Error(r(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(ue(i,""),n.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(r(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,s){$o=e,bl(e,t,s)}function bl(e,t,s){for(var n=0!==(1&e.mode);null!==$o;){var i=$o,r=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||Ko;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Ko;var c=Jo;if(Ko=a,(Jo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?jl(i):null!==l?(l.return=a,$o=l):jl(i);for(;null!==r;)$o=r,bl(r,t,s),r=r.sibling;$o=i,Ko=o,Jo=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==r?(r.return=i,$o=r):yl(e)}}function yl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var s=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Jo)if(null===s)n.componentDidMount();else{var i=t.elementType===t.type?s.memoizedProps:to(t.type,s.memoizedProps);n.componentDidUpdate(i,s.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hr(t,a,n);break;case 3:var o=t.updateQueue;if(null!==o){if(s=null,null!==t.child)switch(t.child.tag){case 5:case 1:s=t.child.stateNode}Hr(t,o,s)}break;case 5:var l=t.stateNode;if(null===s&&4&t.flags){s=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&s.focus();break;case"img":c.src&&(s.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var h=d.memoizedState;if(null!==h){var u=h.dehydrated;null!==u&&Ut(u)}}}break;default:throw Error(r(163))}Jo||512&t.flags&&il(t)}catch(m){kc(t,t.return,m)}}if(t===e){$o=null;break}if(null!==(s=t.sibling)){s.return=t.return,$o=s;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$o=s;break}$o=t.return}}function jl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{nl(4,t)}catch(l){kc(t,s,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){kc(t,i,l)}}var r=t.return;try{il(t)}catch(l){kc(t,r,l)}break;case 5:var a=t.return;try{il(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Nl,kl=Math.ceil,Sl=y.ReactCurrentDispatcher,Al=y.ReactCurrentOwner,_l=y.ReactCurrentBatchConfig,Cl=0,El=null,Ml=null,Pl=0,Tl=0,Rl=ki(0),Dl=0,Ll=null,Il=0,Fl=0,Ol=0,Bl=null,Wl=null,zl=0,Ul=1/0,Hl=null,Vl=!1,Gl=null,ql=null,Xl=!1,Yl=null,Kl=0,Jl=0,Ql=null,$l=-1,Zl=0;function ec(){return 0!==(6&Cl)?Qe():-1!==$l?$l:$l=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==fr.transition?(0===Zl&&(Zl=ft()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function sc(e,t,s,n){if(50<Jl)throw Jl=0,Ql=null,Error(r(185));xt(e,s,n),0!==(2&Cl)&&e===El||(e===El&&(0===(2&Cl)&&(Fl|=s),4===Dl&&oc(e,Pl)),nc(e,n),1===s&&0===Cl&&0===(1&t.mode)&&(Ul=Qe()+500,Bi&&Ui()))}function nc(e,t){var s=e.callbackNode;!function(e,t){for(var s=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var a=31-at(r),o=1<<a,l=i[a];-1===l?0!==(o&s)&&0===(o&n)||(i[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),r&=~o}}(e,t);var n=ut(e,e===El?Pl:0);if(0===n)null!==s&&Ye(s),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=s&&Ye(s),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),ai(function(){0===(6&Cl)&&Ui()}),s=null;else{switch(yt(n)){case 1:s=Ze;break;case 4:s=et;break;case 16:default:s=tt;break;case 536870912:s=nt}s=Ec(s,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function ic(e,t){if($l=-1,Zl=0,0!==(6&Cl))throw Error(r(327));var s=e.callbackNode;if(jc()&&e.callbackNode!==s)return null;var n=ut(e,e===El?Pl:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var i=Cl;Cl|=2;var a=pc();for(El===e&&Pl===t||(Hl=null,Ul=Qe()+500,uc(e,t));;)try{vc();break}catch(l){mc(e,l)}Ar(),Sl.current=a,Cl=i,null!==Ml?t=0:(El=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=rc(e,i))),1===t)throw s=Ll,uc(e,0),oc(e,n),nc(e,Qe()),s;if(6===t)oc(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var s=t.updateQueue;if(null!==s&&null!==(s=s.stores))for(var n=0;n<s.length;n++){var i=s[n],r=i.getSnapshot;i=i.value;try{if(!on(r(),i))return!1}catch(o){return!1}}}if(s=t.child,16384&t.subtreeFlags&&null!==s)s.return=t,t=s;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,n))&&(0!==(a=pt(e))&&(n=a,t=rc(e,a))),1===t))throw s=Ll,uc(e,0),oc(e,n),nc(e,Qe()),s;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(r(345));case 2:case 5:wc(e,Wl,Hl);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=zl+500-Qe())){if(0!==ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(wc.bind(null,e,Wl,Hl),t);break}wc(e,Wl,Hl);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-at(n);a=1<<o,(o=t[o])>i&&(i=o),n&=~a}if(n=i,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kl(n/1960))-n)){e.timeoutHandle=ni(wc.bind(null,e,Wl,Hl),n);break}wc(e,Wl,Hl);break;default:throw Error(r(329))}}}return nc(e,Qe()),e.callbackNode===s?ic.bind(null,e):null}function rc(e,t){var s=Bl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Wl,Wl=s,null!==t&&ac(t)),e}function ac(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function oc(e,t){for(t&=~Ol,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-at(t),n=1<<s;e[s]=-1,t&=~n}}function lc(e){if(0!==(6&Cl))throw Error(r(327));jc();var t=ut(e,0);if(0===(1&t))return nc(e,Qe()),null;var s=gc(e,t);if(0!==e.tag&&2===s){var n=pt(e);0!==n&&(t=n,s=rc(e,n))}if(1===s)throw s=Ll,uc(e,0),oc(e,t),nc(e,Qe()),s;if(6===s)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Hl),nc(e,Qe()),null}function cc(e,t){var s=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=s)&&(Ul=Qe()+500,Bi&&Ui())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&jc();var t=Cl;Cl|=1;var s=_l.transition,n=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=n,_l.transition=s,0===(6&(Cl=t))&&Ui()}}function hc(){Tl=Rl.current,Si(Rl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(-1!==s&&(e.timeoutHandle=-1,ii(s)),null!==Ml)for(s=Ml.return;null!==s;){var n=s;switch(tr(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ri();break;case 3:Jr(),Si(Ei),Si(Ci),sa();break;case 5:$r(n);break;case 4:Jr();break;case 13:case 19:Si(Zr);break;case 10:_r(n.type._context);break;case 22:case 23:hc()}s=s.return}if(El=e,Ml=e=Rc(e.current,null),Pl=Tl=t,Dl=0,Ll=null,Ol=Fl=Il=0,Wl=Bl=null,null!==Pr){for(t=0;t<Pr.length;t++)if(null!==(n=(s=Pr[t]).interleaved)){s.interleaved=null;var i=n.next,r=s.pending;if(null!==r){var a=r.next;r.next=i,n.next=a}s.pending=n}Pr=null}return e}function mc(e,t){for(;;){var s=Ml;try{if(Ar(),na.current=Qa,ca){for(var n=aa.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}ca=!1}if(ra=0,la=oa=aa=null,da=!1,ha=0,Al.current=null,null===s||null===s.return){Dl=1,Ll=t,Ml=null;break}e:{var a=e,o=s.return,l=s,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,h=l,u=h.tag;if(0===(1&h.mode)&&(0===u||11===u||15===u)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&fo(a,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(a,d,t),fc();break e}c=Error(r(426))}else if(ir&&1&l.mode){var x=go(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),pr(lo(c,l));break e}}a=c=lo(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zr(a,mo(0,c,t));break e;case 1:l=c;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zr(a,po(a,l,t));break e}}a=a.return}while(null!==a)}yc(s)}catch(y){t=y,Ml===s&&null!==s&&(Ml=s=s.return);continue}break}}function pc(){var e=Sl.current;return Sl.current=Qa,null===e?Qa:e}function fc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===El||0===(268435455&Il)&&0===(268435455&Fl)||oc(El,Pl)}function gc(e,t){var s=Cl;Cl|=2;var n=pc();for(El===e&&Pl===t||(Hl=null,uc(e,t));;)try{xc();break}catch(i){mc(e,i)}if(Ar(),Cl=s,Sl.current=n,null!==Ml)throw Error(r(261));return El=null,Pl=0,Dl}function xc(){for(;null!==Ml;)bc(Ml)}function vc(){for(;null!==Ml&&!Ke();)bc(Ml)}function bc(e){var t=Nl(e.alternate,e,Tl);e.memoizedProps=e.pendingProps,null===t?yc(e):Ml=t,Al.current=null}function yc(e){var t=e;do{var s=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(s=Xo(s,t,Tl)))return void(Ml=s)}else{if(null!==(s=Yo(s,t)))return s.flags&=32767,void(Ml=s);if(null===e)return Dl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,s){var n=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,s,n){do{jc()}while(null!==Yl);if(0!==(6&Cl))throw Error(r(327));s=e.finishedWork;var i=e.finishedLanes;if(null===s)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var a=s.lanes|s.childLanes;if(function(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<s;){var i=31-at(s),r=1<<i;t[i]=0,n[i]=-1,e[i]=-1,s&=~r}}(e,a),e===El&&(Ml=El=null,Pl=0),0===(2064&s.subtreeFlags)&&0===(2064&s.flags)||Xl||(Xl=!0,Ec(tt,function(){return jc(),null})),a=0!==(15990&s.flags),0!==(15990&s.subtreeFlags)||a){a=_l.transition,_l.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Al.current=null,function(e,t){if(ei=Vt,mn(e=un())){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(s=(s=e.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(n&&0!==n.rangeCount){s=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{s.nodeType,a.nodeType}catch(w){s=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,m=null;t:for(;;){for(var p;u!==s||0!==i&&3!==u.nodeType||(l=o+i),u!==a||0!==n&&3!==u.nodeType||(c=o+n),3===u.nodeType&&(o+=u.nodeValue.length),null!==(p=u.firstChild);)m=u,u=p;for(;;){if(u===e)break t;if(m===s&&++d===i&&(l=o),m===a&&++h===n&&(c=o),null!==(p=u.nextSibling))break;m=(u=m).parentNode}u=p}s=-1===l||-1===c?null:{start:l,end:c}}else s=null}s=s||{start:0,end:0}}else s=null;for(ti={focusedElem:e,selectionRange:s},Vt=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,x=f.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(r(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}f=tl,tl=!1}(e,s),gl(s,e),pn(ti),Vt=!!ei,ti=ei=null,e.current=s,vl(s,e,i),Je(),Cl=l,bt=o,_l.transition=a}else e.current=s;if(Xl&&(Xl=!1,Yl=e,Kl=i),a=e.pendingLanes,0===a&&(ql=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(s.stateNode),nc(e,Qe()),null!==t)for(n=e.onRecoverableError,s=0;s<t.length;s++)i=t[s],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&jc(),a=e.pendingLanes,0!==(1&a)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,Ui()}(e,t,s,n)}finally{_l.transition=i,bt=n}return null}function jc(){if(null!==Yl){var e=yt(Kl),t=_l.transition,s=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Kl=0,0!==(6&Cl))throw Error(r(331));var i=Cl;for(Cl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for($o=d;null!==$o;){var h=$o;switch(h.tag){case 0:case 11:case 15:sl(8,h,a)}var u=h.child;if(null!==u)u.return=h,$o=u;else for(;null!==$o;){var m=(h=$o).sibling,p=h.return;if(rl(h),h===d){$o=null;break}if(null!==m){m.return=p,$o=m;break}$o=p}}}var f=a.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:sl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$o=v;break e}$o=a.return}}var b=e.current;for($o=b;null!==$o;){var y=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,$o=y;else e:for(o=b;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(j){kc(l,l.return,j)}if(l===o){$o=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,$o=w;break e}$o=l.return}}if(Cl=i,Ui(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(it,e)}catch(j){}n=!0}return n}finally{bt=s,_l.transition=t}}return!1}function Nc(e,t,s){e=Br(e,t=mo(0,t=lo(s,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function kc(e,t,s){if(3===e.tag)Nc(e,e,s);else for(;null!==t;){if(3===t.tag){Nc(t,e,s);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===ql||!ql.has(n))){t=Br(t,e=po(t,e=lo(s,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,s){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&s,El===e&&(Pl&s)===s&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Qe()-zl?uc(e,0):Ol|=s),nc(e,t)}function Ac(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var s=ec();null!==(e=Dr(e,t))&&(xt(e,t,s),nc(e,s))}function _c(e){var t=e.memoizedState,s=0;null!==t&&(s=t.retryLane),Ac(e,s)}function Cc(e,t){var s=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(s=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(r(314))}null!==n&&n.delete(t),Ac(e,s)}function Ec(e,t){return Xe(e,t)}function Mc(e,t,s,n){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,s,n){return new Mc(e,t,s,n)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var s=e.alternate;return null===s?((s=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=14680064&e.flags,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Dc(e,t,s,n,i,a){var o=2;if(n=e,"function"===typeof e)Tc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Lc(s.children,i,a,t);case k:o=8,i|=8;break;case S:return(e=Pc(12,s,t,2|i)).elementType=S,e.lanes=a,e;case E:return(e=Pc(13,s,t,i)).elementType=E,e.lanes=a,e;case M:return(e=Pc(19,s,t,i)).elementType=M,e.lanes=a,e;case R:return Ic(s,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:o=10;break e;case _:o=9;break e;case C:o=11;break e;case P:o=14;break e;case T:o=16,n=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Pc(o,s,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Lc(e,t,s,n){return(e=Pc(7,e,n,t)).lanes=s,e}function Ic(e,t,s,n){return(e=Pc(22,e,n,t)).elementType=R,e.lanes=s,e.stateNode={isHidden:!1},e}function Fc(e,t,s){return(e=Pc(6,e,null,t)).lanes=s,e}function Oc(e,t,s){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,s,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Wc(e,t,s,n,i,r,a,o,l){return e=new Bc(e,t,s,o,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Pc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:n,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ir(r),e}function zc(e){if(!e)return _i;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ti(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var s=e.type;if(Ti(s))return Li(e,s,t)}return t}function Uc(e,t,s,n,i,r,a,o,l){return(e=Wc(s,n,!0,e,0,r,0,o,l)).context=zc(null),s=e.current,(r=Or(n=ec(),i=tc(s))).callback=void 0!==t&&null!==t?t:null,Br(s,r,i),e.current.lanes=i,xt(e,i,n),nc(e,n),e}function Hc(e,t,s,n){var i=t.current,r=ec(),a=tc(i);return s=zc(s),null===t.context?t.context=s:t.pendingContext=s,(t=Or(r,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Br(i,t,a))&&(sc(e,i,a,r),Wr(e,i,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var s=e.retryLane;e.retryLane=0!==s&&s<t?s:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Nl=function(e,t,s){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)bo=!0;else{if(0===(e.lanes&s)&&0===(128&t.flags))return bo=!1,function(e,t,s){switch(t.tag){case 3:Eo(t),mr();break;case 5:Qr(t);break;case 1:Ti(t.type)&&Ii(t);break;case 4:Kr(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ai(jr,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ai(Zr,1&Zr.current),t.flags|=128,null):0!==(s&t.child.childLanes)?Fo(e,t,s):(Ai(Zr,1&Zr.current),null!==(e=Vo(e,t,s))?e.sibling:null);Ai(Zr,1&Zr.current);break;case 19:if(n=0!==(s&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,s);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(Zr,Zr.current),n)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,s)}return Vo(e,t,s)}(e,t,s);bo=0!==(131072&e.flags)}else bo=!1,ir&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ho(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Er(t,s),i=fa(null,t,n,e,i,s);var a=ga();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ti(n)?(a=!0,Ii(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ir(t),i.updater=no,t.stateNode=i,i._reactInternals=t,oo(t,n,e,s),t=Co(null,t,n,!0,a,s)):(t.tag=0,ir&&a&&er(t),yo(null,t,i,s),t=t.child),t;case 16:n=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(n),e=to(n,e),i){case 0:t=Ao(null,t,n,e,s);break e;case 1:t=_o(null,t,n,e,s);break e;case 11:t=wo(null,t,n,e,s);break e;case 14:t=jo(null,t,n,to(n.type,e),s);break e}throw Error(r(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ao(e,t,n,i=t.elementType===n?i:to(n,i),s);case 1:return n=t.type,i=t.pendingProps,_o(e,t,n,i=t.elementType===n?i:to(n,i),s);case 3:e:{if(Eo(t),null===e)throw Error(r(387));n=t.pendingProps,i=(a=t.memoizedState).element,Fr(e,t),Ur(t,n,null,s);var o=t.memoizedState;if(n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,n,s,i=lo(Error(r(423)),t));break e}if(n!==i){t=Mo(e,t,n,s,i=lo(Error(r(424)),t));break e}for(nr=ci(t.stateNode.containerInfo.firstChild),sr=t,ir=!0,rr=null,s=wr(t,null,n,s),t.child=s;s;)s.flags=-3&s.flags|4096,s=s.sibling}else{if(mr(),n===i){t=Vo(e,t,s);break e}yo(e,t,n,s)}t=t.child}return t;case 5:return Qr(t),null===e&&cr(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,si(n,i)?o=null:null!==a&&si(n,a)&&(t.flags|=32),So(e,t),yo(e,t,o,s),t.child;case 6:return null===e&&cr(t),null;case 13:return Fo(e,t,s);case 4:return Kr(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=yr(t,null,n,s):yo(e,t,n,s),t.child;case 11:return n=t.type,i=t.pendingProps,wo(e,t,n,i=t.elementType===n?i:to(n,i),s);case 7:return yo(e,t,t.pendingProps,s),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ai(jr,n._currentValue),n._currentValue=o,null!==a)if(on(a.value,o)){if(a.children===i.children&&!Ei.current){t=Vo(e,t,s);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===a.tag){(c=Or(-1,s&-s)).tag=2;var d=a.updateQueue;if(null!==d){var h=(d=d.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}a.lanes|=s,null!==(c=a.alternate)&&(c.lanes|=s),Cr(a.return,s,t),l.lanes|=s;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(r(341));o.lanes|=s,null!==(l=o.alternate)&&(l.lanes|=s),Cr(o,s,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}yo(e,t,i.children,s),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Er(t,s),n=n(i=Mr(i)),t.flags|=1,yo(e,t,n,s),t.child;case 14:return i=to(n=t.type,t.pendingProps),jo(e,t,n,i=to(n.type,i),s);case 15:return No(e,t,t.type,t.pendingProps,s);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:to(n,i),Ho(e,t),t.tag=1,Ti(n)?(e=!0,Ii(t)):e=!1,Er(t,s),ro(t,n,i),oo(t,n,i,s),Co(null,t,n,!0,e,s);case 19:return Uo(e,t,s);case 22:return ko(e,t,s)}throw Error(r(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Zc(e,t,s,n,i){var r=s._reactRootContainer;if(r){var a=r;if("function"===typeof i){var o=i;i=function(){var e=Vc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,s,n,i){if(i){if("function"===typeof n){var r=n;n=function(){var e=Vc(a);r.call(e)}}var a=Uc(t,n,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[pi]=a.current,Un(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var o=n;n=function(){var e=Vc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,Un(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,s,n)}),l}(s,t,e,i,n);return Vc(a)}Kc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Hc(e,t,null,null)},Kc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[pi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var s=0;s<Rt.length&&0!==t&&t<Rt[s].priority;s++);Rt.splice(s,0,e),0===s&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ht(t.pendingLanes);0!==s&&(vt(t,1|s),nc(t,Qe()),0===(6&Cl)&&(Ul=Qe()+500,Ui()))}break;case 13:dc(function(){var t=Dr(e,1);if(null!==t){var s=ec();sc(t,e,1,s)}}),qc(e,1)}},jt=function(e){if(13===e.tag){var t=Dr(e,134217728);if(null!==t)sc(t,e,134217728,ec());qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),s=Dr(e,t);if(null!==s)sc(s,e,t,ec());qc(e,t)}},kt=function(){return bt},St=function(e,t){var s=bt;try{return bt=e,t()}finally{bt=s}},je=function(e,t,s){switch(t){case"input":if($(e,s),t=s.name,"radio"===s.type&&null!=t){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var n=s[t];if(n!==e&&n.form===e.form){var i=wi(n);if(!i)throw Error(r(90));X(n),$(n,i)}}}break;case"textarea":re(e,s);break;case"select":null!=(t=s.value)&&se(e,!!s.multiple,t,!1)}},Ce=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[bi,yi,wi,Ae,_e,cc]},td={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{it=nd.inject(sd),rt=nd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(r(200));return function(e,t,s){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:s}}(e,t,null,s)},t.createRoot=function(e,t){if(!Jc(e))throw Error(r(299));var s=!1,n="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(s=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Wc(e,1,!1,null,0,s,0,n,i),e[pi]=t.current,Un(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,s){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!0,s)},t.hydrateRoot=function(e,t,s){if(!Jc(e))throw Error(r(405));var n=null!=s&&s.hydratedSources||null,i=!1,a="",o=Xc;if(null!==s&&void 0!==s&&(!0===s.unstable_strictMode&&(i=!0),void 0!==s.identifierPrefix&&(a=s.identifierPrefix),void 0!==s.onRecoverableError&&(o=s.onRecoverableError)),t=Uc(t,null,e,1,null!=s?s:null,i,0,a,o),e[pi]=t.current,Un(e),n)for(e=0;e<n.length;e++)i=(i=(s=n[e])._getVersion)(s._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[s,i]:t.mutableSourceEagerHydrationData.push(s,i);return new Kc(t)},t.render=function(e,t,s){if(!Qc(t))throw Error(r(200));return Zc(null,e,t,!1,s)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,s,n){if(!Qc(s))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Zc(e,t,s,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},997:function(e,t,s){var n;"undefined"!=typeof self&&self,e.exports=(n=s(483),function(){"use strict";var e={155:function(e){e.exports=n}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};s.r(i),s.d(i,{useReactToPrint:function(){return p}});var r=s(155);function a(e){let{level:t="error",messages:s,suppressErrors:n=!1}=e;n||("error"===t?console.error(s):"warning"===t?console.warn(s):console.debug(s))}function o(e,t){if(t||!e){const e=document.getElementById("printWindow");e&&document.body.removeChild(e)}}function l(e){return e instanceof Error?e:new Error("Unknown Error")}function c(e,t){const{documentTitle:s,onAfterPrint:n,onPrintError:i,preserveAfterPrint:r,print:c,suppressErrors:d}=t;setTimeout(()=>{var t,h;if(e.contentWindow){function u(){null==n||n(),o(r)}if(e.contentWindow.focus(),c)c(e).then(u).catch(e=>{i?i("print",l(e)):a({messages:["An error was thrown by the specified `print` function"],suppressErrors:d})});else{if(e.contentWindow.print){const m=null!==(h=null===(t=e.contentDocument)||void 0===t?void 0:t.title)&&void 0!==h?h:"",p=e.ownerDocument.title;s&&(e.ownerDocument.title=s,e.contentDocument&&(e.contentDocument.title=s)),e.contentWindow.print(),s&&(e.ownerDocument.title=p,e.contentDocument&&(e.contentDocument.title=m))}else a({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:d});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>{var t,s;return(null!==(s=null!==(t=navigator.userAgent)&&void 0!==t?t:navigator.vendor)&&void 0!==s?s:"opera"in window&&window.opera).match(e)})?setTimeout(u,500):u()}}else a({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:d})},500)}function d(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);let n=s.nextNode();for(;n;)t.push(n),n=s.nextNode();return t}function h(e,t,s){const n=d(e),i=d(t);if(n.length===i.length)for(let r=0;r<n.length;r++){const e=n[r],t=i[r],a=e.shadowRoot;if(null!==a){const e=t.attachShadow({mode:a.mode});e.innerHTML=a.innerHTML,h(a,e,s)}}else a({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",e,t],suppressErrors:s})}const u='\n    @page {\n        /* Remove browser default header (title) and footer (url) */\n        margin: 0;\n    }\n    @media print {\n        body {\n            /* Tell browsers to print background colors */\n            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */\n            print-color-adjust: exact; /* Firefox/Safari */\n            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */\n        }\n    }\n';function m(e,t,s,n){var i,r,o,d,m;const{contentNode:p,clonedContentNode:f,clonedImgNodes:g,clonedVideoNodes:x,numResourcesToLoad:v,originalCanvasNodes:b}=s,{bodyClass:y,fonts:w,ignoreGlobalStyles:j,pageStyle:N,nonce:k,suppressErrors:S,copyShadowRoots:A}=n;e.onload=null;const _=null!==(i=e.contentDocument)&&void 0!==i?i:null===(r=e.contentWindow)||void 0===r?void 0:r.document;if(_){const s=_.body.appendChild(f);A&&h(p,s,!!S),w&&((null===(o=e.contentDocument)||void 0===o?void 0:o.fonts)&&(null===(d=e.contentWindow)||void 0===d?void 0:d.FontFace)?w.forEach(s=>{const n=new FontFace(s.family,s.source,{weight:s.weight,style:s.style});e.contentDocument.fonts.add(n),n.loaded.then(()=>{t(n)}).catch(e=>{t(n,["Failed loading the font:",n,"Load error:",l(e)])})}):(w.forEach(e=>{t(e)}),a({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:S})));const n=null!=N?N:u,i=_.createElement("style");k&&(i.setAttribute("nonce",k),_.head.setAttribute("nonce",k)),i.appendChild(_.createTextNode(n)),_.head.appendChild(i),y&&_.body.classList.add(...y.split(" "));const r=_.querySelectorAll("canvas");for(let e=0;e<b.length;++e){const t=b[e],s=r[e];if(void 0===s){a({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",t],suppressErrors:S});continue}const n=s.getContext("2d");n&&n.drawImage(t,0,0)}for(let e=0;e<g.length;e++){const s=g[e],n=s.getAttribute("src");if(n){const e=new Image;e.onload=()=>{t(s)},e.onerror=(e,n,i,r,a)=>{t(s,["Error loading <img>",s,"Error",a])},e.src=n}else t(s,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',s])}for(let e=0;e<x.length;e++){const s=x[e];s.preload="auto";const n=s.getAttribute("poster");if(n){const e=new Image;e.onload=()=>{t(s)},e.onerror=(e,i,r,a,o)=>{t(s,["Error loading video poster",n,"for video",s,"Error:",o])},e.src=n}else s.readyState>=2?t(s):s.src?(s.onloadeddata=()=>{t(s)},s.onerror=(e,n,i,r,a)=>{t(s,["Error loading video",s,"Error",a])},s.onstalled=()=>{t(s,["Loading video stalled, skipping",s])}):t(s,["Error loading video, `src` is empty",s])}const c="select",v=p.querySelectorAll(c),C=_.querySelectorAll(c);for(let e=0;e<v.length;e++)C[e].value=v[e].value;if(!j){const s=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let n=0,i=s.length;n<i;++n){const i=s[n];if("style"===i.tagName.toLowerCase()){const t=_.createElement(i.tagName),s=i.sheet;if(s){let r="";try{const e=s.cssRules.length;for(let t=0;t<e;++t)"string"==typeof s.cssRules[t].cssText&&(r+="".concat(s.cssRules[t].cssText,"\r\n"))}catch(e){a({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",i,"Original error: ".concat(l(e).message)],level:"warning"})}t.setAttribute("id","react-to-print-".concat(n)),k&&t.setAttribute("nonce",k),t.appendChild(_.createTextNode(r)),_.head.appendChild(t)}}else if(i.getAttribute("href"))if(i.hasAttribute("disabled"))a({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",i],level:"warning"}),t(i);else{const e=_.createElement(i.tagName);for(let t=0,s=i.attributes.length;t<s;++t){const s=i.attributes[t];s&&e.setAttribute(s.nodeName,null!==(m=s.nodeValue)&&void 0!==m?m:"")}e.onload=()=>{t(e)},e.onerror=(s,n,i,r,a)=>{t(e,["Failed to load",e,"Error:",a])},k&&e.setAttribute("nonce",k),_.head.appendChild(e)}else a({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",i],level:"warning"}),t(i)}}}0===v&&c(e,n)}function p(e){let{bodyClass:t,contentRef:s,copyShadowRoots:n,documentTitle:i,fonts:d,ignoreGlobalStyles:h,nonce:u,onAfterPrint:p,onBeforePrint:f,onPrintError:g,pageStyle:x,preserveAfterPrint:v,print:b,suppressErrors:y}=e;return(0,r.useCallback)(e=>{function r(){const r={bodyClass:t,contentRef:s,copyShadowRoots:n,documentTitle:i,fonts:d,ignoreGlobalStyles:h,nonce:u,onAfterPrint:p,onBeforePrint:f,onPrintError:g,pageStyle:x,preserveAfterPrint:v,print:b,suppressErrors:y},o=function(){const e=document.createElement("iframe");return e.width="".concat(document.documentElement.clientWidth,"px"),e.height="".concat(document.documentElement.clientHeight,"px"),e.style.position="absolute",e.style.top="-".concat(document.documentElement.clientHeight+100,"px"),e.style.left="-".concat(document.documentElement.clientWidth+100,"px"),e.id="printWindow",e.srcdoc="<!DOCTYPE html>",e}(),l=function(e,t){const{contentRef:s,fonts:n,ignoreGlobalStyles:i,suppressErrors:r}=t,o=function(e){let{contentRef:t,optionalContent:s,suppressErrors:n}=e;return s&&"function"==typeof s?(t&&a({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),s()):t?t.current:void a({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:n})}({contentRef:s,optionalContent:e,suppressErrors:r});if(!o)return;const l=o.cloneNode(!0),c=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),d=l.querySelectorAll("img"),h=l.querySelectorAll("video"),u=n?n.length:0;return{contentNode:o,clonedContentNode:l,clonedImgNodes:d,clonedVideoNodes:h,numResourcesToLoad:(i?0:c.length)+d.length+h.length+u,originalCanvasNodes:o.querySelectorAll("canvas")}}(e,r);if(!l)return void a({messages:["There is nothing to print"],suppressErrors:y});const w=function(e,t,s){const{suppressErrors:n}=e,i=[],r=[];return function(o,l){i.includes(o)?a({level:"debug",messages:["Tried to mark a resource that has already been handled",o],suppressErrors:n}):(l?(a({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...l],suppressErrors:n}),r.push(o)):i.push(o),i.length+r.length===t&&c(s,e))}}(r,l.numResourcesToLoad,o);!function(e,t,s,n){e.onload=()=>{m(e,t,s,n)},document.body.appendChild(e)}(o,w,l,r)}o(v,!0),f?f().then(()=>{r()}).catch(e=>{null==g||g("onBeforePrint",l(e))}):r()},[t,s,n,i,d,h,u,p,f,g,x,v,b,y])}return i}())},998:(e,t,s)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=s(914)}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,s),r.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var r=Object.create(null);s.r(r);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>n[e]);return a.default=()=>n,s.d(r,a),r}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{"use strict";var e={};s.r(e),s.d(e,{dU:()=>tf,ng:()=>Lt,EA:()=>Nd,Tm:()=>tu,D6:()=>Dh,YE:()=>Xh,rE:()=>Du});var t,n=s(483),i=s.t(n,2),r=s(775),a=s(998),o=s.t(a,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(s){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,s,n){return void 0===s&&(s=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:s,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:s="",hash:n=""}=e;return s&&"?"!==s&&(t+="?"===s.charAt(0)?s:"?"+s),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function f(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g(e,s,n,i){void 0===i&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,o=r.history,h=t.Pop,f=null,g=x();function x(){return(o.state||{idx:null}).idx}function v(){h=t.Pop;let e=x(),s=null==e?null:e-g;g=e,f&&f({action:h,location:y.location,delta:s})}function b(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,s="string"===typeof e?e:p(e);return s=s.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+s),new URL(s,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let y={get action(){return h},get location(){return e(r,o)},listen(e){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(c,v),f=e,()=>{r.removeEventListener(c,v),f=null}},createHref:e=>s(r,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,s){h=t.Push;let i=m(y.location,e,s);n&&n(i,e),g=x()+1;let l=u(i,g),c=y.createHref(i);try{o.pushState(l,"",c)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;r.location.assign(c)}a&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,s){h=t.Replace;let i=m(y.location,e,s);n&&n(i,e),g=x();let r=u(i,g),l=y.createHref(i);o.replaceState(r,"",l),a&&f&&f({action:h,location:y.location,delta:0})},go:e=>o.go(e)};return y}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,s){return void 0===s&&(s="/"),b(e,t,s,!1)}function b(e,t,s,n){let i=R(("string"===typeof t?f(t):t).pathname||"/",s);if(null==i)return null;let r=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let s=e.length===t.length&&e.slice(0,-1).every((e,s)=>e===t[s]);return s?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(r);let a=null;for(let o=0;null==a&&o<r.length;++o){let e=T(i);a=M(r[o],e,n)}return a}function y(e,t,s,n){void 0===t&&(t=[]),void 0===s&&(s=[]),void 0===n&&(n="");let i=(e,i,r)=>{let a={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(n.length));let o=O([n,a.relativePath]),l=s.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:E(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var s;if(""!==e.path&&null!=(s=e.path)&&s.includes("?"))for(let n of w(e.path))i(e,t,n);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[s,...n]=t,i=s.endsWith("?"),r=s.replace(/\?$/,"");if(0===n.length)return i?[r,""]:[r];let a=w(n.join("/")),o=[];return o.push(...a.map(e=>""===e?r:[r,e].join("/"))),i&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,k=2,S=1,A=10,_=-2,C=e=>"*"===e;function E(e,t){let s=e.split("/"),n=s.length;return s.some(C)&&(n+=_),t&&(n+=k),s.filter(e=>!C(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?S:A),n)}function M(e,t,s){void 0===s&&(s=!1);let{routesMeta:n}=e,i={},r="/",a=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===r?t:t.slice(r.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!d&&l&&s&&!n[n.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:O([r,d.pathname]),pathnameBase:B(O([r,d.pathnameBase])),route:h}),"/"!==d.pathnameBase&&(r=O([r,d.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[s,n]=function(e,t,s){void 0===t&&(t=!1);void 0===s&&(s=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,s)=>(n.push({paramName:t,isOptional:null!=s}),s?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let r=new RegExp(i,t?void 0:"i");return[r,n]}(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((e,t,s)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=o[s]||"";a=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[s];return e[n]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:r,pathnameBase:a,pattern:e}}function T(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=e.charAt(s);return n&&"/"!==n?null:e.slice(s)||"/"}function D(e,t,s,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+s+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function I(e,t){let s=L(e);return t?s.map((e,t)=>t===s.length-1?e.pathname:e.pathnameBase):s.map(e=>e.pathnameBase)}function F(e,t,s,n){let i;void 0===n&&(n=!1),"string"===typeof e?i=f(e):(i=l({},e),d(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),d(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),d(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let r,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)r=s;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:s,search:n="",hash:i=""}="string"===typeof e?f(e):e,r=s?s.startsWith("/")?s:function(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?s.length>1&&s.pop():"."!==e&&s.push(e)}),s.length>1?s.join("/"):"/"}(s,t):t;return{pathname:r,search:W(n),hash:z(i)}}(i,r),h=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&s.endsWith("/");return c.pathname.endsWith("/")||!h&&!u||(c.pathname+="/"),c}const O=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],V=(new Set(H),["get",...H]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},G.apply(this,arguments)}const q=n.createContext(null);const X=n.createContext(null);const Y=n.createContext(null);const K=n.createContext(null);const J=n.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=n.createContext(null);function $(){return null!=n.useContext(K)}function Z(){return $()||d(!1),n.useContext(K).location}function ee(e){n.useContext(Y).static||n.useLayoutEffect(e)}function te(){let{isDataRoute:e}=n.useContext(J);return e?function(){let{router:e}=he(ce.UseNavigateStable),t=me(de.UseNavigateStable),s=n.useRef(!1);return ee(()=>{s.current=!0}),n.useCallback(function(n,i){void 0===i&&(i={}),s.current&&("number"===typeof n?e.navigate(n):e.navigate(n,G({fromRouteId:t},i)))},[e,t])}():function(){$()||d(!1);let e=n.useContext(q),{basename:t,future:s,navigator:i}=n.useContext(Y),{matches:r}=n.useContext(J),{pathname:a}=Z(),o=JSON.stringify(I(r,s.v7_relativeSplatPath)),l=n.useRef(!1);return ee(()=>{l.current=!0}),n.useCallback(function(s,n){if(void 0===n&&(n={}),!l.current)return;if("number"===typeof s)return void i.go(s);let r=F(s,JSON.parse(o),a,"path"===n.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:O([t,r.pathname])),(n.replace?i.replace:i.push)(r,n.state,n)},[t,i,o,a,e])}()}function se(e,t){let{relative:s}=void 0===t?{}:t,{future:i}=n.useContext(Y),{matches:r}=n.useContext(J),{pathname:a}=Z(),o=JSON.stringify(I(r,i.v7_relativeSplatPath));return n.useMemo(()=>F(e,JSON.parse(o),a,"path"===s),[e,o,a,s])}function ne(e,s,i,r){$()||d(!1);let{navigator:a}=n.useContext(Y),{matches:o}=n.useContext(J),l=o[o.length-1],c=l?l.params:{},h=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,m=Z();if(s){var p;let e="string"===typeof s?f(s):s;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||d(!1),u=e}else u=m;let g=u.pathname||"/",x=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=v(e,{pathname:x});let y=le(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:O([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:O([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,i,r);return s&&y?n.createElement(K.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:t.Pop}},y):y}function ie(){let e=function(){var e;let t=n.useContext(Q),s=ue(de.UseRouteError),i=me(de.UseRouteError);if(void 0!==t)return t;return null==(e=s.errors)?void 0:e[i]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return n.createElement(n.Fragment,null,n.createElement("h2",null,"Unexpected Application Error!"),n.createElement("h3",{style:{fontStyle:"italic"}},t),s?n.createElement("pre",{style:r},s):null,null)}const re=n.createElement(ie,null);class ae extends n.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?n.createElement(J.Provider,{value:this.props.routeContext},n.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:s,children:i}=e,r=n.useContext(q);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),n.createElement(J.Provider,{value:t},i)}function le(e,t,s,i){var r;if(void 0===t&&(t=[]),void 0===s&&(s=null),void 0===i&&(i=null),null==e){var a;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(a=i)&&a.v7_partialHydration&&0===t.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let o=e,l=null==(r=s)?void 0:r.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,h=-1;if(s&&i&&i.v7_partialHydration)for(let n=0;n<o.length;n++){let e=o[n];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=n),e.route.id){let{loaderData:t,errors:n}=s,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,o=h>=0?o.slice(0,h+1):[o[0]];break}}}return o.reduceRight((e,i,r)=>{let a,d=!1,u=null,m=null;var p;s&&(a=l&&i.route.id?l[i.route.id]:void 0,u=i.route.errorElement||re,c&&(h<0&&0===r?(p="route-fallback",!1||pe[p]||(pe[p]=!0),d=!0,m=null):h===r&&(d=!0,m=i.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,r+1)),g=()=>{let t;return t=a?u:d?m:i.route.Component?n.createElement(i.route.Component,null):i.route.element?i.route.element:e,n.createElement(oe,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=s},children:t})};return s&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?n.createElement(ae,{location:s.location,revalidation:s.revalidation,component:u,error:a,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=n.useContext(q);return t||d(!1),t}function ue(e){let t=n.useContext(X);return t||d(!1),t}function me(e){let t=function(){let e=n.useContext(J);return e||d(!1),e}(),s=t.matches[t.matches.length-1];return s.route.id||d(!1),s.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){let{to:t,replace:s,state:i,relative:r}=e;$()||d(!1);let{future:a,static:o}=n.useContext(Y),{matches:l}=n.useContext(J),{pathname:c}=Z(),h=te(),u=F(t,I(l,a.v7_relativeSplatPath),c,"path"===r),m=JSON.stringify(u);return n.useEffect(()=>h(JSON.parse(m),{replace:s,state:i,relative:r}),[h,m,r,s,i]),null}function xe(e){d(!1)}function ve(e){let{basename:s="/",children:i=null,location:r,navigationType:a=t.Pop,navigator:o,static:l=!1,future:c}=e;$()&&d(!1);let h=s.replace(/^\/*/,"/"),u=n.useMemo(()=>({basename:h,navigator:o,static:l,future:G({v7_relativeSplatPath:!1},c)}),[h,c,o,l]);"string"===typeof r&&(r=f(r));let{pathname:m="/",search:p="",hash:g="",state:x=null,key:v="default"}=r,b=n.useMemo(()=>{let e=R(m,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:x,key:v},navigationType:a}},[h,m,p,g,x,v,a]);return null==b?null:n.createElement(Y.Provider,{value:u},n.createElement(K.Provider,{children:i,value:b}))}function be(e){let{children:t,location:s}=e;return ne(ye(t),s)}new Promise(()=>{});n.Component;function ye(e,t){void 0===t&&(t=[]);let s=[];return n.Children.forEach(e,(e,i)=>{if(!n.isValidElement(e))return;let r=[...t,i];if(e.type===n.Fragment)return void s.push.apply(s,ye(e.props.children,r));e.type!==xe&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,r)),s.push(a)}),s}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},we.apply(this,arguments)}function je(e,t){if(null==e)return{};var s,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)>=0||(i[s]=e[s]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Gy){}new Map;const ke=i.startTransition;o.flushSync,i.useId;function Se(e){let{basename:t,children:s,future:i,window:r}=e,a=n.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:r,v5Compat:!0})&&(o={}),g(function(e,t){let{pathname:s,search:n,hash:i}=e.location;return m("",{pathname:s,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,o)));let l=a.current,[c,d]=n.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},u=n.useCallback(e=>{h&&ke?ke(()=>d(e)):d(e)},[d,h]);return n.useLayoutEffect(()=>l.listen(u),[l,u]),n.useEffect(()=>fe(i),[i]),n.createElement(ve,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:l,future:i})}const Ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,_e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ce=n.forwardRef(function(e,t){let s,{onClick:i,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:h,preventScrollReset:u,viewTransition:m}=e,f=je(e,Ne),{basename:g}=n.useContext(Y),x=!1;if("string"===typeof h&&_e.test(h)&&(s=h,Ae))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),s=R(t.pathname,g);t.origin===e.origin&&null!=s?h=s+t.search+t.hash:x=!0}catch(Gy){}let v=function(e,t){let{relative:s}=void 0===t?{}:t;$()||d(!1);let{basename:i,navigator:r}=n.useContext(Y),{hash:a,pathname:o,search:l}=se(e,{relative:s}),c=o;return"/"!==i&&(c="/"===o?i:O([i,o])),r.createHref({pathname:c,search:l,hash:a})}(h,{relative:r}),b=function(e,t){let{target:s,replace:i,state:r,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=te(),d=Z(),h=se(e,{relative:o});return n.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let s=void 0!==i?i:p(d)===p(h);c(e,{replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[d,c,h,i,r,s,e,a,o,l])}(h,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:m});return n.createElement("a",we({},f,{href:s||v,onClick:x||a?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Ee,Me;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));var Pe;const Te=(null===(Pe={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL)||void 0===Pe?void 0:Pe.replace(/\/$/,""))||"http://localhost:4000",Re={login:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),n=await s.json();return n.success&&n.user?{success:!0,user:n.user}:{success:!1,error:n.error||"Invalid credentials"}}catch(s){return console.error("login error",s),{success:!1,error:"Login failed. Please try again."}}},register:async e=>{try{const t=await fetch("".concat(Te,"/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success&&s.user?{success:!0,user:s.user}:{success:!1,error:s.error||"Registration failed. Please try again."}}catch(t){return console.error("register error",t),{success:!1,error:"Registration failed. Please try again."}}},getPublishedPapers:async()=>{try{const e=await fetch("".concat(Te,"/api/papers/published")),t=await e.json();return t.success&&Array.isArray(t.papers)?t.papers:[]}catch(e){return console.error("getPublishedPapers error",e),[]}},getIssueAssignments:async()=>{try{const e=await fetch("".concat(Te,"/api/issues/assignments")),t=await e.json();return t.success&&Array.isArray(t.assignments)?t.assignments:[]}catch(e){return console.error("getIssueAssignments error",e),[]}},getAllPapers:async()=>{try{const e=await fetch("".concat(Te,"/api/papers")),t=await e.json();return t.success&&Array.isArray(t.papers)?t.papers:[]}catch(e){return console.error("getAllPapers error",e),[]}},getPaperById:async e=>{try{const t=await fetch("".concat(Te,"/api/papers/").concat(e)),s=await t.json();return s.success&&s.paper||null}catch(t){return console.error("getPaperById error",t),null}},submitPaper:async e=>{try{const t=await fetch("".concat(Te,"/api/papers"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success&&s.paper?{success:!0,paper:s.paper}:{success:!1,error:s.error||"Failed to submit paper."}}catch(t){return console.error("submitPaper error",t),{success:!1,error:"Failed to submit paper."}}},uploadRevision:async(e,t,s)=>{try{const n=new FormData;n.append("manuscript",s),t&&n.append("userId",String(t));const i=await fetch("".concat(Te,"/api/submissions/").concat(e,"/revision"),{method:"POST",body:n}),r=await i.json();return i.ok&&r.success?{success:!0,manuscriptUrl:r.manuscriptUrl}:{success:!1,error:r.error||"Failed to upload revised manuscript."}}catch(n){return console.error("uploadRevision error",n),{success:!1,error:"Failed to upload revised manuscript."}}},getReviewsByReviewer:async e=>{try{const t=await fetch("".concat(Te,"/api/reviews/reviewer/").concat(e)),s=await t.json();return s.success&&Array.isArray(s.reviews)?s.reviews:[]}catch(t){return console.error("getReviewsByReviewer error",t),[]}},getReviewsByPaper:async e=>{try{const t=await fetch("".concat(Te,"/api/reviews/paper/").concat(e)),s=await t.json();return s.success&&Array.isArray(s.reviews)?s.reviews:[]}catch(t){return console.error("getReviewsByPaper error",t),[]}},submitReview:async e=>{try{const t=await fetch("".concat(Te,"/api/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return t.ok&&s.success?{success:!0,review:s.review}:{success:!1,error:s.error||"Failed to submit review."}}catch(t){return console.error("submitReview error",t),{success:!1,error:"Failed to submit review."}}},getIssues:async()=>{try{const e=await fetch("".concat(Te,"/api/issues")),t=await e.json();return t.success&&Array.isArray(t.issues)?t.issues:[]}catch(e){return console.error("getIssues error",e),[]}},getIssuePapers:async e=>{try{const t=await fetch("".concat(Te,"/api/issues/").concat(e,"/papers")),s=await t.json();return s.success&&Array.isArray(s.papers)?s.papers:[]}catch(t){return console.error("getIssuePapers error",t),[]}},createIssue:async e=>{try{const t=await fetch("".concat(Te,"/api/issues"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success&&s.issue?{success:!0,issue:s.issue}:{success:!1,error:s.error||"Failed to create issue."}}catch(t){return console.error("createIssue error",t),{success:!1,error:"Failed to create issue."}}},setCurrentIssue:async e=>{try{const t=await fetch("".concat(Te,"/api/issues/").concat(e,"/set-current"),{method:"POST"}),s=await t.json();return s.success&&s.issue?{success:!0,issue:s.issue}:{success:!1,error:s.error||"Failed to update current issue."}}catch(t){return console.error("setCurrentIssue error",t),{success:!1,error:"Failed to update current issue."}}},deleteIssue:async e=>{try{const t=await fetch("".concat(Te,"/api/issues/").concat(e),{method:"DELETE"}),s=await t.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to delete issue."}}catch(t){return console.error("deleteIssue error",t),{success:!1,error:"Failed to delete issue."}}},assignPaperToIssue:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/issues/").concat(t,"/assign-paper"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e})}),n=await s.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to assign paper to issue."}}catch(s){return console.error("assignPaperToIssue error",s),{success:!1,error:"Failed to assign paper to issue."}}},unassignPaperFromIssue:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/issues/").concat(t,"/assign-paper/").concat(e),{method:"DELETE"}),n=await s.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to unassign paper from issue."}}catch(s){return console.error("unassignPaperFromIssue error",s),{success:!1,error:"Failed to unassign paper from issue."}}},getNotifications:async e=>{try{const t=await fetch("".concat(Te,"/api/notifications?userId=").concat(e)),s=await t.json();return s.success&&Array.isArray(s.notifications)?s.notifications:[]}catch(t){return console.error("getNotifications error",t),[]}},markNotificationRead:async e=>{try{const t=await fetch("".concat(Te,"/api/notifications/").concat(e,"/read"),{method:"POST"});return(await t.json()).success?{success:!0}:{success:!1}}catch(t){return console.error("markNotificationRead error",t),{success:!1}}},deleteNotification:async e=>{try{const t=await fetch("".concat(Te,"/api/notifications/").concat(e),{method:"DELETE"});return(await t.json()).success?{success:!0}:{success:!1}}catch(t){return console.error("deleteNotification error",t),{success:!1}}},createPaymentOrder:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/payments/create-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,amount:t})}),n=await s.json();return n.success&&n.order?{success:!0,order:n.order}:{success:!1,error:n.error||"Failed to create payment order."}}catch(s){return console.error("createPaymentOrder error",s),{success:!1,error:"Failed to create payment order."}}},verifyPayment:async e=>{try{const t=await fetch("".concat(Te,"/api/payments/verify-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s.success?{success:!0}:{success:!1,error:s.message||"Payment verification failed."}}catch(t){return console.error("verifyPayment error",t),{success:!1,error:"Payment verification failed."}}},getRazorpayKey:async()=>{try{const e=await fetch("".concat(Te,"/api/payments/key"));return(await e.json()).key}catch(e){return console.error("getRazorpayKey error",e),null}},getReviewers:async()=>{try{const e=await fetch("".concat(Te,"/api/admin/reviewers")),t=await e.json();return t.success&&Array.isArray(t.reviewers)?t.reviewers:[]}catch(e){return console.error("getReviewers error",e),[]}},assignReviewer:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/admin/assign-reviewer"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,reviewerId:t})}),n=await s.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to assign reviewer."}}catch(s){return console.error("assignReviewer error",s),{success:!1,error:"Failed to assign reviewer."}}},publishPaper:async e=>{try{const t=await fetch("".concat(Te,"/api/admin/publish-paper"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e})}),s=await t.json();return s.success?{success:!0}:{success:!1,error:s.error||"Failed to publish paper."}}catch(t){return console.error("publishPaper error",t),{success:!1,error:"Failed to publish paper."}}},requestRevisions:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/admin/request-revisions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,note:t})}),n=await s.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to request revisions."}}catch(s){return console.error("requestRevisions error",s),{success:!1,error:"Failed to request revisions."}}},rejectPaper:async(e,t)=>{try{const s=await fetch("".concat(Te,"/api/admin/reject-paper"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paperId:e,note:t})}),n=await s.json();return n.success?{success:!0}:{success:!1,error:n.error||"Failed to reject paper."}}catch(s){return console.error("rejectPaper error",s),{success:!1,error:"Failed to reject paper."}}}};var De=s(723);const Le=(0,n.createContext)(),Ie=()=>{const e=(0,n.useContext)(Le);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Fe=e=>{let{children:t}=e;const[s,i]=(0,n.useState)(null),[r,a]=(0,n.useState)(!0);(0,n.useEffect)(()=>{const e=localStorage.getItem("user");e&&i(JSON.parse(e)),a(!1)},[]);const o={user:s,login:async(e,t)=>{try{const s=await Re.login(e,t);return s.success?(i(s.user),localStorage.setItem("user",JSON.stringify(s.user)),{success:!0}):{success:!1,error:s.error}}catch(s){return{success:!1,error:"Login failed. Please try again."}}},register:async e=>{try{const t=await Re.register(e);return t.success?(i(t.user),localStorage.setItem("user",JSON.stringify(t.user)),{success:!0}):{success:!1,error:t.error}}catch(t){return{success:!1,error:"Registration failed. Please try again."}}},logout:()=>{i(null),localStorage.removeItem("user")},loading:r};return(0,De.jsx)(Le.Provider,{value:o,children:t})},Oe=e=>{let{size:t="md",text:s="Loading..."}=e;const n={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return(0,De.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)("div",{className:"".concat(n[t]," animate-spin"),children:(0,De.jsx)("div",{className:"w-full h-full border-4 border-academic-200 border-t-primary-600 rounded-full"})}),(0,De.jsx)("div",{className:"".concat(n[t]," absolute top-0 left-0 animate-spin"),style:{animationDirection:"reverse",animationDuration:"1.5s"},children:(0,De.jsx)("div",{className:"w-full h-full border-4 border-transparent border-r-primary-400 rounded-full"})})]}),s&&(0,De.jsxs)("div",{className:"text-center",children:[(0,De.jsx)("p",{className:"text-sm text-academic-600 animate-pulse",children:s}),(0,De.jsxs)("div",{className:"flex space-x-1 mt-2 justify-center",children:[(0,De.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce"}),(0,De.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,De.jsx)("div",{className:"w-2 h-2 bg-primary-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})]})},Be=e=>{let{children:t,requiredRole:s=null}=e;const{user:n,loading:i}=Ie(),r=Z();if(i)return(0,De.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,De.jsx)(Oe,{size:"lg",text:"Loading..."})});if(!n)return(0,De.jsx)(ge,{to:"/login",state:{from:r},replace:!0});if(s&&n.role!==s){const e="author"===n.role?"/author-dashboard":"reviewer"===n.role?"/reviewer-dashboard":"admin"===n.role?"/admin-dashboard":"/";return(0,De.jsx)(ge,{to:e,replace:!0})}return t},We=s.p+"static/media/logo.b9fbfc91b12019587721.png",ze=()=>{const{user:e,logout:t}=Ie(),s=te(),[i,r]=(0,n.useState)(!1),a=()=>{t(),s("/")};return(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("style",{jsx:!0,children:"\n        .header-links li span {\n          position: relative;\n          z-index: 0;\n        }\n\n        .header-links li span::before {\n          content: '';\n          position: absolute;\n          z-index: -1;\n          bottom: 2px;\n          left: -4px;\n          right: -4px;\n          display: block;\n          height: 6px;\n        }\n\n        .header-links li.active span::before {\n          background-color: #fcae04;\n        }\n\n        .header-links li:not(.active):hover span::before {\n          background-color: #ccc;\n        }\n      "}),(0,De.jsxs)("header",{className:"bg-white shadow-lg h-24 hidden md:flex",children:[(0,De.jsx)(Ce,{to:"/",className:"border flex-shrink-0 flex items-center justify-center px-4 lg:px-6 xl:px-8",children:(0,De.jsx)("img",{src:We,alt:"Research Platform Logo",className:"w-20 h-20 object-contain"})}),(0,De.jsxs)("div",{className:"flex items-center ml-4 xl:ml-8 mr-auto",children:[(0,De.jsxs)("nav",{className:"hidden lg:flex items-center gap-x-6 xl:gap-x-8",children:[(0,De.jsx)(Ce,{to:"/",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Home"}),(0,De.jsx)(Ce,{to:"/indexing",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Indexing"}),(0,De.jsx)(Ce,{to:"/journal-issues",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Journal Issues"}),(0,De.jsx)(Ce,{to:"/author-guidelines",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Author Guidelines"}),(0,De.jsx)(Ce,{to:"/callforpapers",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Call for Papers"}),(0,De.jsx)(Ce,{to:"/joinusedito",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Join Us"}),e&&(0,De.jsx)(Ce,{to:"author"===e.role?"/author-dashboard":"reviewer"===e.role?"/reviewer-dashboard":"/admin-dashboard",className:"text-academic-700 hover:text-primary-600 font-semibold text-base lg:text-lg transition-colors duration-200",children:"Dashboard"})]}),(0,De.jsxs)("button",{type:"button",onClick:()=>r(e=>!e),className:"lg:hidden inline-flex items-center px-4 py-2 border border-academic-200 rounded-full text-sm font-semibold text-academic-700 hover:bg-academic-50 hover:border-academic-300 transition-colors duration-200 shadow-sm",children:[(0,De.jsx)("span",{className:"mr-2",children:"Menu"}),(0,De.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})]}),(0,De.jsx)("div",{className:"border flex items-center px-4 lg:px-6 xl:px-8",children:e?(0,De.jsx)("button",{onClick:a,className:"bg-black hover:bg-gray-700 text-white font-bold px-4 xl:px-6 py-2 xl:py-3 rounded",children:"Logout"}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Ce,{to:"/login",className:"bg-black hover:bg-gray-700 text-white font-bold px-4 xl:px-6 py-2 xl:py-3 rounded mr-2",children:"Login"}),(0,De.jsx)(Ce,{to:"/register",className:"bg-black hover:bg-gray-700 text-white font-bold px-4 xl:px-6 py-2 xl:py-3 rounded",children:"Sign Up"})]})})]}),i&&(0,De.jsx)("div",{className:"hidden lg:block fixed top-24 inset-x-0 bg-white border-b border-academic-200 shadow-lg z-40",children:(0,De.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,De.jsxs)("nav",{className:"flex flex-wrap items-center gap-x-8 gap-y-2 py-4 text-base lg:text-lg font-semibold text-academic-700",children:[(0,De.jsx)(Ce,{to:"/",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Home"}),(0,De.jsx)(Ce,{to:"/indexing",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Indexing"}),(0,De.jsx)(Ce,{to:"/journal-issues",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Journal Issues"}),(0,De.jsx)(Ce,{to:"/author-guidelines",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Author Guidelines"}),(0,De.jsx)(Ce,{to:"/callforpapers",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Call for Papers"}),(0,De.jsx)(Ce,{to:"/joinusedito",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Join Us"}),e&&(0,De.jsx)(Ce,{to:"author"===e.role?"/author-dashboard":"reviewer"===e.role?"/reviewer-dashboard":"/admin-dashboard",onClick:()=>r(!1),className:"hover:text-primary-600",children:"Dashboard"})]})})}),(0,De.jsxs)("header",{className:"bg-white shadow-sm border-b border-academic-200 md:hidden sticky top-0 z-50",children:[(0,De.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,De.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,De.jsxs)(Ce,{to:"/",className:"flex items-center space-x-3",children:[(0,De.jsx)("img",{src:We,alt:"Research Platform Logo",className:"w-12 h-12 object-contain"}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"block text-xl font-bold text-academic-900 leading-tight",children:"IJEPA"}),(0,De.jsx)("span",{className:"block text-xs text-slate-500 font-medium",children:"build by Softech publication"})]})]}),(0,De.jsx)("button",{onClick:()=>r(!i),className:"p-2 rounded-lg text-academic-600 hover:bg-academic-100 hover:text-academic-900 transition-colors duration-200","aria-label":"Toggle menu",children:(0,De.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})}),i&&(0,De.jsx)("div",{className:"md:hidden fixed inset-x-0 top-16 bottom-0 bg-white border-t border-academic-200 z-40 overflow-y-auto",children:(0,De.jsxs)("div",{className:"px-4 pt-4 pb-6 space-y-1",children:[(0,De.jsx)(Ce,{to:"/",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Home"}),(0,De.jsx)(Ce,{to:"/indexing",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Indexing & Abstracting"}),(0,De.jsx)(Ce,{to:"/journal-issues",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Journal Issues"}),(0,De.jsx)(Ce,{to:"/joinusedito",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Join as Editor/Reviewer"}),(0,De.jsx)(Ce,{to:"/author-guidelines",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Author Guidelines"}),(0,De.jsx)(Ce,{to:"/callforpapers",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Call for Papers"}),e&&(0,De.jsx)(Ce,{to:"author"===e.role?"/author-dashboard":"reviewer"===e.role?"/reviewer-dashboard":"/admin-dashboard",className:"block px-4 py-3 text-base font-medium text-academic-700 hover:text-primary-600 hover:bg-academic-50 rounded-lg transition-colors duration-200",onClick:()=>r(!1),children:"Dashboard"}),e?(0,De.jsxs)("div",{className:"pt-4 mt-4 border-t border-academic-200",children:[(0,De.jsxs)("div",{className:"px-4 py-2 text-sm text-academic-600",children:["Signed in as ",(0,De.jsx)("span",{className:"font-medium",children:e.name})]}),(0,De.jsx)("button",{onClick:()=>{a(),r(!1)},className:"w-full mt-2 px-4 py-3 text-base font-medium text-academic-700 hover:text-academic-900 bg-academic-100 hover:bg-academic-200 rounded-lg transition-colors duration-200 text-left",children:"Logout"})]}):(0,De.jsxs)("div",{className:"pt-4 mt-4 border-t border-academic-200 space-y-2",children:[(0,De.jsx)(Ce,{to:"/login",className:"block w-full px-4 py-3 text-base font-medium text-academic-700 hover:text-academic-900 bg-academic-100 hover:bg-academic-200 rounded-lg transition-colors duration-200 text-center",onClick:()=>r(!1),children:"Login"}),(0,De.jsx)(Ce,{to:"/register",className:"block w-full px-4 py-3 text-base font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors duration-200 text-center",onClick:()=>r(!1),children:"Register"})]})]})})]})]})},Ue=()=>(0,De.jsx)("footer",{className:"bg-amber-700 text-white",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,De.jsxs)("div",{className:"col-span-1 md:col-span-2",children:[(0,De.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,De.jsx)("img",{src:We,alt:"IJEPA Logo",className:"h-10 w-auto"}),(0,De.jsx)("span",{className:"text-2xl font-bold tracking-tight",children:"IJEPA"})]}),(0,De.jsx)("p",{className:"text-academic-300 text-base leading-relaxed max-w-md",children:"The International Journal of Engineering Practices and Applications \u2013 advancing research, innovation, and practical applications in engineering."})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-lg font-semibold mb-5 pb-2 border-b border-academic-700",children:"Contact"}),(0,De.jsxs)("ul",{className:"space-y-3",children:[(0,De.jsx)("li",{children:(0,De.jsxs)("a",{href:"/contact-us",className:"inline-flex items-center text-academic-300 hover:text-white transition-colors text-base",children:[(0,De.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Us"]})}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("svg",{className:"w-4 h-4 mt-0.5 mr-2 text-academic-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,De.jsx)("span",{className:"text-academic-300 text-base",children:"+91 98765 43210"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("svg",{className:"w-4 h-4 mt-0.5 mr-2 text-academic-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,De.jsx)("span",{className:"text-academic-300 text-base break-words",children:"editor@ijepa.org"})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-lg font-semibold mb-5 pb-2 border-b border-academic-700",children:"Address"}),(0,De.jsx)("p",{className:"text-academic-300 text-base leading-relaxed",children:"123 Engineering Lane, Innovation City, 54321 Country"})]})]}),(0,De.jsx)("div",{className:"border-t border-academic-700 mt-12 pt-8 text-center text-sm text-academic-400",children:(0,De.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," International Journal of Engineering Practices and Applications (IJEPA). All rights reserved & Designed By GIGZS."]})})]})}),He=()=>{const[e,t]=(0,n.useState)(!1);(0,n.useEffect)(()=>{const e=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return e?(0,De.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"back-to-top-btn","aria-label":"Back to top",children:(0,De.jsx)("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{d:"M7 14l5-5 5 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):null},Ve=s.p+"static/media/annie-spratt-5cFwQ-WMcJU-unsplash.86674f4906898eaa3102.jpg",Ge=()=>{const[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[r,a]=(0,n.useState)(""),[o,l]=(0,n.useState)("all"),[c,d]=(0,n.useState)([]),[h,u]=(0,n.useState)(!1);(0,n.useEffect)(()=>{m()},[]),(0,n.useEffect)(()=>{p()},[e,r,o]),(0,n.useEffect)(()=>{const e=()=>{u(window.scrollY>300)};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]);const m=async()=>{try{i(!0);const e=await Re.getPublishedPapers();t(e)}catch(e){console.error("Error loading papers:",e)}finally{i(!1)}},p=()=>{let t=e;r&&(t=t.filter(e=>e.title.toLowerCase().includes(r.toLowerCase())||e.authors.some(e=>e.toLowerCase().includes(r.toLowerCase()))||e.keywords.some(e=>e.toLowerCase().includes(r.toLowerCase())))),"all"!==o&&(t=t.filter(e=>e.category===o)),d(t)};new Set(e.map(e=>e.category));return s?(0,De.jsx)("div",{className:"flex items-center justify-center bg-slate-50 py-16",children:(0,De.jsxs)("div",{className:"text-center",children:[(0,De.jsx)("div",{className:"w-12 h-12 border-4 border-amber-700 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,De.jsx)("p",{className:"text-slate-600 font-medium",children:"Loading published papers..."})]})}):(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');\n        .landing-page-roboto { font-family: 'Roboto', sans-serif; }\n      "}),(0,De.jsxs)("div",{className:"bg-slate-50 landing-page-roboto",children:[(0,De.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(".concat(Ve,")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:[(0,De.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,De.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-600 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,De.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-amber-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"}),(0,De.jsx)("div",{className:"absolute bottom-1/4 left-1/3 w-96 h-96 bg-amber-700 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-4000"})]}),(0,De.jsx)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:(0,De.jsxs)("div",{className:"text-center max-w-4xl mx-auto",children:[(0,De.jsx)("div",{className:"inline-block bg-white/10 backdrop-blur-sm rounded-full px-4 py-2 mb-6 border border-white/20",children:(0,De.jsx)("span",{className:"text-amber-200 text-sm font-medium",children:"Trusted by 500+ Researchers Worldwide"})}),(0,De.jsxs)("h1",{className:"text-5xl md:text-6xl font-bold mb-6 leading-tight",children:["Publish Your Research with",(0,De.jsx)("span",{className:"block bg-gradient-to-r from-amber-500 to-amber-700 bg-clip-text text-transparent",children:"IJEPA"})]}),(0,De.jsx)("p",{className:"text-xl md:text-2xl text-white mb-10 leading-relaxed max-w-3xl mx-auto",children:"A seamless platform for authors, reviewers, and editors. Transparent workflows. Trusted by researchers worldwide."}),(0,De.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,De.jsxs)("a",{href:"/papers",className:"group bg-white text-slate-900 hover:bg-amber-50 font-semibold py-4 px-8 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:-translate-y-1",children:["Browse Papers...",(0,De.jsx)("span",{className:"ml-2 inline-block transition-transform group-hover:translate-x-1",children:"\u2192"})]}),(0,De.jsx)("a",{href:"/register",className:"group border-2 border-white text-white hover:bg-white hover:text-slate-900 font-semibold py-4 px-8 rounded-xl transition-all duration-300 hover:-translate-y-1",children:"Join Our Platform"})]})]})})]}),(0,De.jsx)("section",{className:"bg-gradient-to-br from-slate-50 to-white py-24",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsxs)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:["About ",(0,De.jsx)("span",{className:"text-amber-700",children:"IJEPA"})]}),(0,De.jsx)("div",{className:"w-24 h-1 bg-amber-700 mx-auto rounded-full"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[(0,De.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,De.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,De.jsx)("span",{className:"w-10 h-10 bg-amber-100 text-amber-800 rounded-lg flex items-center justify-center mr-3 text-lg",children:"\ud83d\udcda"}),"Who We Are"]}),(0,De.jsxs)("p",{className:"text-slate-700 leading-relaxed mb-4",children:["Welcome to the ",(0,De.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," \u2013 your premier destination for cutting-edge engineering research and innovation. Established in 2019, we've grown from a passionate idea into a globally recognized academic platform that connects over 5,000 researchers across 87 countries."]}),(0,De.jsx)("p",{className:"text-slate-700 leading-relaxed",children:"Our journey began when a group of engineering professors and industry veterans recognized a critical gap in academic publishing \u2013 the disconnect between theoretical research and practical implementation. Today, we bridge that gap by publishing work that doesn't just advance knowledge, but transforms industries and impacts real-world engineering challenges."})]}),(0,De.jsxs)("div",{className:"mt-12 mb-8",children:[(0,De.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,De.jsx)("span",{className:"w-8 h-8 bg-amber-100 text-amber-800 rounded-lg flex items-center justify-center mr-3",children:"\u2713"}),"Our Vision"]}),(0,De.jsx)("p",{className:"pl-11",children:"To become a globally recognized journal that drives innovation, disseminates impactful research, and promotes collaboration across engineering domains."})]}),(0,De.jsxs)("div",{className:"mb-8",children:[(0,De.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,De.jsx)("span",{className:"w-8 h-8 bg-amber-100 text-amber-800 rounded-lg flex items-center justify-center mr-3",children:"\u2713"}),"Our Scope"]}),(0,De.jsx)("p",{className:"pl-11 mb-4",children:"IJEPA covers, but is not limited to, the following areas:"}),(0,De.jsxs)("ul",{className:"pl-11 grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Civil, Mechanical, Electrical, and Electronics Engineering"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Computer Science, Information Technology, and Artificial Intelligence"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Industrial, Manufacturing, and Materials Engineering"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Communication, Control, and Instrumentation Systems"})]}),(0,De.jsxs)("li",{className:"flex items-start md:col-span-2",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Sustainable, Green, and Emerging Engineering Practices"})]})]})]})]}),(0,De.jsxs)("div",{className:"space-y-8",children:[(0,De.jsxs)("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-6 border border-amber-200",children:[(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Our Impact"}),(0,De.jsxs)("div",{className:"space-y-4",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Published Papers"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-amber-700",children:"1,247"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Global Authors"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-amber-700",children:"5,000+"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Countries"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-amber-700",children:"87"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Impact Factor"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-amber-700",children:"3.2"})]})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-200",children:[(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Quick Stats"}),(0,De.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,De.jsx)("span",{className:"text-slate-600",children:"Acceptance Rate: 23%"})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),(0,De.jsx)("span",{className:"text-slate-600",children:"Review Time: 4-6 weeks"})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),(0,De.jsx)("span",{className:"text-slate-600",children:"Publication Frequency: Monthly"})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"w-2 h-2 bg-amber-500 rounded-full mr-2"}),(0,De.jsx)("span",{className:"text-slate-600",children:"Indexed in 15+ databases"})]})]})]})]})]})]})}),(0,De.jsxs)("section",{className:"bg-amber-50 border-t border-slate-200",children:[(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Why Researchers Choose Build Softech"}),(0,De.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"We provide a comprehensive solution for academic research publication and peer review"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[(0,De.jsxs)("div",{className:"group relative bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 border border-slate-200",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-amber-200 transition-all duration-300",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Rigorous Peer Review"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center",children:"Your paper is reviewed by qualified experts assigned by our editorial team for quality and integrity."})]}),(0,De.jsxs)("div",{className:"group relative bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 border border-slate-200",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-50 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-amber-100 transition-all duration-300",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Fast Turnaround"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center",children:"Streamlined workflows ensure your paper moves quickly from submission to publication."})]}),(0,De.jsxs)("div",{className:"group relative bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-500 hover:-translate-y-2 border border-slate-200",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:bg-amber-200 transition-all duration-300",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",fill:"currentColor"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Global Visibility"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center",children:"Get your research seen by academics and institutions worldwide through our indexed platform."})]})]})]}),(0,De.jsx)("section",{className:"bg-white border-t border-slate-200",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Platform Features & Capabilities"}),(0,De.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Our comprehensive platform provides researchers with advanced tools and resources for every stage of the publication journey"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,De.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-blue-100 text-blue-700 rounded-lg flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"text-xl font-bold",children:"1"})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Smart Submission System"}),(0,De.jsx)("p",{className:"text-slate-600 mb-4",children:"Our intelligent submission portal guides authors through the entire process with real-time validation, automatic formatting checks, and instant plagiarism screening using iThenticate with 98% accuracy."}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-600",children:[(0,De.jsx)("li",{children:"\u2022 Drag-and-drop file upload with 500MB limit"}),(0,De.jsx)("li",{children:"\u2022 Automatic metadata extraction from manuscripts"}),(0,De.jsx)("li",{children:"\u2022 Real-time formatting validation"}),(0,De.jsx)("li",{children:"\u2022 Co-author collaboration tools"})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-green-100 text-green-700 rounded-lg flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"text-xl font-bold",children:"2"})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Advanced Review Management"}),(0,De.jsx)("p",{className:"text-slate-600 mb-4",children:"Streamlined peer review workflow with automated reviewer matching, deadline tracking, and secure communication channels. Our system supports double-blind, single-blind, and open review formats."}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-600",children:[(0,De.jsx)("li",{children:"\u2022 AI-powered reviewer matching algorithm"}),(0,De.jsx)("li",{children:"\u2022 Automated deadline reminders"}),(0,De.jsx)("li",{children:"\u2022 Secure reviewer-author communication"}),(0,De.jsx)("li",{children:"\u2022 Review quality assessment metrics"})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-purple-100 text-purple-700 rounded-lg flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"text-xl font-bold",children:"3"})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Production & Publishing"}),(0,De.jsx)("p",{className:"text-slate-600 mb-4",children:"Professional typesetting and layout services with XML-first workflow, ensuring consistent formatting and immediate online publication upon acceptance. All articles receive permanent DOI assignment."}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-600",children:[(0,De.jsx)("li",{children:"\u2022 XML-based publishing workflow"}),(0,De.jsx)("li",{children:"\u2022 Professional copyediting services"}),(0,De.jsx)("li",{children:"\u2022 Multiple export formats (PDF, HTML, XML)"}),(0,De.jsx)("li",{children:"\u2022 Enhanced digital object identifiers"})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-amber-100 text-amber-700 rounded-lg flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"text-xl font-bold",children:"4"})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Analytics & Impact Tracking"}),(0,De.jsx)("p",{className:"text-slate-600 mb-4",children:"Comprehensive article analytics dashboard providing real-time insights into citation metrics, download statistics, altmetric scores, and social media engagement across multiple platforms."}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-600",children:[(0,De.jsx)("li",{children:"\u2022 Real-time citation tracking"}),(0,De.jsx)("li",{children:"\u2022 Geographic reader distribution"}),(0,De.jsx)("li",{children:"\u2022 Social media impact metrics"}),(0,De.jsx)("li",{children:"\u2022 Institutional access statistics"})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-red-100 text-red-700 rounded-lg flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"text-xl font-bold",children:"5"})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Author Support Center"}),(0,De.jsx)("p",{className:"text-slate-600 mb-4",children:"Dedicated support team providing 24/7 assistance via live chat, email, and phone. Includes free language editing, publication ethics consultation, and guidance throughout the publication process."}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-600",children:[(0,De.jsx)("li",{children:"\u2022 24/7 multilingual support"}),(0,De.jsx)("li",{children:"\u2022 Free language editing services"}),(0,De.jsx)("li",{children:"\u2022 Publication ethics guidance"}),(0,De.jsx)("li",{children:"\u2022 Career development resources"})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"text-xl font-bold",children:"6"})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"Open Access Compliance"}),(0,De.jsx)("p",{className:"text-slate-600 mb-4",children:"Full compliance with funder mandates and institutional OA policies. Flexible publishing models including Gold OA, Green OA, and hybrid options with transparent fee structures."}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-600",children:[(0,De.jsx)("li",{children:"\u2022 CC-BY licensing options"}),(0,De.jsx)("li",{children:"\u2022 Funder mandate compliance"}),(0,De.jsx)("li",{children:"\u2022 Institutional partnerships"}),(0,De.jsx)("li",{children:"\u2022 Fee waiver programs"})]})]})]}),(0,De.jsxs)("div",{className:"mt-16 bg-gradient-to-r from-slate-50 to-slate-100 rounded-2xl p-8 border border-slate-200",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Technical Specifications"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-2",children:"Platform Performance"}),(0,De.jsxs)("ul",{className:"text-sm text-slate-600 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 99.9% uptime guarantee"}),(0,De.jsx)("li",{children:"\u2022 Average page load: 1.2 seconds"}),(0,De.jsx)("li",{children:"\u2022 SSL encryption throughout"}),(0,De.jsx)("li",{children:"\u2022 GDPR compliant infrastructure"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-2",children:"File Support"}),(0,De.jsxs)("ul",{className:"text-sm text-slate-600 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 Manuscript: DOC, DOCX, LaTeX"}),(0,De.jsx)("li",{children:"\u2022 Figures: PNG, JPG, TIFF, EPS"}),(0,De.jsx)("li",{children:"\u2022 Supplementary: PDF, CSV, XLSX"}),(0,De.jsx)("li",{children:"\u2022 Video: MP4, AVI (max 100MB)"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-2",children:"Integration Capabilities"}),(0,De.jsxs)("ul",{className:"text-sm text-slate-600 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 ORCID authentication"}),(0,De.jsx)("li",{children:"\u2022 Crossref DOI registration"}),(0,De.jsx)("li",{children:"\u2022 PubMed submission"}),(0,De.jsx)("li",{children:"\u2022 Institutional repository sync"})]})]})]})]})]})})]}),(0,De.jsx)("div",{className:"max-w-7xl mx-auto px-6",children:(0,De.jsxs)("section",{children:[(0,De.jsxs)("div",{className:"bg-amber-50 rounded-2xl p-6 border border-amber-100",children:[(0,De.jsxs)("div",{className:"text-center mb-10",children:[(0,De.jsxs)("h3",{className:"text-4xl font-extrabold text-slate-900",children:["Why Publish with ",(0,De.jsx)("span",{className:"text-amber-700",children:"IJEPA ?"})]}),(0,De.jsx)("div",{className:"mt-2 flex justify-center",children:(0,De.jsx)("div",{className:"w-24 h-1 bg-amber-700 rounded-full"})})]}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Rigorous Peer Review Process"}),(0,De.jsx)("p",{className:"text-slate-700 mb-2",children:"Our double-blind peer review system ensures academic integrity and quality. Each manuscript undergoes evaluation by at least two independent experts in the field, typically within 4-6 weeks. Our reviewers are experienced academics and industry professionals who provide constructive feedback to enhance manuscript quality."})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Open Access & Global Visibility"}),(0,De.jsx)("p",{className:"text-slate-700 mb-2",children:"All published articles are immediately available under Creative Commons Attribution License, ensuring maximum visibility and impact. Our articles are indexed in major databases including Scopus, Web of Science, Google Scholar, and 15+ specialized engineering databases, reaching over 50,000 monthly readers worldwide."})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Publication Ethics & Integrity"}),(0,De.jsx)("p",{className:"text-slate-700 mb-2",children:"IJEPA follows COPE (Committee on Publication Ethics) guidelines strictly. We use iThenticate plagiarism detection software with 98% accuracy to ensure originality. All published articles receive DOI assignment for permanent citation and archiving through CLOCKSS and Portico preservation services."})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Author Support Services"}),(0,De.jsxs)("ul",{className:"space-y-2 text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Free language editing services for non-native English speakers"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Dedicated author support team available 24/7 via email and chat"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Comprehensive article promotion through social media and academic networks"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Download certificates and publication letters for institutional requirements"})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"Publication Timeline & Process"}),(0,De.jsx)("div",{className:"bg-white rounded-lg p-4 border border-amber-200",children:(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Initial Screening:"}),(0,De.jsx)("span",{className:"font-medium",children:"2-3 days"})]}),(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Peer Review Process:"}),(0,De.jsx)("span",{className:"font-medium",children:"4-6 weeks"})]}),(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Revision Period:"}),(0,De.jsx)("span",{className:"font-medium",children:"2-4 weeks"})]}),(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Final Decision:"}),(0,De.jsx)("span",{className:"font-medium",children:"1 week"})]}),(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Online Publication:"}),(0,De.jsx)("span",{className:"font-medium",children:"Within 48 hours"})]})]})})]})]})]}),(0,De.jsx)("p",{className:"mt-8 text-center text-lg italic text-slate-600",children:'"At IJEPA, we believe that engineering is not just about knowledge creation but also about meaningful application. By connecting research with practice, we aim to contribute to technological growth and societal development."'})]})}),(0,De.jsx)("section",{className:"bg-slate-50 border-t border-slate-200",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Editorial Board & Leadership"}),(0,De.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Led by distinguished experts from top institutions worldwide, ensuring the highest standards of academic excellence"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16",children:[(0,De.jsxs)("div",{className:"lg:col-span-2",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Editor-in-Chief"}),(0,De.jsx)("div",{className:"bg-white rounded-xl p-8 shadow-lg border border-slate-200",children:(0,De.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,De.jsx)("div",{className:"w-24 h-24 bg-slate-200 rounded-lg flex items-center justify-center",children:(0,De.jsx)("span",{className:"text-2xl font-bold text-slate-600",children:"EIC"})}),(0,De.jsxs)("div",{className:"flex-1",children:[(0,De.jsx)("h4",{className:"text-xl font-bold text-slate-900 mb-2",children:"Dr. Michael Chen"}),(0,De.jsx)("p",{className:"text-slate-600 mb-3",children:"Professor of Mechanical Engineering, MIT"}),(0,De.jsxs)("div",{className:"space-y-3",children:[(0,De.jsx)("p",{className:"text-slate-700",children:"Dr. Chen brings over 25 years of experience in engineering research and academic publishing. With over 200 peer-reviewed publications and an h-index of 45, he is a leading authority in thermal systems and renewable energy engineering."}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-semibold text-slate-800 mb-2",children:"Research Focus"}),(0,De.jsxs)("ul",{className:"text-sm text-slate-600 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 Thermal Engineering Systems"}),(0,De.jsx)("li",{children:"\u2022 Renewable Energy Technologies"}),(0,De.jsx)("li",{children:"\u2022 Sustainable Manufacturing"}),(0,De.jsx)("li",{children:"\u2022 Computational Fluid Dynamics"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-semibold text-slate-800 mb-2",children:"Academic Background"}),(0,De.jsxs)("ul",{className:"text-sm text-slate-600 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 Ph.D., Stanford University (1998)"}),(0,De.jsx)("li",{children:"\u2022 M.S., UC Berkeley (1995)"}),(0,De.jsx)("li",{children:"\u2022 B.S., Caltech (1993)"}),(0,De.jsx)("li",{children:"\u2022 Fellow, ASME, AAAS"})]})]})]})]})]})]})})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Board Statistics"}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200 space-y-4",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Total Board Members"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-slate-900",children:"47"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Countries Represented"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-slate-900",children:"18"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Average Experience"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-slate-900",children:"15+ years"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Combined Publications"}),(0,De.jsx)("span",{className:"text-2xl font-bold text-slate-900",children:"3,200+"})]})]})]})]}),(0,De.jsxs)("div",{className:"mb-16",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Associate Editors"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,De.jsx)("span",{className:"text-lg font-bold text-blue-700",children:"AE"})}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Dr. Sarah Johnson"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Civil Engineering, Imperial College London"})]})]}),(0,De.jsx)("p",{className:"text-sm text-slate-700 mb-3",children:"Specializes in structural engineering and seismic design. 15+ years of experience in earthquake-resistant structures."}),(0,De.jsx)("div",{className:"text-xs text-slate-600",children:(0,De.jsx)("p",{children:"Publications: 142 | H-index: 28 | Reviews: 89"})})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center",children:(0,De.jsx)("span",{className:"text-lg font-bold text-green-700",children:"AE"})}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Prof. Raj Patel"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Computer Science, IIT Bombay"})]})]}),(0,De.jsx)("p",{className:"text-sm text-slate-700 mb-3",children:"Expert in artificial intelligence and machine learning applications in engineering systems."}),(0,De.jsx)("div",{className:"text-xs text-slate-600",children:(0,De.jsx)("p",{children:"Publications: 178 | H-index: 35 | Reviews: 112"})})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,De.jsx)("span",{className:"text-lg font-bold text-purple-700",children:"AE"})}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"text-lg font-bold text-slate-900",children:"Dr. Maria Rodriguez"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Chemical Engineering, TU Munich"})]})]}),(0,De.jsx)("p",{className:"text-sm text-slate-700 mb-3",children:"Focus on sustainable chemical processes and green engineering technologies."}),(0,De.jsx)("div",{className:"text-xs text-slate-600",children:(0,De.jsx)("p",{children:"Publications: 156 | H-index: 31 | Reviews: 98"})})]})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 rounded-2xl p-8 border border-slate-200",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Editorial Process & Standards"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Review Process"}),(0,De.jsxs)("ul",{className:"space-y-3 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Initial Screening:"})," All manuscripts undergo initial quality check by editorial team within 48 hours"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Peer Review:"})," Minimum 2 independent reviewers with expertise in the specific field"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Review Timeline:"})," Standard review completed within 4-6 weeks"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Decision Process:"})," Editorial board makes final decision based on reviewer recommendations"]})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Quality Standards"}),(0,De.jsxs)("ul",{className:"space-y-3 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Originality:"})," All manuscripts checked with iThenticate (98% accuracy)"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Ethical Compliance:"})," COPE guidelines strictly followed"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Conflict of Interest:"})," Mandatory disclosure for all reviewers and editors"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Appeals Process:"})," Formal appeals reviewed by independent editorial committee"]})]})]})]})]})]})]})}),(0,De.jsx)("section",{className:"bg-amber-50 border-t border-slate-200",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Publication Process & Timeline"}),(0,De.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"A transparent, efficient, and author-friendly publication journey from submission to dissemination"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8 mb-16",children:[(0,De.jsx)("div",{className:"relative",children:(0,De.jsxs)("div",{className:"bg-blue-50 rounded-xl p-6 border-2 border-blue-200",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"font-bold",children:"1"})}),(0,De.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Submission"}),(0,De.jsx)("p",{className:"text-slate-700 mb-4",children:"Online submission through our secure portal with real-time validation and immediate plagiarism screening."}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-3 text-sm",children:[(0,De.jsx)("p",{className:"font-semibold text-blue-700",children:"Timeline: 2-3 days"}),(0,De.jsx)("p",{className:"text-slate-600",children:"Initial screening and validation"})]})]})}),(0,De.jsx)("div",{className:"relative",children:(0,De.jsxs)("div",{className:"bg-amber-50 rounded-xl p-6 border-2 border-amber-200",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-amber-600 text-white rounded-full flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"font-bold",children:"2"})}),(0,De.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Peer Review"}),(0,De.jsx)("p",{className:"text-slate-700 mb-4",children:"Review by minimum 2 experts using our AI-powered reviewer matching system."}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-3 text-sm",children:[(0,De.jsx)("p",{className:"font-semibold text-amber-700",children:"Timeline: 4-6 weeks"}),(0,De.jsx)("p",{className:"text-slate-600",children:"Comprehensive expert evaluation"})]})]})}),(0,De.jsx)("div",{className:"relative",children:(0,De.jsxs)("div",{className:"bg-green-50 rounded-xl p-6 border-2 border-green-200",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"font-bold",children:"3"})}),(0,De.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Revision"}),(0,De.jsx)("p",{className:"text-slate-700 mb-4",children:"Author responds to reviewer comments with our structured revision system and support tools."}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-3 text-sm",children:[(0,De.jsx)("p",{className:"font-semibold text-green-700",children:"Timeline: 2-4 weeks"}),(0,De.jsx)("p",{className:"text-slate-600",children:"Author revision period"})]})]})}),(0,De.jsx)("div",{className:"relative",children:(0,De.jsxs)("div",{className:"bg-purple-50 rounded-xl p-6 border-2 border-purple-200",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-purple-600 text-white rounded-full flex items-center justify-center mb-4",children:(0,De.jsx)("span",{className:"font-bold",children:"4"})}),(0,De.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-3",children:"Publication"}),(0,De.jsx)("p",{className:"text-slate-700 mb-4",children:"Professional typesetting, DOI assignment, and immediate online publication upon acceptance."}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-3 text-sm",children:[(0,De.jsx)("p",{className:"font-semibold text-purple-700",children:"Timeline: 48 hours"}),(0,De.jsx)("p",{className:"text-slate-600",children:"Online publication"})]})]})})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Detailed Process Overview"}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Step 1: Manuscript Submission"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Create author account with ORCID integration"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Complete online submission form with all required metadata"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Upload manuscript files (DOC, DOCX, LaTeX)"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Automatic plagiarism check with iThenticate"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Receive submission confirmation with tracking ID"})]})]})]}),(0,De.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Step 2: Editorial Screening"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Initial quality check by editorial team (48 hours)"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Scope and format compliance verification"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Desk rejection if outside scope or major issues"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Assignment to handling editor within 72 hours"})]})]})]}),(0,De.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Step 3: Peer Review Process"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"AI-powered reviewer matching (2-3 reviewers)"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Double-blind review process"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Review deadline: 21 days with automated reminders"})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsx)("span",{children:"Quality assessment of reviewer comments"})]})]})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Author Requirements & Guidelines"}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Manuscript Requirements"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsx)("li",{children:"\u2022 Word count: 3,000-8,000 words (original research)"}),(0,De.jsx)("li",{children:"\u2022 Abstract: 250-300 words with keywords"}),(0,De.jsx)("li",{children:"\u2022 References: APA format, minimum 20 recent citations"}),(0,De.jsx)("li",{children:"\u2022 Figures: High-resolution (300 DPI), numbered sequentially"}),(0,De.jsx)("li",{children:"\u2022 Tables: Formatted in Excel or Word, editable format"}),(0,De.jsx)("li",{children:"\u2022 Supplementary materials: PDF, CSV, or multimedia files"})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl p-6 border border-amber-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Ethical Requirements"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsx)("li",{children:"\u2022 IRB/IEC approval for human/animal studies"}),(0,De.jsx)("li",{children:"\u2022 Informed consent documentation"}),(0,De.jsx)("li",{children:"\u2022 Conflict of interest disclosure for all authors"}),(0,De.jsx)("li",{children:"\u2022 Data availability statement"}),(0,De.jsx)("li",{children:"\u2022 Funding source acknowledgment"}),(0,De.jsx)("li",{children:"\u2022 Author contribution statements (CRediT taxonomy)"})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-3",children:"Publication Fees"}),(0,De.jsxs)("div",{className:"space-y-3 text-sm text-slate-700",children:[(0,De.jsxs)("div",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Standard Article Processing Charge:"}),(0,De.jsx)("span",{className:"font-semibold",children:"\u20b9100"})]}),(0,De.jsxs)("div",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Review Article:"}),(0,De.jsx)("span",{className:"font-semibold",children:"\u20b950"})]}),(0,De.jsxs)("div",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Total:"}),(0,De.jsx)("span",{className:"font-semibold",children:"\u20b9150"})]}),(0,De.jsxs)("div",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Fee waivers available for:"}),(0,De.jsx)("span",{className:"font-semibold",children:"Developing countries"})]})]})]})]})]})]}),(0,De.jsxs)("div",{className:"bg-slate-100 rounded-2xl p-8 border border-slate-200",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Decision Types & Next Steps"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("h4",{className:"font-semibold text-green-700 mb-2",children:"Accept"}),(0,De.jsx)("p",{className:"text-sm text-slate-700",children:"Minor revisions required, proceed to production within 48 hours"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("h4",{className:"font-semibold text-amber-700 mb-2",children:"Minor Revision"}),(0,De.jsx)("p",{className:"text-sm text-slate-700",children:"2 weeks to address reviewer comments, re-review not required"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("h4",{className:"font-semibold text-orange-700 mb-2",children:"Major Revision"}),(0,De.jsx)("p",{className:"text-sm text-slate-700",children:"4 weeks to address concerns, may require additional review"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("h4",{className:"font-semibold text-red-700 mb-2",children:"Reject"}),(0,De.jsx)("p",{className:"text-sm text-slate-700",children:"Not suitable for publication, detailed feedback provided"})]})]})]})]})}),(0,De.jsx)("section",{className:"bg-white border-t border-slate-200",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Indexing & Impact Metrics"}),(0,De.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Comprehensive indexing coverage and measurable impact ensuring maximum visibility and citation potential"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-16",children:[(0,De.jsxs)("div",{className:"lg:col-span-2",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Database Indexing"}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-6 border border-blue-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Major International Databases"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Core Indexing"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Scopus:"})," Elsevier's comprehensive abstract and citation database (since 2020)"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Web of Science:"})," Clarivate Analytics Core Collection (SCIE, ESCI)"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"PubMed/MEDLINE:"})," National Library of Medicine biomedical database"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Google Scholar:"})," Broad academic search engine coverage"]})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-medium text-blue-800 mb-3",children:"Specialized Databases"}),(0,De.jsxs)("ul",{className:"space-y-2 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Engineering Village:"})," Compendex and Inspec databases"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"IEEE Xplore:"})," Electrical engineering and computer science"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"ACM Digital Library:"})," Computing literature database"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-blue-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"ScienceDirect:"})," Full-text access for institutional subscribers"]})]})]})]})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Regional & Subject Databases"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Asia-Pacific"}),(0,De.jsxs)("ul",{className:"space-y-1 text-sm text-slate-700",children:[(0,De.jsx)("li",{children:"\u2022 CNKI (China)"}),(0,De.jsx)("li",{children:"\u2022 J-STAGE (Japan)"}),(0,De.jsx)("li",{children:"\u2022 KCI (Korea)"}),(0,De.jsx)("li",{children:"\u2022 ScienceOpen"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Europe"}),(0,De.jsxs)("ul",{className:"space-y-1 text-sm text-slate-700",children:[(0,De.jsx)("li",{children:"\u2022 DOAJ (UK)"}),(0,De.jsx)("li",{children:"\u2022 SciELO"}),(0,De.jsx)("li",{children:"\u2022 Redalyc"}),(0,De.jsx)("li",{children:"\u2022 EBSCOhost"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h5",{className:"font-medium text-green-800 mb-2",children:"Engineering"}),(0,De.jsxs)("ul",{className:"space-y-1 text-sm text-slate-700",children:[(0,De.jsx)("li",{children:"\u2022 arXiv"}),(0,De.jsx)("li",{children:"\u2022 ResearchGate"}),(0,De.jsx)("li",{children:"\u2022 Mendeley"}),(0,De.jsx)("li",{children:"\u2022 ORCID"})]})]})]})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Indexing Timeline"}),(0,De.jsxs)("div",{className:"space-y-4",children:[(0,De.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,De.jsx)("span",{className:"font-semibold text-slate-800",children:"Initial Indexing"}),(0,De.jsx)("span",{className:"text-sm text-blue-600 font-medium",children:"2-4 weeks"})]}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Google Scholar, DOAJ, basic directory listings"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,De.jsx)("span",{className:"font-semibold text-slate-800",children:"Major Databases"}),(0,De.jsx)("span",{className:"text-sm text-amber-600 font-medium",children:"3-6 months"})]}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Scopus, Web of Science evaluation and inclusion"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,De.jsx)("span",{className:"font-semibold text-slate-800",children:"Full Coverage"}),(0,De.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"6-12 months"})]}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Complete indexing across all target databases"})]})]})]})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Impact Metrics & Performance"}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Citation Metrics (2023)"}),(0,De.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"3.2"}),(0,De.jsx)("div",{className:"text-sm text-slate-600",children:"Impact Factor"}),(0,De.jsx)("div",{className:"text-xs text-slate-500",children:"2-year citation average"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"4.1"}),(0,De.jsx)("div",{className:"text-sm text-slate-600",children:"5-Year Impact Factor"}),(0,De.jsx)("div",{className:"text-xs text-slate-500",children:"5-year citation average"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("div",{className:"text-3xl font-bold text-amber-600 mb-2",children:"0.85"}),(0,De.jsx)("div",{className:"text-sm text-slate-600",children:"CiteScore"}),(0,De.jsx)("div",{className:"text-xs text-slate-500",children:"Scopus metric"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4",children:[(0,De.jsx)("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"12.5"}),(0,De.jsx)("div",{className:"text-sm text-slate-600",children:"SNIP"}),(0,De.jsx)("div",{className:"text-xs text-slate-500",children:"Source Normalized Impact"})]})]})]}),(0,De.jsxs)("div",{className:"bg-slate-50 rounded-xl p-6 border border-slate-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Usage Statistics"}),(0,De.jsxs)("div",{className:"space-y-3",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Monthly Article Views"}),(0,De.jsx)("span",{className:"font-semibold text-slate-900",children:"45,000+"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Monthly Downloads"}),(0,De.jsx)("span",{className:"font-semibold text-slate-900",children:"18,000+"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Average Citations per Article"}),(0,De.jsx)("span",{className:"font-semibold text-slate-900",children:"8.7"})]}),(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsx)("span",{className:"text-slate-600",children:"Altmetric Score (average)"}),(0,De.jsx)("span",{className:"font-semibold text-slate-900",children:"24.3"})]})]})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Author Benefits & Visibility"}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-xl p-6 border border-amber-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Global Reach"}),(0,De.jsxs)("ul",{className:"space-y-3 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"87 Countries:"})," Readers and authors from across the globe"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"5,000+ Institutions:"})," University and corporate access"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"15+ Languages:"})," Abstract translation services available"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Social Media:"})," 50,000+ followers across platforms"]})]})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-xl p-6 border border-purple-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Citation Enhancement"}),(0,De.jsxs)("ul",{className:"space-y-3 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"DOI Assignment:"})," Permanent digital object identifier for all articles"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Crossref Integration:"})," Automatic citation linking and tracking"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"ORCID Integration:"})," Author disambiguation and profile linking"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-purple-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Altmetric Tracking:"})," Real-time social media and news mentions"]})]})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-xl p-6 border border-green-200",children:[(0,De.jsx)("h4",{className:"font-semibold text-slate-800 mb-4",children:"Archiving & Preservation"}),(0,De.jsxs)("ul",{className:"space-y-3 text-sm text-slate-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"CLOCKSS:"})," Controlled Lots of Copies Keep Stuff Safe"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Portico:"})," Digital preservation service for scholarly content"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"National Libraries:"})," Deposited in major national archives"]})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-green-600 mr-2",children:"\u2022"}),(0,De.jsxs)("span",{children:[(0,De.jsx)("strong",{children:"Permanent Access:"})," Guaranteed long-term availability"]})]})]})]})]})]})]}),(0,De.jsxs)("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 rounded-2xl p-8 border border-slate-200",children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Indexing Application Status"}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,De.jsx)("span",{className:"text-green-600 font-bold",children:"\u2713"})}),(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:"Active Indexing"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"15+ databases currently indexing IJEPA content"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,De.jsx)("span",{className:"text-amber-600 font-bold",children:"\u23f1"})}),(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:"Under Review"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"8 databases in evaluation process"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,De.jsx)("span",{className:"text-blue-600 font-bold",children:"\ud83d\udcc8"})}),(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:"Growing Impact"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"25% annual increase in citations"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-lg p-4 text-center",children:[(0,De.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,De.jsx)("span",{className:"text-purple-600 font-bold",children:"\ud83c\udf0d"})}),(0,De.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:"Global Recognition"}),(0,De.jsx)("p",{className:"text-sm text-slate-600",children:"Indexed in 6 continents"})]})]})]})]})}),(0,De.jsx)("section",{className:"bg-amber-50 py-24",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,De.jsxs)("div",{className:"text-center mb-20",children:[(0,De.jsx)("h2",{className:"text-4xl font-bold text-slate-900 mb-6",children:"Quick Access"}),(0,De.jsx)("p",{className:"text-xl text-slate-600 max-w-3xl mx-auto",children:"Navigate to key sections of our platform with a single click."})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,De.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-amber-400 hover:shadow-md",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Indexing & Abstracting"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Discover where our journal is indexed and abstracted."}),(0,De.jsx)("a",{href:"/indexing",className:"block text-center bg-white border border-amber-700 text-amber-800 hover:bg-amber-700 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Learn More"})]}),(0,De.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-amber-400 hover:shadow-md",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M4 6h16M4 12h16M4 18h7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Journal Issues"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Browse our past and current journal issues."}),(0,De.jsx)("a",{href:"/journal-issues",className:"block text-center bg-white border border-amber-700 text-amber-800 hover:bg-amber-700 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"View Issues"})]}),(0,De.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-amber-400 hover:shadow-md",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Join Our Team"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Become an editor or reviewer for IJEPA."}),(0,De.jsx)("a",{href:"/joinusedito",className:"block text-center bg-white border border-amber-700 text-amber-800 hover:bg-amber-700 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Join Now"})]})]}),(0,De.jsx)("div",{className:"mt-8 flex justify-center",children:(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,De.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-amber-400 hover:shadow-md",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Author Guidelines"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Everything you need to know to prepare your manuscript."}),(0,De.jsx)("a",{href:"/author-guidelines",className:"block text-center bg-white border border-amber-700 text-amber-800 hover:bg-amber-700 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Read Guidelines"})]}),(0,De.jsxs)("div",{className:"group bg-white p-8 rounded-2xl border border-slate-200 transition-all duration-300 hover:border-amber-400 hover:shadow-md",children:[(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,De.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",className:"text-amber-700",children:(0,De.jsx)("path",{d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.148-6.443a1.76 1.76 0 013.417-.592zM11 5.882a1.76 1.76 0 012.592.443l2.148 6.443a1.76 1.76 0 01-3.417.592l-2.148-6.443a1.76 1.76 0 01.825-1.036z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-4 text-center",children:"Call for Papers"}),(0,De.jsx)("p",{className:"text-slate-600 text-lg leading-relaxed text-center mb-6",children:"Submit your latest research to our upcoming issues."}),(0,De.jsx)("a",{href:"/callforpapers",className:"block text-center bg-white border border-amber-700 text-amber-800 hover:bg-amber-700 hover:text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300",children:"Submit Now"})]})]})})]})]})}),h&&(0,De.jsx)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-8 bg-slate-900 hover:bg-slate-800 text-white p-4 rounded-full shadow-lg transition-all duration-300 hover:scale-110 hover:shadow-xl z-50","aria-label":"Scroll to top",children:(0,De.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,De.jsx)("path",{d:"M12 19V5M5 12l7-7 7 7",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]})};function qe(e){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(e)}function Xe(e){var t=function(e,t){if("object"!=qe(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=qe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qe(t)?t:t+""}function Ye(e,t,s){return(t=Xe(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ke(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function Je(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(s),!0).forEach(function(t){Ye(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Ke(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function Qe(e,t,s){t||(t=[]);var n=t.length++;return Object.defineProperty({},"_",{set:function(i){t[n]=i,e.apply(s,t)}})}function $e(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ze(e,t){$e(e,t),t.add(e)}function et(e,t,s){$e(e,t),t.set(e,s)}function tt(e,t,s){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:s;throw new TypeError("Private element is not present on this object")}function st(e,t,s){return s(tt(e,t))}function nt(e,t){return e.get(tt(e,t))}function it(e,t,s){return e.set(tt(e,t),s),s}function rt(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return rt=function(e){this.s=e,this.n=e.next},rt.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var s=this.s.return;return void 0===s?Promise.resolve({value:e,done:!0}):t(s.apply(this.s,arguments))},throw:function(e){var s=this.s.return;return void 0===s?Promise.reject(e):t(s.apply(this.s,arguments))}},new rt(e)}var at,ot,lt,ct,dt,ht,ut,mt,pt,ft,gt,xt,vt,bt,yt,wt,jt,Nt;const kt="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),St=[.001,0,0,.001,0,0],At=1.35,_t=1,Ct=2,Et=4,Mt=16,Pt=32,Tt=64,Rt=128,Dt=256,Lt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},It="pdfjs_internal_editor_",Ft={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ot={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Bt=0,Wt=1,zt=2,Ut=3,Ht=3,Vt=4,Gt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},qt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Xt=1,Yt=2,Kt=3,Jt=4,Qt=5,$t={ERRORS:0,WARNINGS:1,INFOS:5},Zt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},es=0,ts=1,ss=2,ns=3;let is=$t.WARNINGS;function rs(e){Number.isInteger(e)&&(is=e)}function as(){return is}function os(e){is>=$t.INFOS&&console.info("Info: ".concat(e))}function ls(e){is>=$t.WARNINGS&&console.warn("Warning: ".concat(e))}function cs(e){throw new Error(e)}function ds(e,t){e||cs(t)}function hs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;if(s&&"string"===typeof e){if(s.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(s.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(i){}}const n=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n)?n:null}function us(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=URL.parse(e);return n?(n.hash=t,n.href):s&&hs(e,"http://example.com")?e.split("#",1)[0]+"".concat(t?"#".concat(t):""):""}function ms(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:s,enumerable:!n,configurable:!0,writable:!1}),s}const ps=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class fs extends ps{constructor(e,t){super(e,"PasswordException"),this.code=t}}class gs extends ps{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class xs extends ps{constructor(e){super(e,"InvalidPDFException")}}class vs extends ps{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class bs extends ps{constructor(e){super(e,"FormatError")}}class ys extends ps{constructor(e){super(e,"AbortException")}}function ws(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||cs("Invalid argument for bytesToString");const t=e.length,s=8192;if(t<s)return String.fromCharCode.apply(null,e);const n=[];for(let i=0;i<t;i+=s){const r=Math.min(i+s,t),a=e.subarray(i,r);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function js(e){"string"!==typeof e&&cs("Invalid argument for stringToBytes");const t=e.length,s=new Uint8Array(t);for(let n=0;n<t;++n)s[n]=255&e.charCodeAt(n);return s}class Ns{static get isLittleEndian(){return ms(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return ms(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return ms(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return ms(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return ms(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ms(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const ks=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class Ss{static makeHexColor(e,t,s){return"#".concat(ks[e]).concat(ks[t]).concat(ks[s])}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=e[s],i=e[s+1];e[s]=n*t[0]+i*t[2]+t[4],e[s+1]=n*t[1]+i*t[3]+t[5]}static applyTransformToBezier(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[s+c],d=e[s+c+1];e[s+c]=t*n+d*r+o,e[s+c+1]=t*i+d*a+l}}static applyInverseTransform(e,t){const s=e[0],n=e[1],i=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-n*t[2]+t[2]*t[5]-t[4]*t[3])/i,e[1]=(-s*t[1]+n*t[0]+t[4]*t[1]-t[5]*t[0])/i}static axialAlignedBoundingBox(e,t,s){const n=t[0],i=t[1],r=t[2],a=t[3],o=t[4],l=t[5],c=e[0],d=e[1],h=e[2],u=e[3];let m=n*c+o,p=m,f=n*h+o,g=f,x=a*d+l,v=x,b=a*u+l,y=b;if(0!==i||0!==r){const e=i*c,t=i*h,s=r*d,n=r*u;m+=s,g+=s,f+=n,p+=n,x+=e,y+=e,b+=t,v+=t}s[0]=Math.min(s[0],m,f,p,g),s[1]=Math.min(s[1],x,b,v,y),s[2]=Math.max(s[2],m,f,p,g),s[3]=Math.max(s[3],x,b,v,y)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],n=e[1],i=e[2],r=e[3],a=s**2+n**2,o=s*i+n*r,l=i**2+r**2,c=(a+l)/2,d=Math.sqrt(c**2-(a*l-o**2));t[0]=Math.sqrt(c+d||1),t[1]=Math.sqrt(c-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),n=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>n)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>r?null:[s,i,n,r]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,n,i){i[0]=Math.min(i[0],e,s),i[1]=Math.min(i[1],t,n),i[2]=Math.max(i[2],e,s),i[3]=Math.max(i[3],t,n)}static bezierBoundingBox(e,t,s,n,i,r,a,o,l){l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o),tt(Ss,this,_s).call(this,e,s,i,a,t,n,r,o,3*(3*(s-i)-e+a),6*(e-2*s+i),3*(s-e),l),tt(Ss,this,_s).call(this,e,s,i,a,t,n,r,o,3*(3*(n-r)-t+o),6*(t-2*n+r),3*(n-t),l)}}function As(e,t,s,n,i,r,a,o,l,c){if(l<=0||l>=1)return;const d=1-l,h=l*l,u=h*l,m=d*(d*(d*e+3*l*t)+3*h*s)+u*n,p=d*(d*(d*i+3*l*r)+3*h*a)+u*o;c[0]=Math.min(c[0],m),c[1]=Math.min(c[1],p),c[2]=Math.max(c[2],m),c[3]=Math.max(c[3],p)}function _s(e,t,s,n,i,r,a,o,l,c,d,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&tt(at,this,As).call(this,e,t,s,n,i,r,a,o,-d/c,h));const u=c**2-4*d*l;if(u<0)return;const m=Math.sqrt(u),p=2*l;tt(at,this,As).call(this,e,t,s,n,i,r,a,o,(-c+m)/p,h),tt(at,this,As).call(this,e,t,s,n,i,r,a,o,(-c-m)/p,h)}at=Ss;let Cs=null,Es=null;function Ms(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),ws(e)}const Ps="pdfjs_internal_id_";function Ts(e,t,s){return Math.min(Math.max(e,t),s)}function Rs(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(ws(e))}"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return new Promise(t=>{t(e(...s))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});class Ds{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};return function e(s){var n;if(!s)return;let i=null;const r=s.name;if("#text"===r)i=s.value;else{if(!Ds.shouldBuildText(r))return;null!==s&&void 0!==s&&null!==(n=s.attributes)&&void 0!==n&&n.textContent?i=s.attributes.textContent:s.value&&(i=s.value)}if(null!==i&&t.push({str:i}),s.children)for(const t of s.children)e(t)}(e),s}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}class Ls{static setupStorage(e,t,s,n,i){const r=n.getValue(t,{value:null});switch(s.name){case"textarea":if(null!==r.value&&(e.textContent=r.value),"print"===i)break;e.addEventListener("input",e=>{n.setValue(t,{value:e.target.value})});break;case"input":if("radio"===s.attributes.type||"checkbox"===s.attributes.type){if(r.value===s.attributes.xfaOn?e.setAttribute("checked",!0):r.value===s.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",e=>{n.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==r.value&&e.setAttribute("value",r.value),"print"===i)break;e.addEventListener("input",e=>{n.setValue(t,{value:e.target.value})})}break;case"select":if(null!==r.value){e.setAttribute("value",r.value);for(const e of s.children)e.attributes.value===r.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const s=e.target.options,i=-1===s.selectedIndex?"":s[s.selectedIndex].value;n.setValue(t,{value:i})})}}static setAttributes(e){let{html:t,element:s,storage:n=null,intent:i,linkService:r}=e;const{attributes:a}=s,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(i));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&r.addLinkAttributes(t,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(t,a.dataId,s,n)}static render(e){const t=e.annotationStorage,s=e.linkService,n=e.xfaHtml,i=e.intent||"display",r=document.createElement(n.name);n.attributes&&this.setAttributes({html:r,element:n,intent:i,linkService:s});const a="richText"!==i,o=e.div;if(o.append(r),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===n.children.length){if(n.value){const e=document.createTextNode(n.value);r.append(e),a&&Ds.shouldBuildText(n.name)&&l.push(e)}return{textDivs:l}}const c=[[n,-1,r]];for(;c.length>0;){var d,h;const[e,n,r]=c.at(-1);if(n+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const e=document.createTextNode(o.value);l.push(e),r.append(e);continue}const m=null!==o&&void 0!==o&&null!==(d=o.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(r.append(m),o.attributes&&this.setAttributes({html:m,element:o,storage:t,intent:i,linkService:s}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,m]);else if(o.value){const e=document.createTextNode(o.value);a&&Ds.shouldBuildText(u)&&l.push(e),m.append(e)}}for(const u of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const Is="http://www.w3.org/2000/svg";class Fs{}async function Os(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Vs(e,document.baseURI)){const s=await fetch(e);if(!s.ok)throw new Error(s.statusText);switch(t){case"arraybuffer":return s.arrayBuffer();case"blob":return s.blob();case"json":return s.json()}return s.text()}return new Promise((s,n)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)n(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void s(i.response)}s(i.responseText)}},i.send(null)})}ot=Fs,Ye(Fs,"CSS",96),Ye(Fs,"PDF",72),Ye(Fs,"PDF_TO_CSS_UNITS",ot.CSS/ot.PDF);class Bs{constructor(e){let{viewBox:t,userUnit:s,scale:n,rotation:i,offsetX:r=0,offsetY:a=0,dontFlip:o=!1}=e;this.viewBox=t,this.userUnit=s,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=a,n*=s;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let d,h,u,m,p,f,g,x;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,u=0,m=1;break;case 90:d=0,h=1,u=1,m=0;break;case 270:d=0,h=-1,u=-1,m=0;break;case 0:d=1,h=0,u=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,m=-m),0===d?(p=Math.abs(c-t[1])*n+r,f=Math.abs(l-t[0])*n+a,g=(t[3]-t[1])*n,x=(t[2]-t[0])*n):(p=Math.abs(l-t[0])*n+r,f=Math.abs(c-t[1])*n+a,g=(t[2]-t[0])*n,x=(t[3]-t[1])*n),this.transform=[d*n,h*n,u*n,m*n,p-d*n*l-u*n*c,f-h*n*l-m*n*c],this.width=g,this.height=x}get rawDims(){const e=this.viewBox;return ms(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:n=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bs({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:n,dontFlip:i})}convertToViewportPoint(e,t){const s=[e,t];return Ss.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];Ss.applyTransform(t,this.transform);const s=[e[2],e[3]];return Ss.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return Ss.applyInverseTransform(s,this.transform),s}}class Ws extends ps{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function zs(e){const t=e.length;let s=0;for(;s<t&&""===e[s].trim();)s++;return"data:"===e.substring(s,s+5).toLowerCase()}function Us(e){return"string"===typeof e&&/\.pdf$/i.test(e)}class Hs{constructor(){Ye(this,"started",Object.create(null)),Ye(this,"times",[])}time(e){e in this.started&&ls("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||ls("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:n,end:i}of this.times)e.push("".concat(s.padEnd(t)," ").concat(i-n,"ms\n"));return e.join("")}}function Vs(e,t){const s=t?URL.parse(e,t):URL.parse(e);return"http:"===(null===s||void 0===s?void 0:s.protocol)||"https:"===(null===s||void 0===s?void 0:s.protocol)}function Gs(e){e.preventDefault()}function qs(e){e.preventDefault(),e.stopPropagation()}class Xs{static toDateObject(e){if(e instanceof Date)return e;if(!e||"string"!==typeof e)return null;tt(Xs,this,Ys)._||(Ys._=tt(Xs,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=tt(Xs,this,Ys)._.exec(e);if(!t)return null;const s=parseInt(t[1],10);let n=parseInt(t[2],10);n=n>=1&&n<=12?n-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(r+=c,a+=d):"+"===l&&(r-=c,a-=d),new Date(Date.UTC(s,n,i,r,a,o))}}var Ys={_:void 0};function Ks(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(ls('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function Js(e){const{a:t,b:s,c:n,d:i,e:r,f:a}=e.getTransform();return[t,s,n,i,r,a]}function Qs(e){const{a:t,b:s,c:n,d:i,e:r,f:a}=e.getTransform().invertSelf();return[t,s,n,i,r,a]}function $s(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Bs){const{pageWidth:n,pageHeight:i}=t.rawDims,{style:r}=e,a=Ns.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(n,"px"),l="var(--total-scale-factor) * ".concat(i,"px"),c=a?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),d=a?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");s&&t.rotation%180!==0?(r.width=d,r.height=c):(r.width=c,r.height=d)}n&&e.setAttribute("data-main-rotation",t.rotation)}class Zs{constructor(){const{pixelRatio:e}=Zs;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,r=1/0,a=1/0,o=1/0;(s=Zs.capPixels(s,i))>0&&(r=Math.sqrt(s/(e*t))),-1!==n&&(a=n/e,o=n/t);const l=Math.min(r,a,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const en=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class tn{static get isDarkMode(){var e,t;return ms(this,"isDarkMode",!(null===(e=window)||void 0===e||null===(t=e.matchMedia)||void 0===t||!t.call(e,"(prefers-color-scheme: dark)").matches))}}function sn(e,t){const s=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(s,n,i),a=Math.min(s,n,i),o=(r+a)/2;if(r===a)t[0]=t[1]=0;else{const e=r-a;switch(t[1]=o<.5?e/(r+a):e/(2-r-a),r){case s:t[0]=60*((n-i)/e+(n<i?6:0));break;case n:t[0]=60*((i-s)/e+2);break;case i:t[0]=60*((s-n)/e+4)}}t[2]=o}function nn(e,t){const s=e[0],n=e[1],i=e[2],r=(1-Math.abs(2*i-1))*n,a=r*(1-Math.abs(s/60%2-1)),o=i-r/2;switch(Math.floor(s/60)){case 0:t[0]=r+o,t[1]=a+o,t[2]=o;break;case 1:t[0]=a+o,t[1]=r+o,t[2]=o;break;case 2:t[0]=o,t[1]=r+o,t[2]=a+o;break;case 3:t[0]=o,t[1]=a+o,t[2]=r+o;break;case 4:t[0]=a+o,t[1]=o,t[2]=r+o;break;case 5:case 6:t[0]=r+o,t[1]=o,t[2]=a+o}}function rn(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function an(e,t,s){nn(e,s),s.map(rn);const n=.2126*s[0]+.7152*s[1]+.0722*s[2];nn(t,s),s.map(rn);const i=.2126*s[0]+.7152*s[1]+.0722*s[2];return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)}const on=new Map;function ln(e,t){let{html:s,dir:n,className:i}=e;const r=document.createDocumentFragment();if("string"===typeof s){const e=document.createElement("p");e.dir=n||"auto";const t=s.split(/(?:\r\n?|\n)/);for(let s=0,n=t.length;s<n;++s){const i=t[s];e.append(document.createTextNode(i)),s<n-1&&e.append(document.createElement("br"))}r.append(e)}else Ls.render({xfaHtml:s,div:r,intent:"richText"});r.firstChild.classList.add("richText",i),t.append(r)}var cn=new WeakMap,dn=new WeakMap,hn=new WeakMap,un=new WeakMap,mn=new WeakMap,pn=new WeakMap,fn=new WeakMap,gn=new WeakMap,xn=new WeakSet;class vn{constructor(e){Ze(this,xn),et(this,cn,null),et(this,dn,null),et(this,hn,void 0),et(this,un,null),et(this,mn,null),et(this,pn,null),et(this,fn,null),et(this,gn,null),it(hn,this,e),kn._||(kn._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=it(cn,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=nt(hn,this)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Gs,{signal:t}),e.addEventListener("pointerdown",bn,{signal:t}));const s=it(un,this,document.createElement("div"));s.className="buttons",e.append(s);const n=nt(hn,this).toolbarPosition;if(n){const{style:t}=e,s="ltr"===nt(hn,this)._uiManager.direction?1-n[0]:n[0];t.insetInlineEnd="".concat(100*s,"%"),t.top="calc(".concat(100*n[1],"% + var(--editor-toolbar-vert-offset))")}return e}get div(){return nt(cn,this)}hide(){var e;nt(cn,this).classList.add("hidden"),null===(e=nt(dn,this))||void 0===e||e.hideDropdown()}show(){var e,t;nt(cn,this).classList.remove("hidden"),null===(e=nt(mn,this))||void 0===e||e.shown(),null===(t=nt(pn,this))||void 0===t||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=nt(hn,this),s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",kn._[e]),tt(xn,this,jn).call(this,s)&&s.addEventListener("click",e=>{t.delete()},{signal:t._signal}),nt(un,this).append(s)}async addAltText(e){const t=await e.render();tt(xn,this,jn).call(this,t),nt(un,this).append(t,st(xn,this,Nn)),it(mn,this,e)}addComment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(nt(pn,this))return;const s=e.renderForToolbar();if(!s)return;tt(xn,this,jn).call(this,s);const n=it(fn,this,st(xn,this,Nn));t?(nt(un,this).insertBefore(s,t),nt(un,this).insertBefore(n,t)):nt(un,this).append(s,n),it(pn,this,e),e.toolbar=this}addColorPicker(e){if(nt(dn,this))return;it(dn,this,e);const t=e.renderButton();tt(xn,this,jn).call(this,t),nt(un,this).append(t,st(xn,this,Nn))}async addEditSignatureButton(e){const t=it(gn,this,await e.renderEditButton(nt(hn,this)));tt(xn,this,jn).call(this,t),nt(un,this).append(t,st(xn,this,Nn))}removeButton(e){var t,s;if("comment"===e)null===(t=nt(pn,this))||void 0===t||t.removeToolbarCommentButton(),it(pn,this,null),null===(s=nt(fn,this))||void 0===s||s.remove(),it(fn,this,null)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t)}}async addButtonBefore(e,t,s){const n=nt(un,this).querySelector(s);n&&"comment"===e&&this.addComment(t,n)}updateEditSignatureButton(e){nt(gn,this)&&(nt(gn,this).title=e)}remove(){var e;nt(cn,this).remove(),null===(e=nt(dn,this))||void 0===e||e.destroy(),it(dn,this,null)}}function bn(e){e.stopPropagation()}function yn(e){nt(hn,this)._focusEventsAllowed=!1,qs(e)}function wn(e){nt(hn,this)._focusEventsAllowed=!0,qs(e)}function jn(e){const t=nt(hn,this)._uiManager._signal;return t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("focusin",tt(xn,this,yn).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",tt(xn,this,wn).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Gs,{signal:t}),!0)}function Nn(e){const t=document.createElement("div");return t.className="divider",t}var kn={_:null},Sn=new WeakMap,An=new WeakMap,_n=new WeakMap,Cn=new WeakSet;class En{constructor(e){Ze(this,Cn),et(this,Sn,null),et(this,An,null),et(this,_n,void 0),it(_n,this,e)}show(e,t,s){const[n,i]=tt(Cn,this,Pn).call(this,t,s),{style:r}=nt(An,this)||it(An,this,tt(Cn,this,Mn).call(this));e.append(nt(An,this)),r.insetInlineEnd="".concat(100*n,"%"),r.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){nt(An,this).remove()}}function Mn(){const e=it(An,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=nt(_n,this)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Gs,{signal:t});const s=it(Sn,this,document.createElement("div"));return s.className="buttons",e.append(s),nt(_n,this).hasCommentManager()&&tt(Cn,this,Tn).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{nt(_n,this).commentSelection("floating_button")}),tt(Cn,this,Tn).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{nt(_n,this).highlightSelection("floating_button")}),e}function Pn(e,t){let s=0,n=0;for(const i of e){const e=i.y+i.height;if(e<s)continue;const r=i.x+(t?i.width:0);e>s?(n=r,s=e):t?r>n&&(n=r):r<n&&(n=r)}return[t?1-n:n,s]}function Tn(e,t,s,n){const i=document.createElement("button");i.classList.add("basic",e),i.tabIndex=0,i.setAttribute("data-l10n-id",t);const r=document.createElement("span");i.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id",s);const a=nt(_n,this)._signal;a instanceof AbortSignal&&!a.aborted&&(i.addEventListener("contextmenu",Gs,{signal:a}),i.addEventListener("click",n,{signal:a})),nt(Sn,this).append(i)}function Rn(e,t,s){for(const n of s)t.addEventListener(n,e[n].bind(e))}var Dn=new WeakMap;class Ln{constructor(){et(this,Dn,0)}get id(){var e,t;return"".concat(It).concat((it(Dn,this,(e=nt(Dn,this),t=e++,e)),t))}}var In=new WeakMap,Fn=new WeakMap,On=new WeakMap,Bn=new WeakSet;class Wn{constructor(){Ze(this,Bn),et(this,In,Ms()),et(this,Fn,0),et(this,On,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return ms(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:s,size:n,type:i}=e;return tt(Bn,this,zn).call(this,"".concat(t,"_").concat(s,"_").concat(n,"_").concat(i),e)}async getFromUrl(e){return tt(Bn,this,zn).call(this,e,e)}async getFromBlob(e,t){const s=await t;return tt(Bn,this,zn).call(this,e,s)}async getFromId(e){nt(On,this)||it(On,this,new Map);const t=nt(On,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var s,n,i;nt(On,this)||it(On,this,new Map);let r=nt(On,this).get(e);if(null!==(i=r)&&void 0!==i&&i.bitmap)return r.refCounter+=1,r;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),r={bitmap:a.transferToImageBitmap(),id:"image_".concat(nt(In,this),"_").concat((it(Fn,this,(s=nt(Fn,this),n=s++,s)),n)),refCounter:1,isSvg:!1},nt(On,this).set(e,r),nt(On,this).set(r.id,r),r}getSvgUrl(e){const t=nt(On,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;nt(On,this)||it(On,this,new Map);const s=nt(On,this).get(e);if(!s)return;if(s.refCounter-=1,0!==s.refCounter)return;const{bitmap:n}=s;if(!s.url&&!s.file){const e=new OffscreenCanvas(n.width,n.height);e.getContext("bitmaprenderer").transferFromImageBitmap(n),s.blobPromise=e.convertToBlob()}null===(t=n.close)||void 0===t||t.call(n),s.bitmap=null}isValidId(e){return e.startsWith("image_".concat(nt(In,this),"_"))}}async function zn(e,t){var s;nt(On,this)||it(On,this,new Map);let n=nt(On,this).get(e);if(null===n)return null;if(null!==(s=n)&&void 0!==s&&s.bitmap)return n.refCounter+=1,n;try{var i,r;let e;if(n||(n={bitmap:null,id:"image_".concat(nt(In,this),"_").concat((it(Fn,this,(i=nt(Fn,this),r=i++,i)),r)),refCounter:0,isSvg:!1}),"string"===typeof t?(n.url=t,e=await Os(t,"blob")):t instanceof File?e=n.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=lt._isSVGFittingCanvas,s=new FileReader,i=new Image,r=new Promise((e,r)=>{i.onload=()=>{n.bitmap=i,n.isSvg=!0,e()},s.onload=async()=>{const e=n.svgUrl=s.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=s.onerror=r});s.readAsDataURL(e),await r}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(Gy){ls(Gy),n=null}return nt(On,this).set(e,n),n&&nt(On,this).set(n.id,n),n}lt=Wn;var Un=new WeakMap,Hn=new WeakMap,Vn=new WeakMap,Gn=new WeakMap;class qn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;et(this,Un,[]),et(this,Hn,!1),et(this,Vn,void 0),et(this,Gn,-1),it(Vn,this,e)}add(e){let{cmd:t,undo:s,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(i&&t(),nt(Hn,this))return;const l={cmd:t,undo:s,post:n,type:r};if(-1===nt(Gn,this))return nt(Un,this).length>0&&(nt(Un,this).length=0),it(Gn,this,0),void nt(Un,this).push(l);if(a&&nt(Un,this)[nt(Gn,this)].type===r)return o&&(l.undo=nt(Un,this)[nt(Gn,this)].undo),void(nt(Un,this)[nt(Gn,this)]=l);const c=nt(Gn,this)+1;c===nt(Vn,this)?nt(Un,this).splice(0,1):(it(Gn,this,c),c<nt(Un,this).length&&nt(Un,this).splice(c)),nt(Un,this).push(l)}undo(){if(-1===nt(Gn,this))return;it(Hn,this,!0);const{undo:e,post:t}=nt(Un,this)[nt(Gn,this)];e(),null===t||void 0===t||t(),it(Hn,this,!1),it(Gn,this,nt(Gn,this)-1)}redo(){if(nt(Gn,this)<nt(Un,this).length-1){it(Gn,this,nt(Gn,this)+1),it(Hn,this,!0);const{cmd:e,post:t}=nt(Un,this)[nt(Gn,this)];e(),null===t||void 0===t||t(),it(Hn,this,!1)}}hasSomethingToUndo(){return-1!==nt(Gn,this)}hasSomethingToRedo(){return nt(Gn,this)<nt(Un,this).length-1}cleanType(e){if(-1!==nt(Gn,this)){for(let t=nt(Gn,this);t>=0;t--)if(nt(Un,this)[t].type!==e)return nt(Un,this).splice(t+1,nt(Gn,this)-t),void it(Gn,this,t);nt(Un,this).length=0,it(Gn,this,-1)}}destroy(){it(Un,this,null)}}var Xn=new WeakSet;class Yn{constructor(e){Ze(this,Xn),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ns.platform;for(const[s,n,i={}]of e)for(const e of s){const s=e.startsWith("mac+");t&&s?(this.callbacks.set(e.slice(4),{callback:n,options:i}),this.allKeys.add(e.split("+").at(-1))):t||s||(this.callbacks.set(e,{callback:n,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(tt(Xn,this,Kn).call(this,t));if(!s)return;const{callback:n,options:{bubbles:i=!1,args:r=[],checker:a=null}}=s;a&&!a(e,t)||(n.bind(e,...r,t)(),i||qs(t))}}function Kn(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class Jn{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const s of e.keys()){t.style.color=s;const n=window.getComputedStyle(t).color;e.set(s,Ks(n))}t.remove()}(e),ms(this,"_colors",e)}convert(e){const t=Ks(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,n]of this._colors)if(n.every((e,s)=>e===t[s]))return Jn._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?Ss.makeHexColor(...t):e}}Ye(Jn,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Qn=new WeakMap,$n=new WeakMap,Zn=new WeakMap,ei=new WeakMap,ti=new WeakMap,si=new WeakMap,ni=new WeakMap,ii=new WeakMap,ri=new WeakMap,ai=new WeakMap,oi=new WeakMap,li=new WeakMap,ci=new WeakMap,di=new WeakMap,hi=new WeakMap,ui=new WeakMap,mi=new WeakMap,pi=new WeakMap,fi=new WeakMap,gi=new WeakMap,xi=new WeakMap,vi=new WeakMap,bi=new WeakMap,yi=new WeakMap,wi=new WeakMap,ji=new WeakMap,Ni=new WeakMap,ki=new WeakMap,Si=new WeakMap,Ai=new WeakMap,_i=new WeakMap,Ci=new WeakMap,Ei=new WeakMap,Mi=new WeakMap,Pi=new WeakMap,Ti=new WeakMap,Ri=new WeakMap,Di=new WeakMap,Li=new WeakMap,Ii=new WeakMap,Fi=new WeakMap,Oi=new WeakMap,Bi=new WeakMap,Wi=new WeakMap,zi=new WeakMap,Ui=new WeakMap,Hi=new WeakMap,Vi=new WeakMap,Gi=new WeakMap,qi=new WeakSet;class Xi{static get _keyboardManager(){const e=Xi.prototype,t=e=>nt(Ui,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),s=(e,t)=>{let{target:s}=t;if(s instanceof HTMLInputElement){const{type:e}=s;return"text"!==e&&"number"!==e}return!0},n=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return ms(this,"_keyboardManager",new Yn([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:s}=t;return!(s instanceof HTMLButtonElement)&&nt(Ui,e).contains(s)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:s}=t;return!(s instanceof HTMLButtonElement)&&nt(Ui,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,s,n,i,r,a,o,l,c,d,h,u,m,p,f){Ze(this,qi),et(this,Qn,new AbortController),et(this,$n,null),et(this,Zn,null),et(this,ei,new Map),et(this,ti,new Map),et(this,si,null),et(this,ni,null),et(this,ii,null),et(this,ri,new qn),et(this,ai,null),et(this,oi,null),et(this,li,null),et(this,ci,0),et(this,di,new Set),et(this,hi,null),et(this,ui,null),et(this,mi,new Set),Ye(this,"_editorUndoBar",null),et(this,pi,!1),et(this,fi,!1),et(this,gi,!1),et(this,xi,null),et(this,vi,null),et(this,bi,null),et(this,yi,null),et(this,wi,!1),et(this,ji,null),et(this,Ni,new Ln),et(this,ki,!1),et(this,Si,!1),et(this,Ai,!1),et(this,_i,null),et(this,Ci,null),et(this,Ei,null),et(this,Mi,null),et(this,Pi,null),et(this,Ti,Ft.NONE),et(this,Ri,new Set),et(this,Di,null),et(this,Li,null),et(this,Ii,null),et(this,Fi,null),et(this,Oi,null),et(this,Bi,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),et(this,Wi,[0,0]),et(this,zi,null),et(this,Ui,null),et(this,Hi,null),et(this,Vi,null),et(this,Gi,null);const g=this._signal=nt(Qn,this).signal;it(Ui,this,e),it(Hi,this,t),it(Vi,this,s),it(si,this,n),it(ai,this,i),it(Li,this,r),it(Oi,this,o),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:g}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),a._on("setpreference",this.onSetPreference.bind(this),{signal:g}),a._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:g}),window.addEventListener("pointerdown",()=>{it(Si,this,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{it(Si,this,!1)},{capture:!0,signal:g}),tt(qi,this,Zi).call(this),tt(qi,this,ar).call(this),tt(qi,this,sr).call(this),it(ni,this,o.annotationStorage),it(xi,this,o.filterFactory),it(Ii,this,l),it(yi,this,c||null),it(pi,this,d),it(fi,this,h),it(gi,this,u),it(Pi,this,m||null),this.viewParameters={realScale:Fs.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=!1!==f,null===i||void 0===i||i.setSidebarUiManager(this)}destroy(){var e,t,s,n,i,r,a,o,l;null===(e=nt(Gi,this))||void 0===e||e.resolve(),it(Gi,this,null),null===(t=nt(Qn,this))||void 0===t||t.abort(),it(Qn,this,null),this._signal=null;for(const c of nt(ti,this).values())c.destroy();nt(ti,this).clear(),nt(ei,this).clear(),nt(mi,this).clear(),null===(s=nt(Mi,this))||void 0===s||s.clear(),it($n,this,null),nt(Ri,this).clear(),nt(ri,this).destroy(),null===(n=nt(si,this))||void 0===n||n.destroy(),null===(i=nt(ai,this))||void 0===i||i.destroy(),null===(r=nt(Li,this))||void 0===r||r.destroy(),null===(a=nt(ji,this))||void 0===a||a.hide(),it(ji,this,null),null===(o=nt(Ei,this))||void 0===o||o.destroy(),it(Ei,this,null),it(Zn,this,null),nt(vi,this)&&(clearTimeout(nt(vi,this)),it(vi,this,null)),nt(zi,this)&&(clearTimeout(nt(zi,this)),it(zi,this,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),it(Oi,this,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return nt(Pi,this)}get useNewAltTextFlow(){return nt(fi,this)}get useNewAltTextWhenAddingImage(){return nt(gi,this)}get hcmFilter(){return ms(this,"hcmFilter",nt(Ii,this)?nt(xi,this).addHCMFilter(nt(Ii,this).foreground,nt(Ii,this).background):"none")}get direction(){return ms(this,"direction",getComputedStyle(nt(Ui,this)).direction)}get _highlightColors(){return ms(this,"_highlightColors",nt(yi,this)?new Map(nt(yi,this).split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ms(this,"highlightColors",null);const t=new Map,s=!!nt(Ii,this);for(const[n,i]of e){const e=n.endsWith("_HCM");s&&e?t.set(n.replace("_HCM",""),i):s||e||t.set(n,i)}return ms(this,"highlightColors",t)}get highlightColorNames(){return ms(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),it(li,this,e)}setMainHighlightColorPicker(e){it(Ei,this,e)}editAltText(e){var t;let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=nt(si,this))||void 0===t||t.editAltText(this,e,s)}hasCommentManager(){return!!nt(ai,this)}editComment(e,t,s,n){var i;null===(i=nt(ai,this))||void 0===i||i.showDialog(this,e,t,s,n)}selectComment(e,t){const s=nt(ti,this).get(e),n=null===s||void 0===s?void 0:s.getEditorByUID(t);null===n||void 0===n||n.toggleComment(!0,!0)}updateComment(e){var t;null===(t=nt(ai,this))||void 0===t||t.updateComment(e.getData())}updatePopupColor(e){var t;null===(t=nt(ai,this))||void 0===t||t.updatePopupColor(e)}removeComment(e){var t;null===(t=nt(ai,this))||void 0===t||t.removeComments([e.uid])}toggleComment(e,t){var s;let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;null===(s=nt(ai,this))||void 0===s||s.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var s;return e&&(null===(s=nt(ai,this))||void 0===s?void 0:s.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return(null===(e=nt(ai,this))||void 0===e?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(nt(ti,this).has(e-1))return;const{resolve:t,promise:s}=Promise.withResolvers(),n=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",n),t())};this._eventBus.on("editorsrendered",n),await s}getSignature(e){var t;null===(t=nt(Li,this))||void 0===t||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return nt(Li,this)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:s}=e;if("enableNewAltTextWhenAddingImage"===t)it(gi,this,s)}onPageChanging(e){let{pageNumber:t}=e;it(ci,this,t-1)}focusMainContainer(){nt(Ui,this).focus()}findParent(e,t){for(const s of nt(ti,this).values()){const{x:n,y:i,width:r,height:a}=s.div.getBoundingClientRect();if(e>=n&&e<=n+r&&t>=i&&t<=i+a)return s}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];nt(Hi,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){nt(mi,this).add(e)}removeShouldRescale(e){nt(mi,this).delete(e)}onScaleChanging(e){var t;let{scale:s}=e;this.commitOrRemove(),this.viewParameters.realScale=s*Fs.PDF_TO_CSS_UNITS;for(const n of nt(mi,this))n.onScaleChanging();null===(t=nt(li,this))||void 0===t||t.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a}=s,o=s.toString(),l=tt(qi,this,Yi).call(this,s).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;s.empty();const d=tt(qi,this,Ki).call(this,l),h=nt(Ti,this)===Ft.NONE,u=()=>{const s=null===d||void 0===d?void 0:d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:a,text:o});h&&this.showAllEditors("highlight",!0,!0),t&&(null===s||void 0===s||s.editComment())};h?this.switchToMode(Ft.HIGHLIGHT,u):u()}commentSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!nt(ni,this))return null;const t="".concat(It).concat(e),s=nt(ni,this).getRawValue(t);return s&&nt(ni,this).remove(t),s}addToAnnotationStorage(e){e.isEmpty()||!nt(ni,this)||nt(ni,this).has(e.id)||nt(ni,this).setValue(e.id,e)}a11yAlert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=nt(Vi,this);s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,nt(wi,this)&&(it(wi,this,!1),tt(qi,this,$i).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of nt(Ri,this))if(t.div.contains(e)){it(Ci,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!nt(Ci,this))return;const[e,t]=nt(Ci,this);it(Ci,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){tt(qi,this,sr).call(this),tt(qi,this,ir).call(this)}removeEditListeners(){tt(qi,this,nr).call(this),tt(qi,this,rr).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of nt(ui,this))if(s.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const s of nt(ui,this))if(s.isHandlingMimeForPasting(t.type))return s.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=nt($n,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const s=[];for(const n of nt(Ri,this)){const e=n.serialize(!0);e&&s.push(e)}0!==s.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(s))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const e of nt(ui,this))if(e.isHandlingMimeForPasting(r.type))return void e.paste(r,this.currentLayer);let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(i){return void ls('paste: "'.concat(i.message,'".'))}if(!Array.isArray(s))return;this.unselectAll();const n=this.currentLayer;try{const e=[];for(const r of s){const t=await n.deserialize(r);if(!t)return;e.push(t)}const t=()=>{for(const t of e)tt(qi,this,hr).call(this,t);tt(qi,this,pr).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){ls('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),nt(Ti,this)===Ft.NONE||this.isEditorHandlingKeyboard||Xi._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,nt(wi,this)&&(it(wi,this,!1),tt(qi,this,$i).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(e){e?(tt(qi,this,er).call(this),tt(qi,this,ir).call(this),tt(qi,this,or).call(this,{isEditing:nt(Ti,this)!==Ft.NONE,isEmpty:tt(qi,this,mr).call(this),hasSomethingToUndo:nt(ri,this).hasSomethingToUndo(),hasSomethingToRedo:nt(ri,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(tt(qi,this,tr).call(this),tt(qi,this,rr).call(this),tt(qi,this,or).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!nt(ui,this)){it(ui,this,e);for(const e of nt(ui,this))tt(qi,this,lr).call(this,e.defaultPropertiesToUpdate)}}getId(){return nt(Ni,this).id}get currentLayer(){return nt(ti,this).get(nt(ci,this))}getLayer(e){return nt(ti,this).get(e)}get currentPageIndex(){return nt(ci,this)}addLayer(e){nt(ti,this).set(e.pageIndex,e),nt(ki,this)?e.enable():e.disable()}removeLayer(e){nt(ti,this).delete(e.pageIndex)}async updateMode(e){var t,s;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(nt(Ti,this)!==e&&(!nt(Gi,this)||(await nt(Gi,this).promise,nt(Gi,this)))){var o,l;if(it(Gi,this,Promise.withResolvers()),null===(t=nt(li,this))||void 0===t||t.commitOrRemove(),nt(Ti,this)===Ft.POPUP)null===(o=nt(ai,this))||void 0===o||o.hideSidebar();if(null===(s=nt(ai,this))||void 0===s||s.destroyPopup(),it(Ti,this,e),e===Ft.NONE){var c;this.setEditingState(!1),tt(qi,this,dr).call(this);for(const e of nt(ei,this).values())e.hideStandaloneCommentButton();return null===(c=this._editorUndoBar)||void 0===c||c.hide(),this.toggleComment(null),void nt(Gi,this).resolve()}for(const e of nt(ei,this).values())e.addStandaloneCommentButton();if(e===Ft.SIGNATURE)await(null===(l=nt(Li,this))||void 0===l?void 0:l.loadSignatures());this.setEditingState(!0),await tt(qi,this,cr).call(this),this.unselectAll();for(const t of nt(ti,this).values())t.updateMode(e);if(e===Ft.POPUP){var d;nt(Zn,this)||it(Zn,this,await nt(Oi,this).getAnnotationsByType(new Set(nt(ui,this).map(e=>e._editorType))));const e=new Set,t=[];for(const s of nt(ei,this).values()){const{annotationElementId:n,hasComment:i,deleted:r}=s;n&&e.add(n),i&&!r&&t.push(s.getData())}for(const s of nt(Zn,this)){const{id:n,popupRef:i,contentsObj:r}=s;i&&null!==r&&void 0!==r&&r.str&&!e.has(n)&&!nt(di,this).has(n)&&t.push(s)}null===(d=nt(ai,this))||void 0===d||d.showSidebar(t)}if(!n)return i&&this.addNewEditorFromKeyboard(),void nt(Gi,this).resolve();for(const e of nt(ei,this).values())e.uid===n?(this.setSelected(e),a?e.editComment():r?e.enterInEditMode():e.focus()):e.unselect();nt(Gi,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==nt(Ti,this)&&this._eventBus.dispatch("switchannotationeditormode",Je({source:this},e))}updateParams(e,t){if(nt(ui,this)){switch(e){case Ot.CREATE:return void this.currentLayer.addNewEditor(t);case Ot.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(nt(Fi,this)||it(Fi,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}if(this.hasSelection)for(const s of nt(Ri,this))s.updateParams(e,t);else for(const s of nt(ui,this))s.updateDefaultParams(e,t)}}showAllEditors(e,t){var s,n;for(const i of nt(ei,this).values())i.editorType===e&&i.show(t);(null===(s=null===(n=nt(Fi,this))||void 0===n?void 0:n.get(Ot.HIGHLIGHT_SHOW_ALL))||void 0===s||s)!==t&&tt(qi,this,lr).call(this,[[Ot.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(nt(Ai,this)!==e){it(Ai,this,e);for(const t of nt(ti,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of nt(ei,this).values())t.pageIndex===e&&(yield t)}getEditor(e){return nt(ei,this).get(e)}addEditor(e){nt(ei,this).set(e.id,e)}removeEditor(e){var t,s;(e.div.contains(document.activeElement)&&(nt(vi,this)&&clearTimeout(nt(vi,this)),it(vi,this,setTimeout(()=>{this.focusMainContainer(),it(vi,this,null)},0))),nt(ei,this).delete(e.id),e.annotationElementId)&&(null===(t=nt(Mi,this))||void 0===t||t.delete(e.annotationElementId));(this.unselect(e),e.annotationElementId&&nt(di,this).has(e.annotationElementId))||(null===(s=nt(ni,this))||void 0===s||s.remove(e.id))}addDeletedAnnotationElement(e){nt(di,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return nt(di,this).has(e)}removeDeletedAnnotationElement(e){nt(di,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){nt($n,this)!==e&&(it($n,this,e),e&&tt(qi,this,lr).call(this,e.propertiesToUpdate))}updateUI(e){st(qi,this,ur)===e&&tt(qi,this,lr).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){tt(qi,this,lr).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(nt(Ri,this).has(e))return nt(Ri,this).delete(e),e.unselect(),void tt(qi,this,or).call(this,{hasSelectedEditor:this.hasSelection});nt(Ri,this).add(e),e.select(),tt(qi,this,lr).call(this,e.propertiesToUpdate),tt(qi,this,or).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),null===(t=nt(li,this))||void 0===t||t.commitOrRemove();for(const s of nt(Ri,this))s!==e&&s.unselect();nt(Ri,this).clear(),nt(Ri,this).add(e),e.select(),tt(qi,this,lr).call(this,e.propertiesToUpdate),tt(qi,this,or).call(this,{hasSelectedEditor:!0})}isSelected(e){return nt(Ri,this).has(e)}get firstSelectedEditor(){return nt(Ri,this).values().next().value}unselect(e){e.unselect(),nt(Ri,this).delete(e),tt(qi,this,or).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==nt(Ri,this).size}get isEnterHandled(){return 1===nt(Ri,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;nt(ri,this).undo(),tt(qi,this,or).call(this,{hasSomethingToUndo:nt(ri,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:tt(qi,this,mr).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}redo(){nt(ri,this).redo(),tt(qi,this,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:nt(ri,this).hasSomethingToRedo(),isEmpty:tt(qi,this,mr).call(this)})}addCommands(e){nt(ri,this).add(e),tt(qi,this,or).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:tt(qi,this,mr).call(this)})}cleanUndoStack(e){nt(ri,this).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const s=t?[t]:[...nt(Ri,this)],n=()=>{for(const e of s)tt(qi,this,hr).call(this,e)};this.addCommands({cmd:()=>{var e;null===(e=this._editorUndoBar)||void 0===e||e.show(n,1===s.length?s[0].editorType:s.length);for(const t of s)t.remove()},undo:n,mustExec:!0})}commitOrRemove(){var e;null===(e=nt($n,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return nt($n,this)||this.hasSelection}selectAll(){for(const e of nt(Ri,this))e.commit();tt(qi,this,pr).call(this,nt(ei,this).values())}unselectAll(){var e;if((!nt($n,this)||(nt($n,this).commitOrRemove(),nt(Ti,this)===Ft.NONE))&&(null===(e=nt(li,this))||void 0===e||!e.commitOrRemove())&&this.hasSelection){for(const e of nt(Ri,this))e.unselect();nt(Ri,this).clear(),tt(qi,this,or).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;nt(Wi,this)[0]+=e,nt(Wi,this)[1]+=t;const[s,n]=nt(Wi,this),i=[...nt(Ri,this)];nt(zi,this)&&clearTimeout(nt(zi,this)),it(zi,this,setTimeout(()=>{it(zi,this,null),nt(Wi,this)[0]=nt(Wi,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)nt(ei,this).has(e.id)&&(e.translateInPage(s,n),e.translationDone())},undo:()=>{for(const e of i)nt(ei,this).has(e.id)&&(e.translateInPage(-s,-n),e.translationDone())},mustExec:!1})},1e3));for(const r of i)r.translateInPage(e,t),r.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),it(hi,this,new Map);for(const e of nt(Ri,this))nt(hi,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!nt(hi,this))return!1;this.disableUserSelect(!1);const e=nt(hi,this);it(hi,this,null);let t=!1;for(const[{x:n,y:i,pageIndex:r},a]of e)a.newX=n,a.newY=i,a.newPageIndex=r,t||(t=n!==a.savedX||i!==a.savedY||r!==a.savedPageIndex);if(!t)return!1;const s=(e,t,s,n)=>{if(nt(ei,this).has(e.id)){const i=nt(ti,this).get(n);i?e._setParentAndPosition(i,t,s):(e.pageIndex=n,e.x=t,e.y=s)}};return this.addCommands({cmd:()=>{for(const[t,{newX:n,newY:i,newPageIndex:r}]of e)s(t,n,i,r)},undo:()=>{for(const[t,{savedX:n,savedY:i,savedPageIndex:r}]of e)s(t,n,i,r)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(nt(hi,this))for(const s of nt(hi,this).keys())s.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===nt(Ri,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return nt($n,this)===e}getActive(){return nt($n,this)}getMode(){return nt(Ti,this)}isEditingMode(){return nt(Ti,this)!==Ft.NONE}get imageManager(){return ms(this,"imageManager",new Wn)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:s,y:n,width:i,height:r}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-n)/r,y:1-(e+a-s)/i,width:o/r,height:a/i});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-s)/i,y:1-(t+o-n)/r,width:a/i,height:o/r});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-n)/r,y:(e-s)/i,width:o/r,height:a/i});break;default:a=(e,t,a,o)=>({x:(e-s)/i,y:(t-n)/r,width:a/i,height:o/r})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:s,width:n,height:i}of e.getClientRects())0!==n&&0!==i&&o.push(a(t,s,n,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:s}=e;(nt(ii,this)||it(ii,this,new Map)).set(t,s)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:s}=e;null===(t=nt(ii,this))||void 0===t||t.delete(s)}renderAnnotationElement(e){var t;const s=null===(t=nt(ii,this))||void 0===t?void 0:t.get(e.data.id);if(!s)return;const n=nt(ni,this).getRawValue(s);n&&(nt(Ti,this)!==Ft.NONE||n.hasBeenModified)&&n.renderAnnotationElement(e)}setMissingCanvas(e,t,s){var n;const i=null===(n=nt(Mi,this))||void 0===n?void 0:n.get(e);i&&(i.setCanvas(t,s),nt(Mi,this).delete(e))}addMissingCanvas(e,t){(nt(Mi,this)||it(Mi,this,new Map)).set(e,t)}}function Yi(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function Ki(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of nt(ti,this).values())if(s.hasTextLayer(e))return s;return null}function Ji(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=tt(qi,this,Yi).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(t);s&&(nt(ji,this)||it(ji,this,new En(this)),nt(ji,this).show(t,s,"ltr"===this.direction))}function Qi(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var s;if(nt(Di,this))null===(s=nt(ji,this))||void 0===s||s.hide(),it(Di,this,null),tt(qi,this,or).call(this,{hasSelectedText:!1});return}const{anchorNode:n}=t;if(n===nt(Di,this))return;const i=tt(qi,this,Yi).call(this,t).closest(".textLayer");var r;if(i){if(null===(e=nt(ji,this))||void 0===e||e.hide(),it(Di,this,n),tt(qi,this,or).call(this,{hasSelectedText:!0}),(nt(Ti,this)===Ft.HIGHLIGHT||nt(Ti,this)===Ft.NONE)&&(nt(Ti,this)===Ft.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),it(wi,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=nt(Ti,this)===Ft.HIGHLIGHT?tt(qi,this,Ki).call(this,i):null;if(null===e||void 0===e||e.toggleDrawing(),nt(Si,this)){const t=new AbortController,s=this.combinedSignal(t),n=s=>{"pointerup"===s.type&&0!==s.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===s.type&&tt(qi,this,$i).call(this,"main_toolbar"))};window.addEventListener("pointerup",n,{signal:s}),window.addEventListener("blur",n,{signal:s})}else null===e||void 0===e||e.toggleDrawing(!0),tt(qi,this,$i).call(this,"main_toolbar")}}else nt(Di,this)&&(null===(r=nt(ji,this))||void 0===r||r.hide(),it(Di,this,null),tt(qi,this,or).call(this,{hasSelectedText:!1}))}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";nt(Ti,this)===Ft.HIGHLIGHT?this.highlightSelection(e):nt(pi,this)&&tt(qi,this,Ji).call(this)}function Zi(){document.addEventListener("selectionchange",tt(qi,this,Qi).bind(this),{signal:this._signal})}function er(){if(nt(bi,this))return;it(bi,this,new AbortController);const e=this.combinedSignal(nt(bi,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function tr(){var e;null===(e=nt(bi,this))||void 0===e||e.abort(),it(bi,this,null)}function sr(){if(nt(_i,this))return;it(_i,this,new AbortController);const e=this.combinedSignal(nt(_i,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function nr(){var e;null===(e=nt(_i,this))||void 0===e||e.abort(),it(_i,this,null)}function ir(){if(nt(oi,this))return;it(oi,this,new AbortController);const e=this.combinedSignal(nt(oi,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function rr(){var e;null===(e=nt(oi,this))||void 0===e||e.abort(),it(oi,this,null)}function ar(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function or(e){Object.entries(e).some(e=>{let[t,s]=e;return nt(Bi,this)[t]!==s})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(nt(Bi,this),e)}),nt(Ti,this)===Ft.HIGHLIGHT&&!1===e.hasSelectedEditor&&tt(qi,this,lr).call(this,[[Ot.HIGHLIGHT_FREE,!0]]))}function lr(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function cr(){if(!nt(ki,this)){it(ki,this,!0);const e=[];for(const t of nt(ti,this).values())e.push(t.enable());await Promise.all(e);for(const t of nt(ei,this).values())t.enable()}}function dr(){if(this.unselectAll(),nt(ki,this)){it(ki,this,!1);for(const e of nt(ti,this).values())e.disable();for(const e of nt(ei,this).values())e.disable()}}function hr(e){const t=nt(ti,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function ur(e){let t=null;for(t of nt(Ri,e));return t}function mr(){if(0===nt(ei,this).size)return!0;if(1===nt(ei,this).size)for(const e of nt(ei,this).values())return e.isEmpty();return!1}function pr(e){for(const t of nt(Ri,this))t.unselect();nt(Ri,this).clear();for(const t of e)t.isEmpty()||(nt(Ri,this).add(t),t.select());tt(qi,this,or).call(this,{hasSelectedEditor:this.hasSelection})}Ye(Xi,"TRANSLATE_SMALL",1),Ye(Xi,"TRANSLATE_BIG",10);var fr=new WeakMap,gr=new WeakMap,xr=new WeakMap,vr=new WeakMap,br=new WeakMap,yr=new WeakMap,wr=new WeakMap,jr=new WeakMap,Nr=new WeakMap,kr=new WeakMap,Sr=new WeakMap,Ar=new WeakMap,_r=new WeakSet;class Cr{constructor(e){Ze(this,_r),et(this,fr,null),et(this,gr,!1),et(this,xr,null),et(this,vr,null),et(this,br,null),et(this,yr,null),et(this,wr,!1),et(this,jr,null),et(this,Nr,null),et(this,kr,null),et(this,Sr,null),et(this,Ar,!1),it(Nr,this,e),it(Ar,this,e._uiManager.useNewAltTextFlow),Pr._||(Pr._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=Cr._l10n)&&void 0!==t||(Cr._l10n=e)}async render(){const e=it(xr,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=it(vr,this,document.createElement("span"));e.append(t),nt(Ar,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Pr._.missing),t.setAttribute("data-l10n-id",Pr._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=nt(Nr,this)._uiManager._signal;e.addEventListener("contextmenu",Gs,{signal:s}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:s});const n=e=>{e.preventDefault(),nt(Nr,this)._uiManager.editAltText(nt(Nr,this)),nt(Ar,this)&&nt(Nr,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:st(_r,this,Er)}})};return e.addEventListener("click",n,{capture:!0,signal:s}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(it(wr,this,!0),n(t))},{signal:s}),await tt(_r,this,Mr).call(this),e}finish(){nt(xr,this)&&(nt(xr,this).focus({focusVisible:nt(wr,this)}),it(wr,this,!1))}isEmpty(){return nt(Ar,this)?null===nt(fr,this):!nt(fr,this)&&!nt(gr,this)}hasData(){return nt(Ar,this)?null!==nt(fr,this)||!!nt(kr,this):this.isEmpty()}get guessedText(){return nt(kr,this)}async setGuessedText(e){null===nt(fr,this)&&(it(kr,this,e),it(Sr,this,await Cr._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),tt(_r,this,Mr).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!nt(Ar,this)||nt(fr,this))return null===(t=nt(jr,this))||void 0===t||t.remove(),void it(jr,this,null);if(!nt(jr,this)){const e=it(jr,this,document.createElement("div"));e.className="noAltTextBadge",nt(Nr,this).div.append(e)}nt(jr,this).classList.toggle("hidden",!e)}serialize(e){let t=nt(fr,this);return e||nt(kr,this)!==t||(t=nt(Sr,this)),{altText:t,decorative:nt(gr,this),guessedText:nt(kr,this),textWithDisclaimer:nt(Sr,this)}}get data(){return{altText:nt(fr,this),decorative:nt(gr,this)}}set data(e){let{altText:t,decorative:s,guessedText:n,textWithDisclaimer:i,cancel:r=!1}=e;n&&(it(kr,this,n),it(Sr,this,i)),nt(fr,this)===t&&nt(gr,this)===s||(r||(it(fr,this,t),it(gr,this,s)),tt(_r,this,Mr).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];nt(xr,this)&&(!e&&nt(yr,this)&&(clearTimeout(nt(yr,this)),it(yr,this,null)),nt(xr,this).disabled=!e)}shown(){nt(Nr,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:st(_r,this,Er)}})}destroy(){var e,t;null===(e=nt(xr,this))||void 0===e||e.remove(),it(xr,this,null),it(vr,this,null),it(br,this,null),null===(t=nt(jr,this))||void 0===t||t.remove(),it(jr,this,null)}}function Er(e){return(nt(fr,e)?"added":null===nt(fr,e)&&e.guessedText&&"review")||"missing"}async function Mr(){const e=nt(xr,this);if(!e)return;if(nt(Ar,this)){var t,s;if(e.classList.toggle("done",!!nt(fr,this)),e.setAttribute("data-l10n-id",Pr._[st(_r,this,Er)]),null===(t=nt(vr,this))||void 0===t||t.setAttribute("data-l10n-id",Pr._["".concat(st(_r,this,Er),"-label")]),!nt(fr,this))return void(null===(s=nt(br,this))||void 0===s||s.remove())}else{var n;if(!nt(fr,this)&&!nt(gr,this))return e.classList.remove("done"),void(null===(n=nt(br,this))||void 0===n||n.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=nt(br,this);if(!i){it(br,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(nt(Nr,this).id);const t=100,s=nt(Nr,this)._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(nt(yr,this)),it(yr,this,null)},{once:!0}),e.addEventListener("mouseenter",()=>{it(yr,this,setTimeout(()=>{it(yr,this,null),nt(br,this).classList.add("show"),nt(Nr,this)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:s}),e.addEventListener("mouseleave",()=>{var e;nt(yr,this)&&(clearTimeout(nt(yr,this)),it(yr,this,null)),null===(e=nt(br,this))||void 0===e||e.classList.remove("show")},{signal:s})}nt(gr,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=nt(fr,this)),i.parentNode||e.append(i);const r=nt(Nr,this).getElementForAltText();null===r||void 0===r||r.setAttribute("aria-describedby",i.id)}var Pr={_:null};Ye(Cr,"_l10n",null);var Tr=new WeakMap,Rr=new WeakMap,Dr=new WeakMap,Lr=new WeakMap,Ir=new WeakMap,Fr=new WeakMap,Or=new WeakMap,Br=new WeakMap,Wr=new WeakMap,zr=new WeakMap,Ur=new WeakSet;class Hr{constructor(e){Ze(this,Ur),et(this,Tr,null),et(this,Rr,null),et(this,Dr,!1),et(this,Lr,null),et(this,Ir,null),et(this,Fr,null),et(this,Or,null),et(this,Br,null),et(this,Wr,!1),et(this,zr,null),it(Lr,this,e)}renderForToolbar(){const e=it(Rr,this,document.createElement("button"));return e.className="comment",tt(Ur,this,Vr).call(this,e,!1)}renderForStandalone(){const e=it(Tr,this,document.createElement("button"));e.className="annotationCommentButton";const t=nt(Lr,this).commentButtonPosition;if(t){const{style:s}=e;s.insetInlineEnd="calc(".concat(100*("ltr"===nt(Lr,this)._uiManager.direction?1-t[0]:t[0]),"% - var(--comment-button-dim))"),s.top="calc(".concat(100*t[1],"% - var(--comment-button-dim))");const n=nt(Lr,this).commentButtonColor;n&&(s.backgroundColor=n)}return tt(Ur,this,Vr).call(this,e,!0)}focusButton(){setTimeout(()=>{var e,t;null===(e=null!==(t=nt(Tr,this))&&void 0!==t?t:nt(Rr,this))||void 0===e||e.focus()},0)}onUpdatedColor(){if(!nt(Tr,this))return;const e=nt(Lr,this).commentButtonColor;e&&(nt(Tr,this).style.backgroundColor=e),nt(Lr,this)._uiManager.updatePopupColor(nt(Lr,this))}get commentButtonWidth(){var e,t;return(null!==(e=null===(t=nt(Tr,this))||void 0===t?void 0:t.getBoundingClientRect().width)&&void 0!==e?e:0)/nt(Lr,this).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(nt(zr,this))return nt(zr,this);if(!nt(Tr,this))return null;const{x:e,y:t,height:s}=nt(Tr,this).getBoundingClientRect(),{x:n,y:i,width:r,height:a}=nt(Lr,this).parent.boundingClientRect;return[(e-n)/r,(t+s-i)/a]}set commentPopupPositionInLayer(e){it(zr,this,e)}hasDefaultPopupPosition(){return null===nt(zr,this)}removeStandaloneCommentButton(){var e;null===(e=nt(Tr,this))||void 0===e||e.remove(),it(Tr,this,null)}removeToolbarCommentButton(){var e;null===(e=nt(Rr,this))||void 0===e||e.remove(),it(Rr,this,null)}setCommentButtonStates(e){let{selected:t,hasPopup:s}=e;nt(Tr,this)&&(nt(Tr,this).classList.toggle("selected",t),nt(Tr,this).ariaExpanded=s)}edit(e){const t=this.commentPopupPositionInLayer;let s,n;if(t)[s,n]=t;else{[s,n]=nt(Lr,this).commentButtonPosition;const{width:e,height:t,x:i,y:r}=nt(Lr,this);s=i+s*e,n=r+n*t}const i=nt(Lr,this).parent.boundingClientRect,{x:r,y:a,width:o,height:l}=i;nt(Lr,this)._uiManager.editComment(nt(Lr,this),r+s*o,a+n*l,Je(Je({},e),{},{parentDimensions:i}))}finish(){nt(Rr,this)&&(nt(Rr,this).focus({focusVisible:nt(Dr,this)}),it(Dr,this,!1))}isDeleted(){return nt(Wr,this)||""===nt(Or,this)}isEmpty(){return null===nt(Or,this)}hasBeenEdited(){return this.isDeleted()||nt(Or,this)!==nt(Ir,this)}serialize(){return this.data}get data(){return{text:nt(Or,this),richText:nt(Fr,this),date:nt(Br,this),deleted:this.isDeleted()}}set data(e){if(e!==nt(Or,this)&&it(Fr,this,null),null===e)return it(Or,this,""),void it(Wr,this,!0);it(Or,this,e),it(Br,this,new Date),it(Wr,this,!1)}setInitialText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;it(Ir,this,e),this.data=e,it(Br,this,null),it(Fr,this,t)}shown(){}destroy(){var e,t;null===(e=nt(Rr,this))||void 0===e||e.remove(),it(Rr,this,null),null===(t=nt(Tr,this))||void 0===t||t.remove(),it(Tr,this,null),it(Or,this,""),it(Fr,this,null),it(Br,this,null),it(Lr,this,null),it(Dr,this,!1),it(Wr,this,!1)}}function Vr(e,t){if(!nt(Lr,this)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[nt(Lr,this)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const s=nt(Lr,this)._uiManager._signal;if(!(s instanceof AbortSignal)||s.aborted)return e;e.addEventListener("contextmenu",Gs,{signal:s}),t&&(e.addEventListener("focusin",e=>{nt(Lr,this)._focusEventsAllowed=!1,qs(e)},{capture:!0,signal:s}),e.addEventListener("focusout",e=>{nt(Lr,this)._focusEventsAllowed=!0,qs(e)},{capture:!0,signal:s})),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:s});const n=t=>{t.preventDefault(),e===nt(Rr,this)?this.edit():nt(Lr,this).toggleComment(!0)};return e.addEventListener("click",n,{capture:!0,signal:s}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(it(Dr,this,!0),n(t))},{signal:s}),e.addEventListener("pointerenter",()=>{nt(Lr,this).toggleComment(!1,!0)},{signal:s}),e.addEventListener("pointerleave",()=>{nt(Lr,this).toggleComment(!1,!1)},{signal:s}),e}var Gr=new WeakMap,qr=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,Jr=new WeakMap,Qr=new WeakMap,$r=new WeakMap,Zr=new WeakMap,ea=new WeakMap,ta=new WeakMap,sa=new WeakMap,na=new WeakSet;class ia{constructor(e){let{container:t,isPinchingDisabled:s=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:a=null,signal:o}=e;Ze(this,na),et(this,Gr,void 0),et(this,qr,!1),et(this,Xr,null),et(this,Yr,void 0),et(this,Kr,void 0),et(this,Jr,void 0),et(this,Qr,void 0),et(this,$r,null),et(this,Zr,void 0),et(this,ea,null),et(this,ta,void 0),et(this,sa,null),it(Gr,this,t),it(Xr,this,n),it(Yr,this,s),it(Kr,this,i),it(Jr,this,r),it(Qr,this,a),it(ta,this,new AbortController),it(Zr,this,AbortSignal.any([o,nt(ta,this).signal])),t.addEventListener("touchstart",tt(na,this,ra).bind(this),{passive:!1,signal:nt(Zr,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Zs.pixelRatio}destroy(){var e,t;null===(e=nt(ta,this))||void 0===e||e.abort(),it(ta,this,null),null===(t=nt($r,this))||void 0===t||t.abort(),it($r,this,null)}}function ra(e){var t,s;if(null!==(t=nt(Yr,this))&&void 0!==t&&t.call(this))return;if(1===e.touches.length){if(nt($r,this))return;const e=it($r,this,new AbortController),t=AbortSignal.any([nt(Zr,this),e.signal]),s=nt(Gr,this),n={capture:!0,signal:t,passive:!1},i=e=>{var t;"touch"===e.pointerType&&(null===(t=nt($r,this))||void 0===t||t.abort(),it($r,this,null))};return s.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(qs(e),i(e))},n),s.addEventListener("pointerup",i,n),void s.addEventListener("pointercancel",i,n)}if(!nt(sa,this)){var n;it(sa,this,new AbortController);const e=AbortSignal.any([nt(Zr,this),nt(sa,this).signal]),t=nt(Gr,this),s={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",tt(na,this,aa).bind(this),s);const i=tt(na,this,oa).bind(this);t.addEventListener("touchend",i,s),t.addEventListener("touchcancel",i,s),s.capture=!0,t.addEventListener("pointerdown",qs,s),t.addEventListener("pointermove",qs,s),t.addEventListener("pointercancel",qs,s),t.addEventListener("pointerup",qs,s),null===(n=nt(Kr,this))||void 0===n||n.call(this)}if(qs(e),2!==e.touches.length||null!==(s=nt(Xr,this))&&void 0!==s&&s.call(this))return void it(ea,this,null);let[i,r]=e.touches;i.identifier>r.identifier&&([i,r]=[r,i]),it(ea,this,{touch0X:i.screenX,touch0Y:i.screenY,touch1X:r.screenX,touch1Y:r.screenY})}function aa(e){var t;if(!nt(ea,this)||2!==e.touches.length)return;qs(e);let[s,n]=e.touches;s.identifier>n.identifier&&([s,n]=[n,s]);const{screenX:i,screenY:r}=s,{screenX:a,screenY:o}=n,l=nt(ea,this),{touch0X:c,touch0Y:d,touch1X:h,touch1Y:u}=l,m=h-c,p=u-d,f=a-i,g=o-r,x=Math.hypot(f,g)||1,v=Math.hypot(m,p)||1;if(!nt(qr,this)&&Math.abs(v-x)<=ct.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=r,l.touch1X=a,l.touch1Y=o,!nt(qr,this))return void it(qr,this,!0);const b=[(i+a)/2,(r+o)/2];null===(t=nt(Jr,this))||void 0===t||t.call(this,b,v,x)}function oa(e){if(!(e.touches.length>=2)){var t;if(nt(sa,this))nt(sa,this).abort(),it(sa,this,null),null===(t=nt(Qr,this))||void 0===t||t.call(this);nt(ea,this)&&(qs(e),it(ea,this,null),it(qr,this,!1))}}ct=ia;var la=new WeakMap,ca=new WeakMap,da=new WeakMap,ha=new WeakMap,ua=new WeakMap,ma=new WeakMap,pa=new WeakMap,fa=new WeakMap,ga=new WeakMap,xa=new WeakMap,va=new WeakMap,ba=new WeakMap,ya=new WeakMap,wa=new WeakMap,ja=new WeakMap,Na=new WeakMap,ka=new WeakMap,Sa=new WeakMap,Aa=new WeakMap,_a=new WeakMap,Ca=new WeakMap,Ea=new WeakMap,Ma=new WeakMap,Pa=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Da=new WeakSet;class La{static get _resizerKeyboardManager(){const e=La.prototype._resizeWithKeyboard,t=Xi.TRANSLATE_SMALL,s=Xi.TRANSLATE_BIG;return ms(this,"_resizerKeyboardManager",new Yn([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],La.prototype._stopResizingWithKeyboard]]))}constructor(e){Ze(this,Da),et(this,la,null),et(this,ca,null),et(this,da,null),et(this,ha,null),et(this,ua,null),et(this,ma,!1),et(this,pa,null),et(this,fa,""),et(this,ga,null),et(this,xa,null),et(this,va,null),et(this,ba,null),et(this,ya,null),et(this,wa,""),et(this,ja,!1),et(this,Na,null),et(this,ka,!1),et(this,Sa,!1),et(this,Aa,!1),et(this,_a,null),et(this,Ca,0),et(this,Ea,0),et(this,Ma,null),et(this,Pa,null),Ye(this,"isSelected",!1),Ye(this,"_isCopy",!1),Ye(this,"_editToolbar",null),Ye(this,"_initialOptions",Object.create(null)),Ye(this,"_initialData",null),Ye(this,"_isVisible",!0),Ye(this,"_uiManager",null),Ye(this,"_focusEventsAllowed",!0),et(this,Ta,!1),et(this,Ra,La._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:n,pageX:i,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,n],this.pageTranslation=[i,r];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ms(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new to({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var s;if(null!==(s=La._l10n)&&void 0!==s||(La._l10n=e),La._l10nResizer||(La._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==La._borderLineWidth)return;const n=getComputedStyle(document.documentElement);La._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){cs("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return nt(Ta,this)}set _isDraggable(e){var t;it(Ta,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=nt(Ra,this)}setParent(e){var t;null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(tt(Da,this,eo).call(this),null===(t=nt(ba,this))||void 0===t||t.remove(),it(ba,this,null));this.parent=e}focusin(e){this._focusEventsAllowed&&(nt(ja,this)?it(ja,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const s=e.relatedTarget;null!==s&&void 0!==s&&s.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,n){const[i,r]=this.parentDimensions;[s,n]=this.screenToPageTranslation(s,n),this.x=(e+s)/i,this.y=(t+n)/r,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,n]=this.parentDimensions;this.setAt(e*s,t*n,this.width*s,this.height*n),this._onTranslated()}translate(e,t){tt(Da,this,Ia).call(this,this.parentDimensions,e,t)}translateInPage(e,t){nt(Na,this)||it(Na,this,[this.x,this.y,this.width,this.height]),tt(Da,this,Ia).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){nt(Na,this)||it(Na,this,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[n,i]}=this;if(this.x+=e/n,this.y+=t/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:a}=this;const[o,l]=this.getBaseTranslation();r+=o,a+=l;const{style:c}=s;c.left="".concat((100*r).toFixed(2),"%"),c.top="".concat((100*a).toFixed(2),"%"),this._onTranslating(r,a),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!nt(Na,this)&&(nt(Na,this)[0]!==this.x||nt(Na,this)[1]!==this.y)}get _hasBeenResized(){return!!nt(Na,this)&&(nt(Na,this)[2]!==this.width||nt(Na,this)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=La,n=s/e,i=s/t;switch(this.rotation){case 90:return[-n,i];case 180:return[n,i];case 270:return[n,-i];default:return[-n,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:t},pageDimensions:[s,n]}=this;let{x:i,y:r,width:a,height:o}=this;if(a*=s,o*=n,i*=s,r*=n,this._mustFixPosition)switch(e){case 0:i=Ts(i,0,s-a),r=Ts(r,0,n-o);break;case 90:i=Ts(i,0,s-o),r=Ts(r,a,n);break;case 180:i=Ts(i,a,s),r=Ts(r,o,n);break;case 270:i=Ts(i,o,s),r=Ts(r,0,n-a)}this.x=i/=s,this.y=r/=n;const[l,c]=this.getBaseTranslation();i+=l,r+=c,t.left="".concat((100*i).toFixed(2),"%"),t.top="".concat((100*r).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return Fa.call(La,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return Fa.call(La,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(){const{div:{style:e},width:t,height:s}=this;e.width="".concat((100*t).toFixed(2),"%"),e.height="".concat((100*s).toFixed(2),"%")}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null===(e=nt(da,this))||void 0===e||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||nt(Sa,this))return this._editToolbar;this._editToolbar=new vn(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;null===(e=this._editToolbar)||void 0===e||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;null===(e=this._editToolbar)||void 0===e||e.removeButton("comment")}removeEditToolbar(){var e,t;null===(e=this._editToolbar)||void 0===e||e.remove(),this._editToolbar=null,null===(t=nt(da,this))||void 0===t||t.destroy()}addContainer(e){var t;const s=null===(t=this._editToolbar)||void 0===t?void 0:t.div;s?s.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return nt(da,this)||(Cr.initialize(La._l10n),it(da,this,new Cr(this)),nt(la,this)&&(nt(da,this).data=nt(la,this),it(la,this,null))),nt(da,this)}get altTextData(){var e;return null===(e=nt(da,this))||void 0===e?void 0:e.data}set altTextData(e){nt(da,this)&&(nt(da,this).data=e)}get guessedAltText(){var e;return null===(e=nt(da,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=nt(da,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=nt(da,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!nt(da,this)&&!nt(da,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=nt(da,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}focusCommentButton(){var e;null===(e=nt(ha,this))||void 0===e||e.focusButton()}addCommentButton(){return nt(ha,this)||it(ha,this,new Hr(this))}addStandaloneCommentButton(){nt(ua,this)?this._uiManager.isEditingMode()&&nt(ua,this).classList.remove("hidden"):this.hasComment&&(it(ua,this,nt(ha,this).renderForStandalone()),this.div.append(nt(ua,this)))}removeStandaloneCommentButton(){nt(ha,this).removeStandaloneCommentButton(),it(ua,this,null)}hideStandaloneCommentButton(){var e;null===(e=nt(ua,this))||void 0===e||e.classList.add("hidden")}get comment(){var e;const{data:{richText:t,text:s,date:n,deleted:i}}=nt(ha,this);return{text:s,richText:t,date:n,deleted:i,color:this.getNonHCMColor(),opacity:null!==(e=this.opacity)&&void 0!==e?e:1}}set comment(e){nt(ha,this)||it(ha,this,new Hr(this)),nt(ha,this).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData(e){let{comment:t,popupRef:s,richText:n}=e;if(!s)return;if(nt(ha,this)||it(ha,this,new Hr(this)),nt(ha,this).setInitialText(t,n),!this.annotationElementId)return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return null===(e=nt(ha,this))||void 0===e?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return null===(e=nt(ha,this))||void 0===e?void 0:e.isDeleted()}get hasComment(){return!!nt(ha,this)&&!nt(ha,this).isEmpty()&&!nt(ha,this).isDeleted()}async editComment(e){nt(ha,this)||it(ha,this,new Hr(this)),nt(ha,this).edit(e)}toggleComment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){nt(ha,this).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const t=180,s=100,[,,,n]=e.rect,[i]=this.pageDimensions,[r]=this.pageTranslation,a=r+i+1,o=n-s,l=a+t;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,o,l,n]}}}updateFromAnnotationLayer(e){let{popup:{contents:t,deleted:s}}=e;nt(ha,this).data=s?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=nt(ma,this)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),tt(Da,this,Ka).call(this);const[s,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth="".concat((100*n/s).toFixed(2),"%"),t.style.maxHeight="".concat((100*s/n).toFixed(2),"%"));const[i,r]=this.getInitialTranslation();return this.translate(i,r),Rn(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(nt(Pa,this)||it(Pa,this,new ia({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:tt(Da,this,Va).bind(this),onPinching:tt(Da,this,Ga).bind(this),onPinchEnd:tt(Da,this,qa).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),t}pointerdown(e){const{isMac:t}=Ns.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(it(ja,this,!0),this._isDraggable?tt(Da,this,Ya).call(this,e):tt(Da,this,Xa).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){nt(_a,this)&&clearTimeout(nt(_a,this)),it(_a,this,setTimeout(()=>{var e;it(_a,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const n=this.parentScale,[i,r]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/n,c=t/n,d=this.x*i,h=this.y*r,u=this.width*i,m=this.height*r;switch(s){case 0:return[d+l+a,r-h-c-m+o,d+l+u+a,r-h-c+o];case 90:return[d+c+a,r-h+l+o,d+c+m+a,r-h+l+u+o];case 180:return[d-l-u+a,r-h+c+o,d-l+a,r-h+c+m+o];case 270:return[d-c-m+a,r-h-l-u+o,d-c+a,r-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,n,i,r]=e,a=i-s,o=r-n;switch(this.rotation){case 0:return[s,t-r,a,o];case 90:return[s,t-n,o,a];case 180:return[i,t-n,a,o];case 270:return[i,t-r,o,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&La._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;null===(e=nt(ha,this))||void 0===e||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:s,opacity:n,deleted:i,richText:r},uid:a,pageIndex:o,creationDate:l,modificationDate:c}=this;return{id:a,pageIndex:o,rect:this.getPDFRect(),richText:r,contentsObj:{str:e},creationDate:l,modificationDate:s||c,popupRef:!i,color:t,opacity:n}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),it(Sa,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),it(Sa,this,!1),!0)}isInEditMode(){return nt(Sa,this)}shouldGetKeyboardEvents(){return nt(Aa,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:n}=this.getClientDimensions(),{innerHeight:i,innerWidth:r}=window;return t<r&&n>0&&e<i&&s>0}rebuild(){tt(Da,this,Ka).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){var e;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}static async deserialize(e,t,s){const n=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});n.rotation=e.rotation,it(la,n,e.accessibilityData),n._isCopy=e.isCopy||!1;const[i,r]=n.pageDimensions,[a,o,l,c]=n.getRectInCurrentCoords(e.rect,r);return n.x=a/i,n.y=o/r,n.width=l/i,n.height=c/r,n}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null===(e=nt(ya,this))||void 0===e||e.abort(),it(ya,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),nt(_a,this)&&(clearTimeout(nt(_a,this)),it(_a,this,null)),tt(Da,this,eo).call(this),this.removeEditToolbar(),nt(Ma,this)){for(const e of nt(Ma,this).values())clearTimeout(e);it(Ma,this,null)}this.parent=null,null===(t=nt(Pa,this))||void 0===t||t.destroy(),it(Pa,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(tt(Da,this,Ba).call(this),nt(ga,this).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[s,n,i,r]=this.getPDFRect();return[La._round(s+(i-s)*e),La._round(n+(r-n)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return nt(ha,this).commentPopupPositionInLayer}set commentPopupPosition(e){nt(ha,this).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return nt(ha,this).hasDefaultPopupPosition()}get commentButtonWidth(){return nt(ha,this).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){nt(ha,this).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),it(va,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=nt(ga,this).children;if(!nt(ca,this)){it(ca,this,Array.from(t));const e=tt(Da,this,Ja).bind(this),s=tt(Da,this,Qa).bind(this),n=this._uiManager._signal;for(const t of nt(ca,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:n}),t.addEventListener("blur",s,{signal:n}),t.addEventListener("focus",tt(Da,this,$a).bind(this,i),{signal:n}),t.setAttribute("data-l10n-id",La._l10nResizer[i])}}const s=nt(ca,this)[0];let n=0;for(const r of t){if(r===s)break;n++}const i=(360-this.rotation+this.parentRotation)%360/90*(nt(ca,this).length/4);if(i!==n){if(i<n)for(let t=0;t<n-i;t++)nt(ga,this).append(nt(ga,this).firstChild);else if(i>n)for(let t=0;t<i-n;t++)nt(ga,this).firstChild.before(nt(ga,this).lastChild);let e=0;for(const s of t){const t=nt(ca,this)[e++].getAttribute("data-resizer-name");s.setAttribute("data-l10n-id",La._l10nResizer[t])}}tt(Da,this,Za).call(this,0),it(Aa,this,!0),nt(ga,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){nt(Aa,this)&&tt(Da,this,Ha).call(this,nt(wa,this),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){tt(Da,this,eo).call(this),this.div.focus()}select(){var e,t,s;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(s=nt(da,this))||void 0===s||s.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return null===(e=this.div)||void 0===e?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,s,n,i;this.isSelected&&(this.isSelected=!1,null===(e=nt(ga,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(s=this.div)&&void 0!==s&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(n=this._editToolbar)||void 0===n||n.hide(),null===(i=nt(da,this))||void 0===i||i.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){"BUTTON"!==e.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return nt(ka,this)}set isEditing(e){it(ka,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){nt(Ma,this)||it(Ma,this,new Map);const{action:t}=e;let s=nt(Ma,this).get(t);return s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),nt(Ma,this).delete(t),0===nt(Ma,this).size&&it(Ma,this,null)},La._telemetryTimeout),void nt(Ma,this).set(t,s)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),it(ma,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),it(ma,this,!0)}updateFakeAnnotationElement(e){if(nt(ba,this)||this.deleted)return this.deleted?(nt(ba,this).remove(),void it(ba,this,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&nt(ba,this).updateEdited({rect:this.getPDFRect(),popup:this.comment}));it(ba,this,e.addFakeAnnotation(this))}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function Ia(e,t,s){let[n,i]=e;[t,s]=this.screenToPageTranslation(t,s),this.x+=t/n,this.y+=s/i,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function Fa(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function Oa(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function Ba(){if(nt(ga,this))return;it(ga,this,document.createElement("div")),nt(ga,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const e=document.createElement("div");nt(ga,this).append(e),e.classList.add("resizer",s),e.setAttribute("data-resizer-name",s),e.addEventListener("pointerdown",tt(Da,this,Wa).bind(this,s),{signal:t}),e.addEventListener("contextmenu",Gs,{signal:t}),e.tabIndex=-1}this.div.prepend(nt(ga,this))}function Wa(e,t){var s;t.preventDefault();const{isMac:n}=Ns.platform;if(0!==t.button||t.ctrlKey&&n)return;null===(s=nt(da,this))||void 0===s||s.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,it(xa,this,[t.screenX,t.screenY]);const r=new AbortController,a=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",tt(Da,this,Ha).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",qs,{passive:!1,signal:a}),window.addEventListener("contextmenu",Gs,{signal:a}),it(va,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;r.abort(),this.parent.togglePointerEvents(!0),null===(e=nt(da,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,tt(Da,this,Ua).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}function za(e,t,s,n){this.width=s,this.height=n,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}function Ua(){if(!nt(va,this))return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:n}=nt(va,this);it(va,this,null);const i=this.x,r=this.y,a=this.width,o=this.height;i===e&&r===t&&a===s&&o===n||this.addCommands({cmd:tt(Da,this,za).bind(this,i,r,a,o),undo:tt(Da,this,za).bind(this,e,t,s,n),mustExec:!0})}function Ha(e,t){const[s,n]=this.parentDimensions,i=this.x,r=this.y,a=this.width,o=this.height,l=dt.MIN_SIZE/s,c=dt.MIN_SIZE/n,d=tt(Da,this,Oa).call(this,this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],u=tt(Da,this,Oa).call(this,360-this.rotation);let m,p,f=!1,g=!1;switch(e){case"topLeft":f=!0,m=(e,t)=>[0,0],p=(e,t)=>[e,t];break;case"topMiddle":m=(e,t)=>[e/2,0],p=(e,t)=>[e/2,t];break;case"topRight":f=!0,m=(e,t)=>[e,0],p=(e,t)=>[0,t];break;case"middleRight":g=!0,m=(e,t)=>[e,t/2],p=(e,t)=>[0,t/2];break;case"bottomRight":f=!0,m=(e,t)=>[e,t],p=(e,t)=>[0,0];break;case"bottomMiddle":m=(e,t)=>[e/2,t],p=(e,t)=>[e/2,0];break;case"bottomLeft":f=!0,m=(e,t)=>[0,t],p=(e,t)=>[e,0];break;case"middleLeft":g=!0,m=(e,t)=>[0,t/2],p=(e,t)=>[e,t/2]}const x=m(a,o),v=p(a,o);let b=h(...v);const y=dt._round(i+b[0]),w=dt._round(r+b[1]);let j,N,k=1,S=1;if(t.fromKeyboard)({deltaX:j,deltaY:N}=t);else{const{screenX:e,screenY:s}=t,[n,i]=nt(xa,this);[j,N]=this.screenToPageTranslation(e-n,s-i),nt(xa,this)[0]=e,nt(xa,this)[1]=s}var A,_;if([j,N]=(A=j/s,_=N/n,[u[0]*A+u[2]*_,u[1]*A+u[3]*_]),f){const e=Math.hypot(a,o);k=S=Math.max(Math.min(Math.hypot(v[0]-x[0]-j,v[1]-x[1]-N)/e,1/a,1/o),l/a,c/o)}else g?k=Ts(Math.abs(v[0]-x[0]-j),l,1)/a:S=Ts(Math.abs(v[1]-x[1]-N),c,1)/o;const C=dt._round(a*k),E=dt._round(o*S);b=h(...p(C,E));const M=y-b[0],P=w-b[1];nt(Na,this)||it(Na,this,[this.x,this.y,this.width,this.height]),this.width=C,this.height=E,this.x=M,this.y=P,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function Va(){var e;it(va,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=nt(da,this))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Ga(e,t,s){let n=s/t*.7+1-.7;if(1===n)return;const i=tt(Da,this,Oa).call(this,this.rotation),r=(e,t)=>[i[0]*e+i[2]*t,i[1]*e+i[3]*t],[a,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,h=this.height,u=dt.MIN_SIZE/a,m=dt.MIN_SIZE/o;n=Math.max(Math.min(n,1/d,1/h),u/d,m/h);const p=dt._round(d*n),f=dt._round(h*n);if(p===d&&f===h)return;nt(Na,this)||it(Na,this,[l,c,d,h]);const g=r(d/2,h/2),x=dt._round(l+g[0]),v=dt._round(c+g[1]),b=r(p/2,f/2);this.x=x-b[0],this.y=v-b[1],this.width=p,this.height=f,this.setDims(),this.fixAndSetPosition(),this._onResizing()}function qa(){var e;null===(e=nt(da,this))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),tt(Da,this,Ua).call(this)}function Xa(e){const{isMac:t}=Ns.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Ya(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const n=new AbortController,i=this._uiManager.combinedSignal(n),r={capture:!0,passive:!1,signal:i},a=e=>{n.abort(),it(pa,this,null),it(ja,this,!1),this._uiManager.endDragSession()||tt(Da,this,Xa).call(this,e),s&&this._onStopDragging()};t&&(it(Ca,this,e.clientX),it(Ea,this,e.clientY),it(pa,this,e.pointerId),it(fa,this,e.pointerType),window.addEventListener("pointermove",e=>{s||(s=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:t,clientY:n,pointerId:i}=e;if(i!==nt(pa,this))return void qs(e);const[r,a]=this.screenToPageTranslation(t-nt(Ca,this),n-nt(Ea,this));it(Ca,this,t),it(Ea,this,n),this._uiManager.dragSelectedEditors(r,a)},r),window.addEventListener("touchmove",qs,r),window.addEventListener("pointerdown",e=>{e.pointerType===nt(fa,this)&&(nt(Pa,this)||e.isPrimary)&&a(e),qs(e)},r));const o=e=>{nt(pa,this)&&nt(pa,this)!==e.pointerId?qs(e):a(e)};window.addEventListener("pointerup",o,{signal:i}),window.addEventListener("blur",o,{signal:i})}function Ka(){if(nt(ya,this)||!this.div)return;it(ya,this,new AbortController);const e=this._uiManager.combinedSignal(nt(ya,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function Ja(e){dt._resizerKeyboardManager.exec(this,e)}function Qa(e){var t;nt(Aa,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==nt(ga,this)&&tt(Da,this,eo).call(this)}function $a(e){it(wa,this,nt(Aa,this)?e:"")}function Za(e){if(nt(ca,this))for(const t of nt(ca,this))t.tabIndex=e}function eo(){it(Aa,this,!1),tt(Da,this,Za).call(this,-1),tt(Da,this,Ua).call(this)}dt=La,Ye(La,"_l10n",null),Ye(La,"_l10nResizer",null),Ye(La,"_borderLineWidth",-1),Ye(La,"_colorManager",new Jn),Ye(La,"_zIndex",1),Ye(La,"_telemetryTimeout",1e3);class to extends La{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const so=3285377520,no=4294901760,io=65535;class ro{constructor(e){this.h1=e?4294967295&e:so,this.h2=e?4294967295&e:so}update(e){let t,s;if("string"===typeof e){t=new Uint8Array(2*e.length),s=0;for(let n=0,i=e.length;n<i;n++){const i=e.charCodeAt(n);i<=255?t[s++]=i:(t[s++]=i>>>8,t[s++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),s=t.byteLength}const n=s>>2,i=s-4*n,r=new Uint32Array(t.buffer,0,n);let a=0,o=0,l=this.h1,c=this.h2;const d=3432918353,h=461845907,u=11601,m=13715;for(let p=0;p<n;p++)1&p?(a=r[p],a=a*d&no|a*u&io,a=a<<15|a>>>17,a=a*h&no|a*m&io,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=r[p],o=o*d&no|o*u&io,o=o<<15|o>>>17,o=o*h&no|o*m&io,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,i){case 3:a^=t[4*n+2]<<16;case 2:a^=t[4*n+1]<<8;case 1:a^=t[4*n],a=a*d&no|a*u&io,a=a<<15|a>>>17,a=a*h&no|a*m&io,1&n?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&no|36045*e&io,t=4283543511*t&no|(2950163797*(t<<16|e>>>16)&no)>>>16,e^=t>>>1,e=444984403*e&no|60499*e&io,t=3301882366*t&no|(3120437893*(t<<16|e>>>16)&no)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ao=Object.freeze({map:null,hash:"",transfer:void 0});var oo=new WeakMap,lo=new WeakMap,co=new WeakMap,ho=new WeakMap,uo=new WeakSet;class mo{constructor(){Ze(this,uo),et(this,oo,!1),et(this,lo,null),et(this,co,null),et(this,ho,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=nt(ho,this).get(e);return void 0===s?t:Object.assign(t,s)}getRawValue(e){return nt(ho,this).get(e)}remove(e){const t=nt(ho,this).get(e);if(void 0!==t&&(t instanceof La&&nt(co,this).delete(t.annotationElementId),nt(ho,this).delete(e),0===nt(ho,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor)){for(const e of nt(ho,this).values())if(e instanceof La)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=nt(ho,this).get(e);let n=!1;if(void 0!==s)for(const[i,r]of Object.entries(t))s[i]!==r&&(n=!0,s[i]=r);else n=!0,nt(ho,this).set(e,t);n&&tt(uo,this,po).call(this),t instanceof La&&((nt(co,this)||it(co,this,new Map)).set(t.annotationElementId,t),"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type))}has(e){return nt(ho,this).has(e)}get size(){return nt(ho,this).size}resetModified(){nt(oo,this)&&(it(oo,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new go(this)}get serializable(){if(0===nt(ho,this).size)return ao;const e=new Map,t=new ro,s=[],n=Object.create(null);let i=!1;for(const[r,a]of nt(ho,this)){const s=a instanceof La?a.serialize(!1,n):a;s&&(e.set(r,s),t.update("".concat(r,":").concat(JSON.stringify(s))),i||(i=!!s.bitmap))}if(i)for(const r of e.values())r.bitmap&&s.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:ao}get editorStats(){let e=null;const t=new Map;let s=0,n=0;for(const a of nt(ho,this).values()){var i;if(!(a instanceof La)){a.popup&&(a.popup.deleted?n+=1:s+=1);continue}a.isCommentDeleted?n+=1:a.hasEditedComment&&(s+=1);const o=a.telemetryFinalData;if(!o)continue;const{type:l}=o;t.has(l)||t.set(l,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const c=(i=e)[l]||(i[l]=new Map);for(const[e,t]of Object.entries(o)){var r;if("type"===e)continue;let s=c.get(e);s||(s=new Map,c.set(e,s));const n=null!==(r=s.get(t))&&void 0!==r?r:0;s.set(t,n+1)}}if((n>0||s>0)&&(e||(e=Object.create(null)),e.comments={deleted:n,edited:s}),!e)return null;for(const[a,o]of t)e[a]=o.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){it(lo,this,null)}updateEditor(e,t){var s;const n=null===(s=nt(co,this))||void 0===s?void 0:s.get(e);return!!n&&(n.updateFromAnnotationLayer(t),!0)}getEditor(e){var t;return(null===(t=nt(co,this))||void 0===t?void 0:t.get(e))||null}get modifiedIds(){if(nt(lo,this))return nt(lo,this);const e=[];if(nt(co,this))for(const t of nt(co,this).values())t.serialize()&&e.push(t.annotationElementId);return it(lo,this,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return nt(ho,this).entries()}}function po(){nt(oo,this)||(it(oo,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var fo=new WeakMap;class go extends mo{constructor(e){super(),et(this,fo,void 0);const{map:t,hash:s,transfer:n}=e.serializable,i=structuredClone(t,n?{transfer:n}:null);it(fo,this,{map:i,hash:s,transfer:n})}get print(){cs("Should not call PrintAnnotationStorage.print")}get serializable(){return nt(fo,this)}get modifiedIds(){return ms(this,"modifiedIds",{ids:new Set,hash:""})}}var xo=new WeakMap;class vo{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:s=null}=e;et(this,xo,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),nt(xo,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,disableFontFace:s,_inspectFont:n}=e;if(t&&!nt(xo,this).has(t.loadedName)){if(ds(!s,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:s,style:r}=t,a=new FontFace(e,s,r);this.addNativeFontFace(a);try{await a.load(),nt(xo,this).add(e),null===n||void 0===n||n(t)}catch(i){ls("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(a)}return}cs("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(s){throw ls("Failed to load font '".concat(t.family,"': '").concat(s,"'.")),e.disableFontFace=!0,s}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const s=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,s)})}}get isFontLoadingAPISupported(){var e;return ms(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){return ms(this,"isSyncFontLoadingSupported",kt||Ns.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,s={done:!1,complete:function(){for(ds(!s.done,"completeRequest() cannot be called twice."),s.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(s),s}get _loadTestFont(){return ms(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function n(e,t,s,n){return e.substring(0,t)+n+e.substring(t+s)}let i,r;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=n(d,976,c.length,c);const h=1482184792;let u=s(d,16);for(i=0,r=c.length-3;i<r;i+=4)u=u-h+s(c,i)|0;var m;i<c.length&&(u=u-h+s(c+"XXX",i)|0),d=n(d,16,4,(m=u,String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,255&m)));const p="url(data:font/opentype;base64,".concat(btoa(d),");"),f='@font-face {font-family:"'.concat(c,'";src:').concat(p,"}");this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const x of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=x,g.append(e)}this._document.body.append(g),function e(t,s){if(++l>30)return ls("Load test font never loaded."),void s();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?s():setTimeout(e.bind(null,t,s))}(c,()=>{g.remove(),t.complete()})}}var bo=new WeakMap;class yo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;et(this,bo,void 0),this.compiledGlyphs=Object.create(null),it(bo,this,e),this._inspectFont=t,s&&Object.assign(this,s),n&&(this.charProcOperatorList=n)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat(Rs(this.data),");");let s;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),s='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else s='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),s}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let n;try{n=e.get(s)}catch(r){ls('getPathGenerator - ignoring character: "'.concat(r,'".'))}const i=new Path2D(n||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=i}get black(){return nt(bo,this).black}get bold(){return nt(bo,this).bold}get disableFontFace(){var e;return null!==(e=nt(bo,this).disableFontFace)&&void 0!==e&&e}get fontExtraProperties(){var e;return null!==(e=nt(bo,this).fontExtraProperties)&&void 0!==e&&e}get isInvalidPDFjsFont(){return nt(bo,this).isInvalidPDFjsFont}get isType3Font(){return nt(bo,this).isType3Font}get italic(){return nt(bo,this).italic}get missingFile(){return nt(bo,this).missingFile}get remeasure(){return nt(bo,this).remeasure}get vertical(){return nt(bo,this).vertical}get ascent(){return nt(bo,this).ascent}get defaultWidth(){return nt(bo,this).defaultWidth}get descent(){return nt(bo,this).descent}get bbox(){return nt(bo,this).bbox}get fontMatrix(){return nt(bo,this).fontMatrix}get fallbackName(){return nt(bo,this).fallbackName}get loadedName(){return nt(bo,this).loadedName}get mimetype(){return nt(bo,this).mimetype}get name(){return nt(bo,this).name}get data(){return nt(bo,this).data}clearData(){nt(bo,this).clearData()}get cssFontInfo(){return nt(bo,this).cssFontInfo}get systemFontInfo(){return nt(bo,this).systemFontInfo}get defaultVMetrics(){return nt(bo,this).defaultVMetrics}}function wo(e){if("string"!==typeof e)return null;if(e.endsWith("/"))return e;throw new Error('Invalid factory url: "'.concat(e,'" must include trailing slash.'))}const jo=e=>"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0,No=function(e,t,s){if(!Array.isArray(s)||s.length<2)return!1;const[n,i,...r]=s;if(!e(n)&&!Number.isInteger(n))return!1;if(!t(i))return!1;const a=r.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return 0===a;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(4!==a)return!1;o=!1;break;default:return!1}for(const l of r)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,jo,e=>"object"===typeof e&&"string"===typeof(null===e||void 0===e?void 0:e.name));var ko=new WeakMap,So=new WeakMap;class Ao{constructor(){et(this,ko,new Map),et(this,So,Promise.resolve())}postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};nt(So,this).then(()=>{for(const[e]of nt(ko,this))e.call(this,s)})}addEventListener(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=null;if((null===s||void 0===s?void 0:s.signal)instanceof AbortSignal){const{signal:i}=s;if(i.aborted)return void ls("LoopbackPort - cannot use an `aborted` signal.");const r=()=>this.removeEventListener(e,t);n=()=>i.removeEventListener("abort",r),i.addEventListener("abort",r)}nt(ko,this).set(t,n)}removeEventListener(e,t){const s=nt(ko,this).get(t);null===s||void 0===s||s(),nt(ko,this).delete(t)}terminate(){for(const[,e]of nt(ko,this))null===e||void 0===e||e();nt(ko,this).clear()}}const _o=1,Co=2,Eo=1,Mo=2,Po=3,To=4,Ro=5,Do=6,Lo=7,Io=8;function Fo(){}function Oo(e){if(e instanceof ys||e instanceof xs||e instanceof fs||e instanceof vs||e instanceof gs)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||cs('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new ys(e.message);case"InvalidPDFException":return new xs(e.message);case"PasswordException":return new fs(e.message,e.code);case"ResponseException":return new vs(e.message,e.status,e.missing);case"UnknownErrorException":return new gs(e.message,e.details)}return new gs(e.message,e.toString())}var Bo=new WeakMap,Wo=new WeakSet;class zo{constructor(e,t,s){Ze(this,Wo),et(this,Bo,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",tt(Wo,this,Uo).bind(this),{signal:nt(Bo,this).signal})}on(e,t){const s=this.actionHandler;if(s[e])throw new Error('There is already an actionName called "'.concat(e,'"'));s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const n=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[n]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:n,data:t},s)}catch(r){i.reject(r)}return i.promise}sendWithStream(e,t,s,n){const i=this.streamId++,r=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:s=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:s,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:r,targetName:a,action:e,streamId:i,data:t,desiredSize:s.desiredSize},n),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:r,targetName:a,stream:Do,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{ds(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:r,targetName:a,stream:Eo,streamId:i,reason:Oo(e)}),t.promise}},s)}destroy(){var e;null===(e=nt(Bo,this))||void 0===e||e.abort(),it(Bo,this,null)}}function Uo(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void tt(Wo,this,Vo).call(this,t);if(t.callback){const e=t.callbackId,s=this.callbackCapabilities[e];if(!s)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===_o)s.resolve(t.data);else{if(t.callback!==Co)throw new Error("Unexpected callback case");s.reject(Oo(t.reason))}return}const s=this.actionHandler[t.action];if(!s)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,n=t.sourceName,i=this.comObj;return void Promise.try(s,t.data).then(function(s){i.postMessage({sourceName:e,targetName:n,callback:_o,callbackId:t.callbackId,data:s})},function(s){i.postMessage({sourceName:e,targetName:n,callback:Co,callbackId:t.callbackId,reason:Oo(s)})})}t.streamId?tt(Wo,this,Ho).call(this,t):s(t.data)}function Ho(e){const t=e.streamId,s=this.sourceName,n=e.sourceName,i=this.comObj,r=this,a=this.actionHandler[e.action],o={enqueue(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=r,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:s,targetName:n,stream:To,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:n,stream:Po,streamId:t}),delete r.streamSinks[t])},error(e){ds(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:s,targetName:n,stream:Ro,streamId:t,reason:Oo(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(a,e.data,o).then(function(){i.postMessage({sourceName:s,targetName:n,stream:Io,streamId:t,success:!0})},function(e){i.postMessage({sourceName:s,targetName:n,stream:Io,streamId:t,reason:Oo(e)})})}function Vo(e){const t=e.streamId,s=this.sourceName,n=e.sourceName,i=this.comObj,r=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case Io:e.success?r.startCall.resolve():r.startCall.reject(Oo(e.reason));break;case Lo:e.success?r.pullCall.resolve():r.pullCall.reject(Oo(e.reason));break;case Do:if(!a){i.postMessage({sourceName:s,targetName:n,stream:Lo,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||Fo).then(function(){i.postMessage({sourceName:s,targetName:n,stream:Lo,streamId:t,success:!0})},function(e){i.postMessage({sourceName:s,targetName:n,stream:Lo,streamId:t,reason:Oo(e)})});break;case To:if(ds(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case Po:if(ds(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),tt(Wo,this,Go).call(this,r,t);break;case Ro:ds(r,"error should have stream controller"),r.controller.error(Oo(e.reason)),tt(Wo,this,Go).call(this,r,t);break;case Mo:e.success?r.cancelCall.resolve():r.cancelCall.reject(Oo(e.reason)),tt(Wo,this,Go).call(this,r,t);break;case Eo:if(!a)break;const o=Oo(e.reason);Promise.try(a.onCancel||Fo,o).then(function(){i.postMessage({sourceName:s,targetName:n,stream:Mo,streamId:t,success:!0})},function(e){i.postMessage({sourceName:s,targetName:n,stream:Mo,streamId:t,reason:Oo(e)})}),a.sinkCapability.reject(o),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function Go(e,t){var s,n,i;await Promise.allSettled([null===(s=e.startCall)||void 0===s?void 0:s.promise,null===(n=e.pullCall)||void 0===n?void 0:n.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var qo=new WeakMap;class Xo{constructor(e){let{enableHWA:t=!1}=e;et(this,qo,!1),it(qo,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!nt(qo,this)})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){cs("Abstract method `_createCanvas` called.")}}class Yo extends Xo{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:s=!1}=e;super({enableHWA:s}),this._document=t}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class Ko{constructor(e){let{baseUrl:t=null,isCompressed:s=!0}=e;this.baseUrl=t,this.isCompressed=s}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const s=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(s).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(s))})}async _fetch(e){cs("Abstract method `_fetch` called.")}}class Jo extends Ko{async _fetch(e){const t=await Os(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):js(t)}}class Qo{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,n,i){return"none"}destroy(){}}var $o=new WeakMap,Zo=new WeakMap,el=new WeakMap,tl=new WeakMap,sl=new WeakMap,nl=new WeakMap,il=new WeakMap,rl=new WeakSet;class al extends Qo{constructor(e){let{docId:t,ownerDocument:s=globalThis.document}=e;super(),Ze(this,rl),et(this,$o,void 0),et(this,Zo,void 0),et(this,el,void 0),et(this,tl,void 0),et(this,sl,void 0),et(this,nl,void 0),et(this,il,0),it(tl,this,t),it(sl,this,s)}addFilter(e){var t,s;if(!e)return"none";let n=st(rl,this,ol).get(e);if(n)return n;const[i,r,a]=tt(rl,this,dl).call(this,e),o=1===e.length?i:"".concat(i).concat(r).concat(a);if(n=st(rl,this,ol).get(o),n)return st(rl,this,ol).set(e,n),n;const l="g_".concat(nt(tl,this),"_transfer_map_").concat((it(il,this,(t=nt(il,this),s=t++,t)),s)),c=tt(rl,this,hl).call(this,l);st(rl,this,ol).set(e,c),st(rl,this,ol).set(o,c);const d=tt(rl,this,pl).call(this,l);return tt(rl,this,gl).call(this,i,r,a,d),c}addHCMFilter(e,t){var s;const n="".concat(e,"-").concat(t),i="base";let r=st(rl,this,ll).get(i);if((null===(s=r)||void 0===s?void 0:s.key)===n)return r.url;var a;r?(null===(a=r.filter)||void 0===a||a.remove(),r.key=n,r.url="none",r.filter=null):(r={key:n,url:"none",filter:null},st(rl,this,ll).set(i,r));if(!e||!t)return r.url;const o=tt(rl,this,vl).call(this,e);e=Ss.makeHexColor(...o);const l=tt(rl,this,vl).call(this,t);if(t=Ss.makeHexColor(...l),st(rl,this,cl).style.color="","#000000"===e&&"#ffffff"===t||e===t)return r.url;const c=new Array(256);for(let p=0;p<=255;p++){const e=p/255;c[p]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const d=c.join(","),h="g_".concat(nt(tl,this),"_hcm_filter"),u=r.filter=tt(rl,this,pl).call(this,h);tt(rl,this,gl).call(this,d,d,d,u),tt(rl,this,ml).call(this,u);const m=(e,t)=>{const s=o[e]/255,n=l[e]/255,i=new Array(t+1);for(let r=0;r<=t;r++)i[r]=s+r/t*(n-s);return i.join(",")};return tt(rl,this,gl).call(this,m(0,5),m(1,5),m(2,5),u),r.url=tt(rl,this,hl).call(this,h),r.url}addAlphaFilter(e){var t,s;let n=st(rl,this,ol).get(e);if(n)return n;const[i]=tt(rl,this,dl).call(this,[e]),r="alpha_".concat(i);if(n=st(rl,this,ol).get(r),n)return st(rl,this,ol).set(e,n),n;const a="g_".concat(nt(tl,this),"_alpha_map_").concat((it(il,this,(t=nt(il,this),s=t++,t)),s)),o=tt(rl,this,hl).call(this,a);st(rl,this,ol).set(e,o),st(rl,this,ol).set(r,o);const l=tt(rl,this,pl).call(this,a);return tt(rl,this,xl).call(this,i,l),o}addLuminosityFilter(e){var t,s;let n,i,r=st(rl,this,ol).get(e||"luminosity");if(r)return r;if(e?([n]=tt(rl,this,dl).call(this,[e]),i="luminosity_".concat(n)):i="luminosity",r=st(rl,this,ol).get(i),r)return st(rl,this,ol).set(e,r),r;const a="g_".concat(nt(tl,this),"_luminosity_map_").concat((it(il,this,(t=nt(il,this),s=t++,t)),s)),o=tt(rl,this,hl).call(this,a);st(rl,this,ol).set(e,o),st(rl,this,ol).set(i,o);const l=tt(rl,this,pl).call(this,a);return tt(rl,this,ul).call(this,l),e&&tt(rl,this,xl).call(this,n,l),o}addHighlightHCMFilter(e,t,s,n,i){var r;const a="".concat(t,"-").concat(s,"-").concat(n,"-").concat(i);let o=st(rl,this,ll).get(e);if((null===(r=o)||void 0===r?void 0:r.key)===a)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},st(rl,this,ll).set(e,o));if(!t||!s)return o.url;const[c,d]=[t,s].map(tt(rl,this,vl).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[m,p]=[n,i].map(tt(rl,this,vl).bind(this));u<h&&([h,u,m,p]=[u,h,p,m]),st(rl,this,cl).style.color="";const f=(e,t,s)=>{const n=new Array(256),i=(u-h)/s,r=e/255,a=(t-e)/(255*s);let o=0;for(let l=0;l<=s;l++){const e=Math.round(h+l*i),t=r+l*a;for(let s=o;s<=e;s++)n[s]=t;o=e+1}for(let l=o;l<256;l++)n[l]=n[o-1];return n.join(",")},g="g_".concat(nt(tl,this),"_hcm_").concat(e,"_filter"),x=o.filter=tt(rl,this,pl).call(this,g);return tt(rl,this,ml).call(this,x),tt(rl,this,gl).call(this,f(m[0],p[0],5),f(m[1],p[1],5),f(m[2],p[2],5),x),o.url=tt(rl,this,hl).call(this,g),o.url}destroy(){var e,t,s,n;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(e=nt(nl,this))&&void 0!==e&&e.size||(null===(t=nt(el,this))||void 0===t||t.parentNode.parentNode.remove(),it(el,this,null),null===(s=nt(Zo,this))||void 0===s||s.clear(),it(Zo,this,null),null===(n=nt(nl,this))||void 0===n||n.clear(),it(nl,this,null),it(il,this,0))}}function ol(e){return nt(Zo,e)||it(Zo,e,new Map)}function ll(e){return nt(nl,e)||it(nl,e,new Map)}function cl(e){if(!nt(el,e)){const t=nt(sl,e).createElement("div"),{style:s}=t;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const n=nt(sl,e).createElementNS(Is,"svg");n.setAttribute("width",0),n.setAttribute("height",0),it(el,e,nt(sl,e).createElementNS(Is,"defs")),t.append(n),n.append(nt(el,e)),nt(sl,e).body.append(t)}return nt(el,e)}function dl(e){if(1===e.length){const t=e[0],s=new Array(256);for(let e=0;e<256;e++)s[e]=t[e]/255;const n=s.join(",");return[n,n,n]}const[t,s,n]=e,i=new Array(256),r=new Array(256),a=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,r[o]=s[o]/255,a[o]=n[o]/255;return[i.join(","),r.join(","),a.join(",")]}function hl(e){if(void 0===nt($o,this)){it($o,this,"");const e=nt(sl,this).URL;e!==nt(sl,this).baseURI&&(zs(e)?ls('#createUrl: ignore "data:"-URL for performance reasons.'):it($o,this,us(e,"")))}return"url(".concat(nt($o,this),"#").concat(e,")")}function ul(e){const t=nt(sl,this).createElementNS(Is,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function ml(e){const t=nt(sl,this).createElementNS(Is,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function pl(e){const t=nt(sl,this).createElementNS(Is,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),st(rl,this,cl).append(t),t}function fl(e,t,s){const n=nt(sl,this).createElementNS(Is,t);n.setAttribute("type","discrete"),n.setAttribute("tableValues",s),e.append(n)}function gl(e,t,s,n){const i=nt(sl,this).createElementNS(Is,"feComponentTransfer");n.append(i),tt(rl,this,fl).call(this,i,"feFuncR",e),tt(rl,this,fl).call(this,i,"feFuncG",t),tt(rl,this,fl).call(this,i,"feFuncB",s)}function xl(e,t){const s=nt(sl,this).createElementNS(Is,"feComponentTransfer");t.append(s),tt(rl,this,fl).call(this,s,"feFuncA",e)}function vl(e){return st(rl,this,cl).style.color=e,Ks(getComputedStyle(st(rl,this,cl)).getPropertyValue("color"))}class bl{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const s="".concat(this.baseUrl).concat(t);return this._fetch(s).catch(e=>{throw new Error("Unable to load font data at: ".concat(s))})}async _fetch(e){cs("Abstract method `_fetch` called.")}}class yl extends bl{async _fetch(e){const t=await Os(e,"arraybuffer");return new Uint8Array(t)}}class wl{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const s="".concat(this.baseUrl).concat(t);return this._fetch(s).catch(e=>{throw new Error("Unable to load wasm data at: ".concat(s))})}async _fetch(e){cs("Abstract method `_fetch` called.")}}class jl extends wl{async _fetch(e){const t=await Os(e,"arraybuffer");return new Uint8Array(t)}}async function Nl(e){const t=process.getBuiltinModule("fs"),s=await t.promises.readFile(e);return new Uint8Array(s)}kt&&ls("Please use the `legacy` build in Node.js environments.");class kl extends Qo{}class Sl extends Xo{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("file:///C:/Users/DELL.000/Downloads/researc_paper1-4eba4ff1aa16581eefd1e3414ec1f23dfac56b7a/researc_paper1-4eba4ff1aa16581eefd1e3414ec1f23dfac56b7a/node_modules/react-pdf/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}class Al extends Ko{async _fetch(e){return Nl(e)}}class _l extends bl{async _fetch(e){return Nl(e)}}class Cl extends wl{async _fetch(e){return Nl(e)}}const El="__forcedDependency",{floor:Ml,ceil:Pl}=Math;function Tl(e,t,s,n,i,r){e[4*t+0]=Math.min(e[4*t+0],s),e[4*t+1]=Math.min(e[4*t+1],n),e[4*t+2]=Math.max(e[4*t+2],i),e[4*t+3]=Math.max(e[4*t+3],r)}const Rl=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Dl=new WeakMap,Ll=new WeakMap;class Il{constructor(e,t){et(this,Dl,void 0),et(this,Ll,void 0),it(Dl,this,e),it(Ll,this,t)}get length(){return nt(Dl,this).length}isEmpty(e){return nt(Dl,this)[e]===Rl}minX(e){return nt(Ll,this)[4*e+0]/256}minY(e){return nt(Ll,this)[4*e+1]/256}maxX(e){return(nt(Ll,this)[4*e+2]+1)/256}maxY(e){return(nt(Ll,this)[4*e+3]+1)/256}}const Fl=(e,t)=>{if(!e)return;let s=e.get(t);return s||(s={dependencies:new Set,isRenderingOperation:!1},e.set(t,s)),s};var Ol=new WeakMap,Bl=new WeakMap,Wl=new WeakMap,zl=new WeakMap,Ul=new WeakMap,Hl=new WeakMap,Vl=new WeakMap,Gl=new WeakMap,ql=new WeakMap,Xl=new WeakMap,Yl=new WeakMap,Kl=new WeakMap,Jl=new WeakMap,Ql=new WeakMap,$l=new WeakMap,Zl=new WeakMap,ec=new WeakMap,tc=new WeakSet;class sc{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ze(this,tc),et(this,Ol,{__proto__:null}),et(this,Bl,{__proto__:null,transform:[],moveText:[],sameLineText:[],[El]:[]}),et(this,Wl,new Map),et(this,zl,[]),et(this,Ul,[]),et(this,Hl,[[1,0,0,1,0,0]]),et(this,Vl,[-1/0,-1/0,1/0,1/0]),et(this,Gl,new Float64Array([1/0,1/0,-1/0,-1/0])),et(this,ql,-1),et(this,Xl,new Set),et(this,Yl,new Map),et(this,Kl,new Map),et(this,Jl,void 0),et(this,Ql,void 0),et(this,$l,void 0),et(this,Zl,void 0),et(this,ec,void 0),it(Jl,this,e.width),it(Ql,this,e.height),tt(tc,this,nc).call(this,t),s&&it(ec,this,new Map)}growOperationsCount(e){e>=nt(Zl,this).length&&tt(tc,this,nc).call(this,e,nt(Zl,this))}save(e){return it(Ol,this,{__proto__:nt(Ol,this)}),it(Bl,this,{__proto__:nt(Bl,this),transform:{__proto__:nt(Bl,this).transform},moveText:{__proto__:nt(Bl,this).moveText},sameLineText:{__proto__:nt(Bl,this).sameLineText},[El]:{__proto__:nt(Bl,this)[El]}}),it(Vl,this,{__proto__:nt(Vl,this)}),nt(zl,this).push(e),this}restore(e){const t=Object.getPrototypeOf(nt(Ol,this));if(null===t)return this;it(Ol,this,t),it(Bl,this,Object.getPrototypeOf(nt(Bl,this))),it(Vl,this,Object.getPrototypeOf(nt(Vl,this)));const s=nt(zl,this).pop();var n;void 0!==s&&(null===(n=Fl(nt(ec,this),e))||void 0===n||n.dependencies.add(s),nt(Zl,this)[e]=nt(Zl,this)[s]);return this}recordOpenMarker(e){return nt(zl,this).push(e),this}getOpenMarker(){return 0===nt(zl,this).length?null:nt(zl,this).at(-1)}recordCloseMarker(e){const t=nt(zl,this).pop();var s;void 0!==t&&(null===(s=Fl(nt(ec,this),e))||void 0===s||s.dependencies.add(t),nt(Zl,this)[e]=nt(Zl,this)[t]);return this}beginMarkedContent(e){return nt(Ul,this).push(e),this}endMarkedContent(e){const t=nt(Ul,this).pop();var s;void 0!==t&&(null===(s=Fl(nt(ec,this),e))||void 0===s||s.dependencies.add(t),nt(Zl,this)[e]=nt(Zl,this)[t]);return this}pushBaseTransform(e){return nt(Hl,this).push(Ss.multiplyByDOMMatrix(nt(Hl,this).at(-1),e.getTransform())),this}popBaseTransform(){return nt(Hl,this).length>1&&nt(Hl,this).pop(),this}recordSimpleData(e,t){return nt(Ol,this)[e]=t,this}recordIncrementalData(e,t){return nt(Bl,this)[e].push(t),this}resetIncrementalData(e,t){return nt(Bl,this)[e].length=0,this}recordNamedData(e,t){return nt(Wl,this).set(e,t),this}recordSimpleDataFromNamed(e,t,s){var n;nt(Ol,this)[e]=null!==(n=nt(Wl,this).get(t))&&void 0!==n?n:s}recordFutureForcedDependency(e,t){return this.recordIncrementalData(El,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in nt(Ol,this)&&this.recordFutureForcedDependency(t,nt(Ol,this)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of nt(Xl,this))this.recordFutureForcedDependency(El,e);return this}resetBBox(e){return nt(ql,this)!==e&&(it(ql,this,e),nt(Gl,this)[0]=1/0,nt(Gl,this)[1]=1/0,nt(Gl,this)[2]=-1/0,nt(Gl,this)[3]=-1/0),this}recordClipBox(e,t,s,n,i,r){const a=Ss.multiplyByDOMMatrix(nt(Hl,this).at(-1),t.getTransform()),o=[1/0,1/0,-1/0,-1/0];Ss.axialAlignedBoundingBox([s,i,n,r],a,o);const l=Ss.intersect(nt(Vl,this),o);return l?(nt(Vl,this)[0]=l[0],nt(Vl,this)[1]=l[1],nt(Vl,this)[2]=l[2],nt(Vl,this)[3]=l[3]):(nt(Vl,this)[0]=nt(Vl,this)[1]=1/0,nt(Vl,this)[2]=nt(Vl,this)[3]=-1/0),this}recordBBox(e,t,s,n,i,r){const a=nt(Vl,this);if(a[0]===1/0)return this;const o=Ss.multiplyByDOMMatrix(nt(Hl,this).at(-1),t.getTransform());if(a[0]===-1/0)return Ss.axialAlignedBoundingBox([s,i,n,r],o,nt(Gl,this)),this;const l=[1/0,1/0,-1/0,-1/0];return Ss.axialAlignedBoundingBox([s,i,n,r],o,l),nt(Gl,this)[0]=Math.min(nt(Gl,this)[0],Math.max(l[0],a[0])),nt(Gl,this)[1]=Math.min(nt(Gl,this)[1],Math.max(l[1],a[1])),nt(Gl,this)[2]=Math.max(nt(Gl,this)[2],Math.min(l[2],a[2])),nt(Gl,this)[3]=Math.max(nt(Gl,this)[3],Math.min(l[3],a[3])),this}recordCharacterBBox(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;const o=s.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&nt(Kl,this).get(s),!1!==l&&(c=[0,0,0,0],Ss.axialAlignedBoundingBox(o,s.fontMatrix,c),1===n&&0===i&&0===r||Ss.scaleMinMax([n,0,0,-n,i,r],c),l)))return this.recordBBox(e,t,c[0],c[2],c[1],c[3]);if(!a)return this.recordFullPageBBox(e);const d=a();return o&&c&&void 0===l&&(l=c[0]<=i-d.actualBoundingBoxLeft&&c[2]>=i+d.actualBoundingBoxRight&&c[1]<=r-d.actualBoundingBoxAscent&&c[3]>=r+d.actualBoundingBoxDescent,nt(Kl,this).set(s,l),l)?this.recordBBox(e,t,c[0],c[2],c[1],c[3]):this.recordBBox(e,t,i-d.actualBoundingBoxLeft,i+d.actualBoundingBoxRight,r-d.actualBoundingBoxAscent,r+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return nt(Gl,this)[0]=Math.max(0,nt(Vl,this)[0]),nt(Gl,this)[1]=Math.max(0,nt(Vl,this)[1]),nt(Gl,this)[2]=Math.min(nt(Jl,this),nt(Vl,this)[2]),nt(Gl,this)[3]=Math.min(nt(Ql,this),nt(Vl,this)[3]),this}getSimpleIndex(e){return nt(Ol,this)[e]}recordDependencies(e,t){const s=nt(Xl,this),n=nt(Ol,this),i=nt(Bl,this);for(const r of t)r in nt(Ol,this)?s.add(n[r]):r in i&&i[r].forEach(s.add,s);return this}recordNamedDependency(e,t){return nt(Wl,this).has(t)&&nt(Xl,this).add(nt(Wl,this).get(t)),this}recordOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.recordDependencies(e,[El]),nt(ec,this)){const t=Fl(nt(ec,this),e),{dependencies:s}=t;nt(Xl,this).forEach(s.add,s),nt(zl,this).forEach(s.add,s),nt(Ul,this).forEach(s.add,s),s.delete(e),t.isRenderingOperation=!0}if(nt(ql,this)===e){const s=Ml(256*nt(Gl,this)[0]/nt(Jl,this)),n=Ml(256*nt(Gl,this)[1]/nt(Ql,this)),i=Pl(256*nt(Gl,this)[2]/nt(Jl,this)),r=Pl(256*nt(Gl,this)[3]/nt(Ql,this));Tl(nt($l,this),e,s,n,i,r);for(const t of nt(Xl,this))t!==e&&Tl(nt($l,this),t,s,n,i,r);for(const t of nt(zl,this))t!==e&&Tl(nt($l,this),t,s,n,i,r);for(const t of nt(Ul,this))t!==e&&Tl(nt($l,this),t,s,n,i,r);t||(nt(Xl,this).clear(),it(ql,this,-1))}return this}recordShowTextOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=Array.from(nt(Xl,this));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const n of s)this.recordIncrementalData("sameLineText",n);return this}bboxToClipBoxDropOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return nt(ql,this)===e&&(it(ql,this,-1),nt(Vl,this)[0]=Math.max(nt(Vl,this)[0],nt(Gl,this)[0]),nt(Vl,this)[1]=Math.max(nt(Vl,this)[1],nt(Gl,this)[1]),nt(Vl,this)[2]=Math.min(nt(Vl,this)[2],nt(Gl,this)[2]),nt(Vl,this)[3]=Math.min(nt(Vl,this)[3],nt(Gl,this)[3]),t||nt(Xl,this).clear()),this}_takePendingDependencies(){const e=nt(Xl,this);return it(Xl,this,new Set),e}_extractOperation(e){const t=nt(Yl,this).get(e);return nt(Yl,this).delete(e),t}_pushPendingDependencies(e){for(const t of e)nt(Xl,this).add(t)}take(){return nt(Kl,this).clear(),new Il(nt(Zl,this),nt($l,this))}takeDebugMetadata(){return nt(ec,this)}}function nc(e,t){const s=new ArrayBuffer(4*e);it($l,this,new Uint8ClampedArray(s)),it(Zl,this,new Uint32Array(s)),t&&t.length>0?(nt(Zl,this).set(t),nt(Zl,this).fill(Rl,t.length)):nt(Zl,this).fill(Rl)}var ic=new WeakMap,rc=new WeakMap,ac=new WeakMap,oc=new WeakMap,lc=new WeakMap;class cc{constructor(e,t,s){if(et(this,ic,void 0),et(this,rc,void 0),et(this,ac,void 0),et(this,oc,0),et(this,lc,0),e instanceof cc&&nt(ac,e)===!!s)return e;it(ic,this,e),it(rc,this,t),it(ac,this,!!s)}growOperationsCount(){throw new Error("Unreachable")}save(e){var t;return it(lc,this,(t=nt(lc,this),t++,t)),nt(ic,this).save(nt(rc,this)),this}restore(e){var t;nt(lc,this)>0&&(nt(ic,this).restore(nt(rc,this)),it(lc,this,(t=nt(lc,this),t--,t)));return this}recordOpenMarker(e){var t;return it(oc,this,(t=nt(oc,this),t++,t)),this}getOpenMarker(){return nt(oc,this)>0?nt(rc,this):nt(ic,this).getOpenMarker()}recordCloseMarker(e){var t;return it(oc,this,(t=nt(oc,this),t--,t)),this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return nt(ic,this).pushBaseTransform(e),this}popBaseTransform(){return nt(ic,this).popBaseTransform(),this}recordSimpleData(e,t){return nt(ic,this).recordSimpleData(e,nt(rc,this)),this}recordIncrementalData(e,t){return nt(ic,this).recordIncrementalData(e,nt(rc,this)),this}resetIncrementalData(e,t){return nt(ic,this).resetIncrementalData(e,nt(rc,this)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,s){return nt(ic,this).recordSimpleDataFromNamed(e,t,nt(rc,this)),this}recordFutureForcedDependency(e,t){return nt(ic,this).recordFutureForcedDependency(e,nt(rc,this)),this}inheritSimpleDataAsFutureForcedDependencies(e){return nt(ic,this).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return nt(ic,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return nt(ac,this)||nt(ic,this).resetBBox(nt(rc,this)),this}recordClipBox(e,t,s,n,i,r){return nt(ac,this)||nt(ic,this).recordClipBox(nt(rc,this),t,s,n,i,r),this}recordBBox(e,t,s,n,i,r){return nt(ac,this)||nt(ic,this).recordBBox(nt(rc,this),t,s,n,i,r),this}recordCharacterBBox(e,t,s,n,i,r,a){return nt(ac,this)||nt(ic,this).recordCharacterBBox(nt(rc,this),t,s,n,i,r,a),this}recordFullPageBBox(e){return nt(ac,this)||nt(ic,this).recordFullPageBBox(nt(rc,this)),this}getSimpleIndex(e){return nt(ic,this).getSimpleIndex(e)}recordDependencies(e,t){return nt(ic,this).recordDependencies(nt(rc,this),t),this}recordNamedDependency(e,t){return nt(ic,this).recordNamedDependency(nt(rc,this),t),this}recordOperation(e){return nt(ic,this).recordOperation(nt(rc,this),!0),this}recordShowTextOperation(e){return nt(ic,this).recordShowTextOperation(nt(rc,this),!0),this}bboxToClipBoxDropOperation(e){return nt(ac,this)||nt(ic,this).bboxToClipBoxDropOperation(nt(rc,this),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const dc=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],hc=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],uc=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],mc=["filter","fillColor","fillAlpha"],pc=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],fc=["transform"],gc=["transform","fillColor"],xc="Fill",vc="Stroke",bc="Shading";function yc(e,t){if(!t)return;const s=t[2]-t[0],n=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],s,n),e.clip(i)}class wc{isModifyingCurrentTransform(){return!1}getPattern(){cs("Abstract method `getPattern` called.")}}class jc extends wc{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,n){let i;if(n===vc||n===xc){const r=t.current.getClippedPathBoundingBox(n,Js(e))||[0,0,0,0],a=Math.ceil(r[2]-r[0])||1,o=Math.ceil(r[3]-r[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-r[0],-r[1]),s=Ss.transform(s,[1,0,0,1,r[0],r[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),yc(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(s);i.setTransform(d)}else yc(e,this._bbox),i=this._createGradient(e);return i}}function Nc(e,t,s,n,i,r,a,o){const l=t.coords,c=t.colors,d=e.data,h=4*e.width;let u;l[s+1]>l[n+1]&&(u=s,s=n,n=u,u=r,r=a,a=u),l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=a,a=o,o=u),l[s+1]>l[n+1]&&(u=s,s=n,n=u,u=r,r=a,a=u);const m=(l[s]+t.offsetX)*t.scaleX,p=(l[s+1]+t.offsetY)*t.scaleY,f=(l[n]+t.offsetX)*t.scaleX,g=(l[n+1]+t.offsetY)*t.scaleY,x=(l[i]+t.offsetX)*t.scaleX,v=(l[i+1]+t.offsetY)*t.scaleY;if(p>=v)return;const b=c[r],y=c[r+1],w=c[r+2],j=c[a],N=c[a+1],k=c[a+2],S=c[o],A=c[o+1],_=c[o+2],C=Math.round(p),E=Math.round(v);let M,P,T,R,D,L,I,F;for(let O=C;O<=E;O++){if(O<g){const e=O<p?0:(p-O)/(p-g);M=m-(m-f)*e,P=b-(b-j)*e,T=y-(y-N)*e,R=w-(w-k)*e}else{let e;e=O>v?1:g===v?0:(g-O)/(g-v),M=f-(f-x)*e,P=j-(j-S)*e,T=N-(N-A)*e,R=k-(k-_)*e}let e;e=O<p?0:O>v?1:(p-O)/(p-v),D=m-(m-x)*e,L=b-(b-S)*e,I=y-(y-A)*e,F=w-(w-_)*e;const t=Math.round(Math.min(M,D)),s=Math.round(Math.max(M,D));let n=h*O+4*t;for(let i=t;i<=s;i++)e=(M-i)/(M-D),e<0?e=0:e>1&&(e=1),d[n++]=P-(P-L)*e|0,d[n++]=T-(T-I)*e|0,d[n++]=R-(R-F)*e|0,d[n++]=255}}function kc(e,t,s){const n=t.coords,i=t.colors;let r,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(n.length/o)-1,c=o-1;for(r=0;r<l;r++){let t=r*o;for(let r=0;r<c;r++,t++)Nc(e,s,n[t],n[t+1],n[t+o],i[t],i[t+1],i[t+o]),Nc(e,s,n[t+o+1],n[t+1],n[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(r=0,a=n.length;r<a;r+=3)Nc(e,s,n[r],n[r+1],n[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class Sc extends wc{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const n=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),r=Math.ceil(this._bounds[2])-n,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(r*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=r/o,d=a/l,h={coords:this._coords,colors:this._colors,offsetX:-n,offsetY:-i,scaleX:1/c,scaleY:1/d},u=o+4,m=l+4,p=s.getCanvas("mesh",u,m),f=p.context,g=f.createImageData(o,l);if(t){const e=g.data;for(let s=0,n=e.length;s<n;s+=4)e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=255}for(const x of this._figures)kc(g,x,h);f.putImageData(g,2,2);return{canvas:p.canvas,offsetX:n-2*c,offsetY:i-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,n){yc(e,this._bbox);const i=new Float32Array(2);if(n===bc)Ss.singularValueDecompose2dScale(Js(e),i);else if(this.matrix){Ss.singularValueDecompose2dScale(this.matrix,i);const[e,s]=i;Ss.singularValueDecompose2dScale(t.baseTransform,i),i[0]*=e,i[1]*=s}else Ss.singularValueDecompose2dScale(t.baseTransform,i);const r=this._createMeshCanvas(i,n===bc?null:this._background,t.cachedCanvases);return n!==bc&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}}class Ac extends wc{getPattern(){return"hotpink"}}const _c=1,Cc=2;class Ec{constructor(e,t,s,n){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=n}createPatternCanvas(e,t){var s,n;const{bbox:i,operatorList:r,paintType:a,tilingType:o,color:l,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:h}=this;d=Math.abs(d),h=Math.abs(h),os("TilingType: "+o);const u=i[0],m=i[1],p=i[2],f=i[3],g=p-u,x=f-m,v=new Float32Array(2);Ss.singularValueDecompose2dScale(this.matrix,v);const[b,y]=v;Ss.singularValueDecompose2dScale(this.baseTransform,v);const w=b*v[0],j=y*v[1];let N=g,k=x,S=!1,A=!1;const _=Math.ceil(d*w),C=Math.ceil(h*j);_>=Math.ceil(g*w)?N=d:S=!0,C>=Math.ceil(x*j)?k=h:A=!0;const E=this.getSizeAndScale(N,this.ctx.canvas.width,w),M=this.getSizeAndScale(k,this.ctx.canvas.height,j),P=e.cachedCanvases.getCanvas("pattern",E.size,M.size),T=P.context,R=c.createCanvasGraphics(T,t);if(R.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(R,a,l),T.translate(-E.scale*u,-M.scale*m),R.transform(0,E.scale,0,0,M.scale,0,0),T.save(),null===(s=R.dependencyTracker)||void 0===s||s.save(),this.clipBbox(R,u,m,p,f),R.baseTransform=Js(R.ctx),R.executeOperatorList(r),R.endDrawing(),null===(n=R.dependencyTracker)||void 0===n||n.restore(),T.restore(),S||A){const t=P.canvas;S&&(N=d),A&&(k=h);const s=this.getSizeAndScale(N,this.ctx.canvas.width,w),n=this.getSizeAndScale(k,this.ctx.canvas.height,j),i=s.size,r=n.size,a=e.cachedCanvases.getCanvas("pattern-workaround",i,r),o=a.context,l=S?Math.floor(g/d):0,c=A?Math.floor(x/h):0;for(let e=0;e<=l;e++)for(let s=0;s<=c;s++)o.drawImage(t,i*e,r*s,i,r,0,0,i,r);return{canvas:a.canvas,scaleX:s.scale,scaleY:n.scale,offsetX:u,offsetY:m}}return{canvas:P.canvas,scaleX:E.scale,scaleY:M.scale,offsetX:u,offsetY:m}}getSizeAndScale(e,t,s){const n=Math.max(Ec.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*s);return i>=n?i=n:s=i/e,{scale:s,size:i}}clipBbox(e,t,s,n,i){const r=n-t,a=i-s;e.ctx.rect(t,s,r,a),Ss.axialAlignedBoundingBox([t,s,n,i],Js(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const n=e.ctx,i=e.current;switch(t){case _c:const{fillStyle:e,strokeStyle:r}=this.ctx;n.fillStyle=i.fillColor=e,n.strokeStyle=i.strokeColor=r;break;case Cc:n.fillStyle=n.strokeStyle=s,i.fillColor=i.strokeColor=s;break;default:throw new bs("Unsupported paint type: ".concat(t))}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,n,i){let r=s;n!==bc&&(r=Ss.transform(r,t.baseTransform),this.matrix&&(r=Ss.transform(r,this.matrix)));const a=this.createPatternCanvas(t,i);let o=new DOMMatrix(r);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}}function Mc(e){let{src:t,srcPos:s=0,dest:n,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=Ns.isLittleEndian?4278190080:255,[c,d]=o?[a,l]:[l,a],h=i>>3,u=7&i,m=t.length;n=new Uint32Array(n.buffer);let p=0;for(let f=0;f<r;f++){for(const i=s+h;s<i;s++){const e=s<m?t[s]:255;n[p++]=128&e?d:c,n[p++]=64&e?d:c,n[p++]=32&e?d:c,n[p++]=16&e?d:c,n[p++]=8&e?d:c,n[p++]=4&e?d:c,n[p++]=2&e?d:c,n[p++]=1&e?d:c}if(0===u)continue;const e=s<m?t[s++]:255;for(let t=0;t<u;t++)n[p++]=e&1<<7-t?d:c}return{srcPos:s,destPos:p}}Ye(Ec,"MAX_PATTERN_SIZE",3e3);const Pc=16,Tc=new DOMMatrix,Rc=new Float32Array(2),Dc=new Float32Array([1/0,1/0,-1/0,-1/0]);class Lc{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,s)):(n=this.canvasFactory.create(t,s),this.cache[e]=n),n}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Ic(e,t,s,n,i,r,a,o,l,c){const[d,h,u,m,p,f]=Js(e);if(0===h&&0===u){const g=a*d+p,x=Math.round(g),v=o*m+f,b=Math.round(v),y=(a+l)*d+p,w=Math.abs(Math.round(y)-x)||1,j=(o+c)*m+f,N=Math.abs(Math.round(j)-b)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(m),x,b),e.drawImage(t,s,n,i,r,0,0,w,N),e.setTransform(d,h,u,m,p,f),[w,N]}if(0===d&&0===m){const g=o*u+p,x=Math.round(g),v=a*h+f,b=Math.round(v),y=(o+c)*u+p,w=Math.abs(Math.round(y)-x)||1,j=(a+l)*h+f,N=Math.abs(Math.round(j)-b)||1;return e.setTransform(0,Math.sign(h),Math.sign(u),0,x,b),e.drawImage(t,s,n,i,r,0,0,N,w),e.setTransform(d,h,u,m,p,f),[N,w]}e.drawImage(t,s,n,i,r,a,o,l,c);return[Math.hypot(d,h)*l,Math.hypot(u,m)*c]}class Fc{constructor(e,t,s){Ye(this,"alphaIsShape",!1),Ye(this,"fontSize",0),Ye(this,"fontSizeScale",1),Ye(this,"textMatrix",null),Ye(this,"textMatrixScale",1),Ye(this,"fontMatrix",St),Ye(this,"leading",0),Ye(this,"x",0),Ye(this,"y",0),Ye(this,"lineX",0),Ye(this,"lineY",0),Ye(this,"charSpacing",0),Ye(this,"wordSpacing",0),Ye(this,"textHScale",1),Ye(this,"textRenderingMode",Bt),Ye(this,"textRise",0),Ye(this,"fillColor","#000000"),Ye(this,"strokeColor","#000000"),Ye(this,"patternFill",!1),Ye(this,"patternStroke",!1),Ye(this,"fillAlpha",1),Ye(this,"strokeAlpha",1),Ye(this,"lineWidth",1),Ye(this,"activeSMask",null),Ye(this,"transferMaps","none"),null===s||void 0===s||s(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Dc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=this.minMax.slice();if(e===vc){t||cs("Stroke bounding box must include transform."),Ss.singularValueDecompose2dScale(t,Rc);const e=Rc[0]*this.lineWidth/2,n=Rc[1]*this.lineWidth/2;s[0]-=e,s[1]-=n,s[2]+=e,s[3]+=n}return s}updateClipFromPath(){const e=Ss.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Dc,0)}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xc,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ss.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function Oc(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const s=t.height,n=t.width,i=s%Pc,r=(s-i)/Pc,a=0===i?r:r+1,o=e.createImageData(n,Pc);let l,c=0;const d=t.data,h=o.data;let u,m,p,f;if(t.kind===Gt.GRAYSCALE_1BPP){const t=d.byteLength,s=new Uint32Array(h.buffer,0,h.byteLength>>2),f=s.length,g=n+7>>3,x=4294967295,v=Ns.isLittleEndian?4278190080:255;for(u=0;u<a;u++){for(p=u<r?Pc:i,l=0,m=0;m<p;m++){const e=t-c;let i=0;const r=e>g?n:8*e-7,a=-8&r;let o=0,h=0;for(;i<a;i+=8)h=d[c++],s[l++]=128&h?x:v,s[l++]=64&h?x:v,s[l++]=32&h?x:v,s[l++]=16&h?x:v,s[l++]=8&h?x:v,s[l++]=4&h?x:v,s[l++]=2&h?x:v,s[l++]=1&h?x:v;for(;i<r;i++)0===o&&(h=d[c++],o=128),s[l++]=h&o?x:v,o>>=1}for(;l<f;)s[l++]=0;e.putImageData(o,0,u*Pc)}}else if(t.kind===Gt.RGBA_32BPP){for(m=0,f=n*Pc*4,u=0;u<r;u++)h.set(d.subarray(c,c+f)),c+=f,e.putImageData(o,0,m),m+=Pc;u<a&&(f=n*i*4,h.set(d.subarray(c,c+f)),e.putImageData(o,0,m))}else{if(t.kind!==Gt.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(p=Pc,f=n*p,u=0;u<a;u++){for(u>=r&&(p=i,f=n*p),l=0,m=f;m--;)h[l++]=d[c++],h[l++]=d[c++],h[l++]=d[c++],h[l++]=255;e.putImageData(o,0,u*Pc)}}}function Bc(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const s=t.height,n=t.width,i=s%Pc,r=(s-i)/Pc,a=0===i?r:r+1,o=e.createImageData(n,Pc);let l=0;const c=t.data,d=o.data;for(let h=0;h<a;h++){const t=h<r?Pc:i;({srcPos:l}=Mc({src:c,srcPos:l,dest:d,width:n,height:t,nonBlackColor:0})),e.putImageData(o,0,h*Pc)}}function Wc(e,t){const s=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of s)void 0!==e[n]&&(t[n]=e[n]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function zc(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function Uc(e,t){if(t)return!0;Ss.singularValueDecompose2dScale(e,Rc);const s=Math.fround(Zs.pixelRatio*Fs.PDF_TO_CSS_UNITS);return Rc[0]<=s&&Rc[1]<=s}const Hc=["butt","round","square"],Vc=["miter","round","bevel"],Gc={},qc={};var Xc=new WeakSet;class Yc{constructor(e,t,s,n,i,r,a,o,l){let{optionalContentConfig:c,markedContentStack:d=null}=r;Ze(this,Xc),this.ctx=e,this.current=new Fc(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=n,this.filterFactory=i,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new Lc(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var n;return"string"===typeof t?(null===(n=this.dependencyTracker)||void 0===n||n.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing(e){let{transform:t,viewport:s,transparency:n=!1,background:i=null}=e;const r=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=o,n){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...Js(this.compositeCtx))}this.ctx.save(),zc(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...s.transform),this.viewportScale=s.scale,this.baseTransform=Js(this.ctx)}executeOperatorList(e,t,s,n,i){const r=e.argsArray,a=e.fnArray;let o=t||0;const l=r.length;if(l===o)return o;const c=l-o>10&&"function"===typeof s,d=c?Date.now()+15:0;let h=0;const u=this.commonObjs,m=this.objs;let p,f;for(;;){if(void 0!==n&&o===n.nextBreakPoint)return n.breakIt(o,s),o;var g;if(!i||i(o))if(p=a[o],f=null!==(g=r[o])&&void 0!==g?g:null,p!==Zt.dependency)null===f?this[p](o):this[p](o,...f);else for(const e of f){var x;null===(x=this.dependencyTracker)||void 0===x||x.recordNamedData(e,o);const t=e.startsWith("g_")?u:m;if(!t.has(e))return t.get(e,s),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>d)return s(),o;h=0}}}endDrawing(){tt(Xc,this,Kc).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),tt(Xc,this,Jc).call(this)}_scaleImage(e,t){var s,n;const i=null!==(s=e.width)&&void 0!==s?s:e.displayWidth,r=null!==(n=e.height)&&void 0!==n?n:e.displayHeight;let a,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=i,h=r,u="prescale1";for(;l>2&&d>1||c>2&&h>1;){let t=d,s=h;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&h>1&&(s=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/s),a=this.cachedCanvases.getCanvas(u,t,s),o=a.context,o.clearRect(0,0,t,s),o.drawImage(e,0,0,d,h,0,0,t,s),e=a.canvas,d=t,h=s,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e,t){var s;const n=this.ctx,{width:i,height:r}=t,a=this.current.fillColor,o=this.current.patternFill,l=Js(n);let c,d,h,u;if((t.bitmap||t.data)&&t.count>1){const s=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(s),c||(c=new Map,this._cachedBitmapsMap.set(s,c));const n=c.get(d);if(n&&!o){var m;const t=Math.round(Math.min(l[0],l[2])+l[4]),s=Math.round(Math.min(l[1],l[3])+l[5]);return null===(m=this.dependencyTracker)||void 0===m||m.recordDependencies(e,gc),{canvas:n,offsetX:t,offsetY:s}}h=n}h||(u=this.cachedCanvases.getCanvas("maskCanvas",i,r),Bc(u.context,t));let p=Ss.transform(l,[1/i,0,0,-1/r,0,0]);p=Ss.transform(p,[1,0,0,1,0,-r]);const f=Dc.slice();Ss.axialAlignedBoundingBox([0,0,i,r],p,f);const[g,x,v,b]=f,y=Math.round(v-g)||1,w=Math.round(b-x)||1,j=this.cachedCanvases.getCanvas("fillCanvas",y,w),N=j.context,k=g,S=x;N.translate(-k,-S),N.transform(...p),h||(h=this._scaleImage(u.canvas,Qs(N)),h=h.img,c&&o&&c.set(d,h)),N.imageSmoothingEnabled=Uc(Js(N),t.interpolate),Ic(N,h,0,0,h.width,h.height,0,0,i,r),N.globalCompositeOperation="source-in";const A=Ss.transform(Qs(N),[1,0,0,1,-k,-S]);return N.fillStyle=o?a.getPattern(n,this,A,xc,e):a,N.fillRect(0,0,i,r),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,j.canvas)),null===(s=this.dependencyTracker)||void 0===s||s.recordDependencies(e,gc),{canvas:j.canvas,offsetX:Math.round(k),offsetY:Math.round(S)}}setLineWidth(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("lineCap",e),this.ctx.lineCap=Hc[t]}setLineJoin(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Vc[t]}setMiterLimit(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("dash",e);const i=this.ctx;void 0!==i.setLineDash&&(i.setLineDash(t),i.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var s,n,i,r,a;for(const[o,l]of t)switch(o){case"LW":this.setLineWidth(e,l);break;case"LC":this.setLineCap(e,l);break;case"LJ":this.setLineJoin(e,l);break;case"ML":this.setMiterLimit(e,l);break;case"D":this.setDash(e,l[0],l[1]);break;case"RI":this.setRenderingIntent(e,l);break;case"FL":this.setFlatness(e,l);break;case"Font":this.setFont(e,l[0],l[1]);break;case"CA":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=l;break;case"ca":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("SMask",e),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,t,s);this.suspendedCtx=this.ctx;const r=this.ctx=i.context;r.setTransform(this.suspendedCtx.getTransform()),Wc(this.suspendedCtx,r),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,s){t.translate(e,s),this.__originalTranslate(e,s)},e.scale=function(e,s){t.scale(e,s),this.__originalScale(e,s)},e.transform=function(e,s,n,i,r,a){t.transform(e,s,n,i,r,a),this.__originalTransform(e,s,n,i,r,a)},e.setTransform=function(e,s,n,i,r,a){t.setTransform(e,s,n,i,r,a),this.__originalSetTransform(e,s,n,i,r,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},e.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},e.bezierCurveTo=function(e,s,n,i,r,a){t.bezierCurveTo(e,s,n,i,r,a),this.__originalBezierCurveTo(e,s,n,i,r,a)},e.rect=function(e,s,n,i){t.rect(e,s,n,i),this.__originalRect(e,s,n,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(r,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Wc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,n){const i=n[0],r=n[1],a=n[2]-i,o=n[3]-r;0!==a&&0!==o&&(this.genericComposeSMask(t.context,s,a,o,t.subtype,t.backdrop,t.transferMap,i,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,n,i,r,a,o,l,c,d){let h=e.canvas,u=o-c,m=l-d;if(r)if(u<0||m<0||u+s>h.width||m+n>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",s,n),t=e.context;t.drawImage(h,-u,-m),t.globalCompositeOperation="destination-atop",t.fillStyle=r,t.fillRect(0,0,s,n),t.globalCompositeOperation="source-over",h=e.canvas,u=m=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(u,m,s,n),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=r,e.fillRect(u,m,s,n),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(a));const p=new Path2D;p.rect(o,l,s,n),t.clip(p),t.globalCompositeOperation="destination-in",t.drawImage(h,u,m,s,n,o,l,s,n),t.restore()}save(e){var t;this.inSMaskMode&&Wc(this.ctx,this.suspendedCtx),this.ctx.save();const s=this.current;this.stateStack.push(s),this.current=s.clone(),null===(t=this.dependencyTracker)||void 0===t||t.save(e)}restore(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.restore(e),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Wc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,s,n,i,r,a){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",e),this.ctx.transform(t,s,n,i,r,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,n){let[i]=s;if(!n)return i||(i=s[0]=new Path2D),void this[t](e,i);if(null!==this.dependencyTracker){const s=t===Zt.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,n[0]-s,n[2]+s,n[1]-s,n[3]+s).recordDependencies(e,["transform"])}if(!(i instanceof Path2D)){const e=s[0]=new Path2D;for(let t=0,s=i.length;t<s;)switch(i[t++]){case es:e.moveTo(i[t++],i[t++]);break;case ts:e.lineTo(i[t++],i[t++]);break;case ss:e.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case ns:e.closePath();break;default:ls("Unrecognized drawing path operator: ".concat(i[t-1]))}i=e}Ss.axialAlignedBoundingBox(n,Js(this.ctx),this.current.minMax),this[t](e,i),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t){var s;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof r&&null!==r&&void 0!==r&&r.getPattern){const s=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,Qs(i),vc,e),s){const e=new Path2D;e.addPath(t,i.getTransform().invertSelf().multiplySelf(s)),t=e}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);null===(s=this.dependencyTracker)||void 0===s||s.recordDependencies(e,dc),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(vc,Js(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t){var s;let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.ctx,r=this.current.fillColor;let a=!1;if(this.current.patternFill){var o;const s=r.isModifyingCurrentTransform()?i.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(e),i.save(),i.fillStyle=r.getPattern(i,this,Qs(i),xc,e),s){const e=new Path2D;e.addPath(t,i.getTransform().invertSelf().multiplySelf(s)),t=e}a=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),null===(s=this.dependencyTracker)||void 0===s||s.recordDependencies(e,hc),a)&&(i.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(e));n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var s;this.ctx.fill(t),null===(s=this.dependencyTracker)||void 0===s||s.recordDependencies(e,mc).recordOperation(e)}clip(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Gc}eoClip(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=qc}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(t=this.dependencyTracker)||void 0===t||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;void 0!==t&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",e),s.recordCloseMarker(e)}if(void 0!==t){const e=new Path2D,n=s.getTransform().invertSelf();for(const{transform:s,x:i,y:r,fontSize:a,path:o}of t)o&&e.addPath(o,new DOMMatrix(s).preMultiplySelf(n).translate(i,r).scale(a,-a));s.clip(e)}delete this.pendingTextPaths}setCharSpacing(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){var n,i;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),a=this.current;if(!r)throw new Error("Can't find font for ".concat(t));if(a.fontMatrix=r.fontMatrix||St,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||ls("Invalid font matrix for font "+t),s<0?(s=-s,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=s,r.isType3Font)return;const o=r.loadedName||"sans-serif",l=(null===(i=r.systemFontInfo)||void 0===i?void 0:i.css)||'"'.concat(o,'", ').concat(r.fallbackName);let c="normal";r.black?c="900":r.bold&&(c="bold");const d=r.italic?"italic":"normal";let h=s;s<16?h=16:s>100&&(h=100),this.current.fontSizeScale=s/h,this.ctx.font="".concat(d," ").concat(c," ").concat(h,"px ").concat(l)}setTextRenderingMode(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){var n;null===(n=this.dependencyTracker)||void 0===n||n.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("textMatrix",e);const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(e){var t,s;this.moveText(e,0,this.current.leading),null===(t=this.dependencyTracker)||void 0===t||t.recordIncrementalData("moveText",null!==(s=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==s?s:e)}paintChar(e,t,s,n,i,r){const a=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&Ht,u=!!(c&Vt),m=o.patternFill&&!l.missingFile,p=o.patternStroke&&!l.missingFile;let f;if((l.disableFontFace||u||m||p)&&!l.missingFile&&(f=l.getPathGenerator(this.commonObjs,t)),f&&(l.disableFontFace||m||p)){var g;let t;if(a.save(),a.translate(s,n),a.scale(d,-d),null===(g=this.dependencyTracker)||void 0===g||g.recordCharacterBBox(e,a,l),h===Bt||h===zt)if(i){t=a.getTransform(),a.setTransform(...i);const e=tt(Xc,this,Qc).call(this,f,t,i);a.fill(e)}else a.fill(f);if(h===Wt||h===zt)if(r){t||(t=a.getTransform()),a.setTransform(...r);const{a:e,b:s,c:n,d:i}=t,o=Ss.inverseTransform(r),l=Ss.transform([e,s,n,i,0,0],o);Ss.singularValueDecompose2dScale(l,Rc),a.lineWidth*=Math.max(Rc[0],Rc[1])/d,a.stroke(tt(Xc,this,Qc).call(this,f,t,r))}else a.lineWidth/=d,a.stroke(f);a.restore()}else{var x;if(h===Bt||h===zt)a.fillText(t,s,n),null===(x=this.dependencyTracker)||void 0===x||x.recordCharacterBBox(e,a,l,d,s,n,()=>a.measureText(t));if(h===Wt||h===zt){var v;if(this.dependencyTracker)null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(e,a,l,d,s,n,()=>a.measureText(t)).recordDependencies(e,dc);a.strokeText(t,s,n)}}if(u){var b;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Js(a),x:s,y:n,fontSize:d,path:f}),null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(e,a,l,d,s,n)}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let n=3;n<t.length;n+=4)if(t[n]>0&&t[n]<255){s=!0;break}return ms(this,"isFontSubpixelAAEnabled",s)}showText(e,t){var s;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,pc).resetBBox(e),this.current.textRenderingMode&Vt&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,i=n.font;var r;if(i.isType3Font)return this.showType3Text(e,t),void(null===(r=this.dependencyTracker)||void 0===r||r.recordShowTextOperation(e));const a=n.fontSize;var o;if(0===a)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(e));const l=this.ctx,c=n.fontSizeScale,d=n.charSpacing,h=n.wordSpacing,u=n.fontDirection,m=n.textHScale*u,p=t.length,f=i.vertical,g=f?1:-1,x=i.defaultVMetrics,v=a*n.fontMatrix[0],b=n.textRenderingMode===Bt&&!i.disableFontFace&&!n.patternFill;let y,w;if(l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),u>0?l.scale(m,-1):l.scale(m,1),n.patternFill){l.save();const t=n.fillColor.getPattern(l,this,Qs(l),xc,e);y=Js(l),l.restore(),l.fillStyle=t}if(n.patternStroke){l.save();const t=n.strokeColor.getPattern(l,this,Qs(l),vc,e);w=Js(l),l.restore(),l.strokeStyle=t}let j=n.lineWidth;const N=n.textMatrixScale;if(0===N||0===j){const e=n.textRenderingMode&Ht;e!==Wt&&e!==zt||(j=this.getSinglePixelWidth())}else j/=N;if(1!==c&&(l.scale(c,c),j/=c),l.lineWidth=j,i.isInvalidPDFjsFont){const s=[];let i=0;for(const e of t)s.push(e.unicode),i+=e.width;const r=s.join("");if(l.fillText(r,0,0),null!==this.dependencyTracker){const t=l.measureText(r);this.dependencyTracker.recordBBox(e,this.ctx,-t.actualBoundingBoxLeft,t.actualBoundingBoxRight,-t.actualBoundingBoxAscent,t.actualBoundingBoxDescent).recordShowTextOperation(e)}return n.x+=i*v*m,l.restore(),void this.compose()}let k,S=0;for(k=0;k<p;++k){const s=t[k];if("number"===typeof s){S+=g*s*a/1e3;continue}let n=!1;const r=(s.isSpace?h:0)+d,o=s.fontChar,m=s.accent;let p,j,N,_=s.width;if(f){const e=s.vmetric||x,t=-(s.vmetric?e[1]:.5*_)*v,n=e[2]*v;_=e?-e[0]:_,p=t/c,j=(S+n)/c}else p=S/c,j=0;if(i.remeasure&&_>0){N=l.measureText(o);const e=1e3*N.width/a*c;if(_<e&&this.isFontSubpixelAAEnabled){const t=_/e;n=!0,l.save(),l.scale(t,1),p/=t}else _!==e&&(p+=(_-e)/2e3*a/c)}var A;if(this.contentVisible&&(s.isInFont||i.missingFile))if(b&&!m)l.fillText(o,p,j),null===(A=this.dependencyTracker)||void 0===A||A.recordCharacterBBox(e,l,N?{bbox:null}:i,a/c,p,j,()=>null!==N&&void 0!==N?N:l.measureText(o));else if(this.paintChar(e,o,p,j,y,w),m){const t=p+a*m.offset.x/c,s=j-a*m.offset.y/c;this.paintChar(e,m.fontChar,t,s,y,w)}S+=f?_*v-r*u:_*v+r*u,n&&l.restore()}f?n.y-=S:n.x+=S*m,l.restore(),this.compose(),null===(s=this.dependencyTracker)||void 0===s||s.recordShowTextOperation(e)}showType3Text(e,t){const s=this.ctx,n=this.current,i=n.font,r=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,c=n.wordSpacing,d=n.textHScale*a,h=n.fontMatrix||St,u=t.length;let m,p,f,g;if(n.textRenderingMode===Ut||0===r)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),n.textMatrix&&s.transform(...n.textMatrix),s.translate(n.x,n.y+n.textRise),s.scale(d,a);const x=this.dependencyTracker;for(this.dependencyTracker=x?new cc(x,e):null,m=0;m<u;++m){if(p=t[m],"number"===typeof p){g=o*p*r/1e3,this.ctx.translate(g,0),n.x+=g*d;continue}const e=(p.isSpace?c:0)+l,a=i.charProcOperatorList[p.operatorListId];a?this.contentVisible&&(this.save(),s.scale(r,r),s.transform(...h),this.executeOperatorList(a),this.restore()):ls('Type3 character "'.concat(p.operatorListId,'" is not available.'));const u=[p.width,0];Ss.applyTransform(u,h),f=u[0]*r+e,s.translate(f,0),n.x+=f*d}s.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,n,i,r,a){var o;const l=new Path2D;l.rect(n,i,r-n,a-i),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,this.ctx,n,r,i,a).recordClipBox(e,this.ctx,n,r,i,a),this.endPath(e)}getColorN_Pattern(e,t){let s;if("TilingPattern"===t[0]){const e=this.baseTransform||Js(this.ctx),n={createCanvasGraphics:(e,t)=>new Yc(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new cc(this.dependencyTracker,t,!0):null)};s=new Ec(t,this.ctx,n,e)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("strokeColor",e);for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("fillColor",e);for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t){let s,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=function(e){switch(e[0]){case"RadialAxial":return new jc(e);case"Mesh":return new Sc(e);case"Dummy":return new Ac}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e,t)),this.cachedPatterns.set(t,s)),n&&(s.matrix=n),s}shadingFill(e,t){var s;if(!this.contentVisible)return;const n=this.ctx;this.save(e);const i=this._getPattern(e,t);n.fillStyle=i.getPattern(n,this,Qs(n),bc,e);const r=Qs(n);if(r){const{width:e,height:t}=n.canvas,s=Dc.slice();Ss.axialAlignedBoundingBox([0,0,e,t],r,s);const[i,a,o,l]=s;this.ctx.fillRect(i,a,o-i,l-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(s=this.dependencyTracker)||void 0===s||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,fc).recordDependencies(e,hc).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){cs("Should not call beginInlineImage")}beginImageData(){cs("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Js(this.ctx),s)){var n;Ss.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[t,i,r,a]=s,o=new Path2D;o.rect(t,i,r-t,a-i),this.ctx.clip(o),null===(n=this.dependencyTracker)||void 0===n||n.recordClipBox(e,this.ctx,t,r,i,a),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var s;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||os("TODO: Support non-isolated groups."),t.knockout&&ls("Knockout groups not supported.");const i=Js(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=Dc.slice();Ss.axialAlignedBoundingBox(t.bbox,Js(n),r);const a=[0,0,n.canvas.width,n.canvas.height];r=Ss.intersect(r,a)||[0,0,0,0];const o=Math.floor(r[0]),l=Math.floor(r[1]),c=Math.max(Math.ceil(r[2])-o,1),d=Math.max(Math.ceil(r[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(h,c,d),m=u.context;m.translate(-o,-l),m.transform(...i);let p=new Path2D;const[f,g,x,v]=t.bbox;if(p.rect(f,g,x-f,v-g),t.matrix){const e=new Path2D;e.addPath(p,new DOMMatrix(t.matrix)),p=e}m.clip(p),t.smask&&this.smaskStack.push({canvas:u.canvas,context:m,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),t.smask&&!this.dependencyTracker||(n.setTransform(1,0,0,1,0,0),n.translate(o,l),n.save()),Wc(n,m),this.ctx=m,null===(s=this.dependencyTracker)||void 0===s||s.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,null===(s=this.dependencyTracker)||void 0===s||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const t=Js(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...t);const s=Dc.slice();Ss.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],t,s),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,s,n,i,r){if(tt(Xc,this,Kc).call(this),zc(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const i=s[2]-s[0],a=s[3]-s[1];if(r&&this.annotationCanvasMap){(n=n.slice())[4]-=s[0],n[5]-=s[1],(s=s.slice())[0]=s[1]=0,s[2]=i,s[3]=a,Ss.singularValueDecompose2dScale(Js(this.ctx),Rc);const{viewportScale:e}=this,r=Math.ceil(i*this.outputScaleX*e),o=Math.ceil(a*this.outputScaleY*e);this.annotationCanvas=this.canvasFactory.create(r,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(t,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(Rc[0],0,0,-Rc[1],0,a*Rc[1]),zc(this.ctx)}else{zc(this.ctx),this.endPath(e);const t=new Path2D;t.rect(s[0],s[1],i,a),this.ctx.clip(t)}}this.current=new Fc(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...n),this.transform(e,...i)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),tt(Xc,this,Jc).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var s;if(!this.contentVisible)return;const n=t.count;(t=this.getObject(e,t.data,t)).count=n;const i=this.ctx,r=this._createMaskCanvas(e,t),a=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,r.offsetX,r.offsetY),null===(s=this.dependencyTracker)||void 0===s||s.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+a.width,r.offsetY,r.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s){var n,i;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const d=Js(c);c.transform(s,r,a,o,0,0);const h=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e);for(let m=0,p=l.length;m<p;m+=2){var u;const t=Ss.transform(d,[s,r,a,o,l[m],l[m+1]]);c.drawImage(h.canvas,t[4],t[5]),null===(u=this.dependencyTracker)||void 0===u||u.recordBBox(e,this.ctx,t[4],t[4]+h.canvas.width,t[5],t[5]+h.canvas.height)}c.restore(),this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var s,n;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;null===(s=this.dependencyTracker)||void 0===s||s.resetBBox(e).recordDependencies(e,gc);for(const l of t){var o;const{data:t,width:s,height:n,transform:c}=l,d=this.cachedCanvases.getCanvas("maskCanvas",s,n),h=d.context;h.save();Bc(h,this.getObject(e,t,l)),h.globalCompositeOperation="source-in",h.fillStyle=a?r.getPattern(h,this,Qs(i),xc,e):r,h.fillRect(0,0,s,n),h.restore(),i.save(),i.transform(...c),i.scale(1,-1),Ic(i,d.canvas,0,0,s,n,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,i,0,s,0,n),i.restore()}this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);s?this.paintInlineImageXObject(e,s):ls("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,s,n,i){if(!this.contentVisible)return;const r=this.getObject(e,t);if(!r)return void ls("Dependent image isn't ready yet");const a=r.width,o=r.height,l=[];for(let c=0,d=i.length;c<d;c+=2)l.push({transform:[s,0,0,n,i[c],i[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(e,r,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:s,height:n}=e,i=this.cachedCanvases.getCanvas("inlineImage",s,n),r=i.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",i.canvas}paintInlineImageXObject(e,t){var s;if(!this.contentVisible)return;const n=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:a}=r;let o;if("none"!==a&&""!==a&&(r.filter="none"),r.scale(1/n,-1/i),t.bitmap)o=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{const e=this.cachedCanvases.getCanvas("inlineImage",n,i).context;Oc(e,t),o=this.applyTransferMapsToCanvas(e)}const l=this._scaleImage(o,Qs(r));r.imageSmoothingEnabled=Uc(Js(r),t.interpolate),null===(s=this.dependencyTracker)||void 0===s||s.resetBBox(e).recordBBox(e,r,0,n,-i,0).recordDependencies(e,uc).recordOperation(e),Ic(r,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,n,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){var n,i;if(!this.contentVisible)return;const r=this.ctx;let a;if(t.bitmap)a=t.bitmap;else{const e=t.width,s=t.height,n=this.cachedCanvases.getCanvas("inlineImage",e,s).context;Oc(n,t),a=this.applyTransferMapsToCanvas(n)}null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e);for(const l of s){var o;r.save(),r.transform(...l.transform),r.scale(1,-1),Ic(r,a,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,r,0,1,-1,0),r.restore()}null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&(null===(t=this.dependencyTracker)||void 0===t||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,hc).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){var s;null===(s=this.dependencyTracker)||void 0===s||s.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(e),"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){const n=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const i=this.ctx;var r,a;this.pendingClip?(n||(this.pendingClip===qc?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null,null===(r=this.dependencyTracker)||void 0===r||r.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(e);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Js(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),n=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,n)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:s,c:n,d:i}=this.ctx.getTransform();let r,a;if(0===s&&0===n){const s=Math.abs(t),n=Math.abs(i);if(s===n)if(0===e)r=a=1/s;else{const t=s*e;r=a=t<1?1/t:1}else if(0===e)r=1/s,a=1/n;else{const t=s*e,i=n*e;r=t<1?1/t:1,a=i<1?1/i:1}}else{const o=Math.abs(t*i-s*n),l=Math.hypot(t,s),c=Math.hypot(n,i);if(0===e)r=c/o,a=l/o;else{const t=e*o;r=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:n}}=this,[i,r]=this.getScaleForStroking();if(i===r)return s.lineWidth=(n||1)*i,void s.stroke(e);const a=s.getLineDash();t&&s.save(),s.scale(i,r),Tc.a=1/i,Tc.d=1/r;const o=new Path2D;if(o.addPath(e,Tc),a.length>0){const e=Math.max(i,r);s.setLineDash(a.map(t=>t/e)),s.lineDashOffset/=e}s.lineWidth=n||1,s.stroke(o),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function Kc(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Jc(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function Qc(e,t,s){const n=new Path2D;return n.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),n}for(const s in Zt)void 0!==Yc.prototype[s]&&(Yc.prototype[Zt[s]]=Yc.prototype[s]);var $c=new WeakMap,Zc=new WeakMap,ed=new WeakMap,td=new WeakSet;class sd{static write(e){const t=new TextEncoder,s={};let n=0;for(const l of sd.strings){const i=t.encode(e[l]);s[l]=i,n+=4+i.length}const i=new ArrayBuffer(n),r=new Uint8Array(i),a=new DataView(i);let o=0;for(const l of sd.strings){const e=s[l],t=e.length;a.setUint32(o,t),r.set(e,o+4),o+=4+t}return ds(o===i.byteLength,"CssFontInfo.write: Buffer overflow"),i}constructor(e){Ze(this,td),et(this,$c,void 0),et(this,Zc,void 0),et(this,ed,void 0),it($c,this,e),it(Zc,this,new DataView(nt($c,this))),it(ed,this,new TextDecoder)}get fontFamily(){return tt(td,this,nd).call(this,0)}get fontWeight(){return tt(td,this,nd).call(this,1)}get italicAngle(){return tt(td,this,nd).call(this,2)}}function nd(e){ds(e<ht.strings.length,"Invalid string index");let t=0;for(let n=0;n<e;n++)t+=nt(Zc,this).getUint32(t)+4;const s=nt(Zc,this).getUint32(t);return nt(ed,this).decode(new Uint8Array(nt($c,this),t+4,s))}ht=sd,Ye(sd,"strings",["fontFamily","fontWeight","italicAngle"]);var id=new WeakMap,rd=new WeakMap,ad=new WeakMap,od=new WeakSet;class ld{static write(e){const t=new TextEncoder,s={};let n=0;for(const h of ld.strings){const i=t.encode(e[h]);s[h]=i,n+=4+i.length}n+=4;let i,r,a=1+n;e.style&&(i=t.encode(e.style.style),r=t.encode(e.style.weight),a+=4+i.length+4+r.length);const o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;c.setUint8(d++,e.guessFallback?1:0),c.setUint32(d,0),d+=4,n=0;for(const h of ld.strings){const e=s[h],t=e.length;n+=4+t,c.setUint32(d,t),l.set(e,d+4),d+=4+t}return c.setUint32(d-n-4,n),e.style&&(c.setUint32(d,i.length),l.set(i,d+4),d+=4+i.length,c.setUint32(d,r.length),l.set(r,d+4),d+=4+r.length),ds(d<=o.byteLength,"SubstitionInfo.write: Buffer overflow"),o.transferToFixedLength(d)}constructor(e){Ze(this,od),et(this,id,void 0),et(this,rd,void 0),et(this,ad,void 0),it(id,this,e),it(rd,this,new DataView(nt(id,this))),it(ad,this,new TextDecoder)}get guessFallback(){return 0!==nt(rd,this).getUint8(0)}get css(){return tt(od,this,cd).call(this,0)}get loadedName(){return tt(od,this,cd).call(this,1)}get baseFontName(){return tt(od,this,cd).call(this,2)}get src(){return tt(od,this,cd).call(this,3)}get style(){let e=1;e+=4+nt(rd,this).getUint32(e);const t=nt(rd,this).getUint32(e),s=nt(ad,this).decode(new Uint8Array(nt(id,this),e+4,t));e+=4+t;const n=nt(rd,this).getUint32(e);return{style:s,weight:nt(ad,this).decode(new Uint8Array(nt(id,this),e+4,n))}}}function cd(e){ds(e<ut.strings.length,"Invalid string index");let t=5;for(let n=0;n<e;n++)t+=nt(rd,this).getUint32(t)+4;const s=nt(rd,this).getUint32(t);return nt(ad,this).decode(new Uint8Array(nt(id,this),t+4,s))}ut=ld,Ye(ld,"strings",["css","loadedName","baseFontName","src"]);var dd=new WeakMap,hd=new WeakMap,ud=new WeakMap,md=new WeakSet;class pd{constructor(e){let{data:t,extra:s}=e;Ze(this,md),et(this,dd,void 0),et(this,hd,void 0),et(this,ud,void 0),it(dd,this,t),it(hd,this,new TextDecoder),it(ud,this,new DataView(nt(dd,this))),s&&Object.assign(this,s)}get black(){return tt(md,this,fd).call(this,0)}get bold(){return tt(md,this,fd).call(this,1)}get disableFontFace(){return tt(md,this,fd).call(this,2)}get fontExtraProperties(){return tt(md,this,fd).call(this,3)}get isInvalidPDFjsFont(){return tt(md,this,fd).call(this,4)}get isType3Font(){return tt(md,this,fd).call(this,5)}get italic(){return tt(md,this,fd).call(this,6)}get missingFile(){return tt(md,this,fd).call(this,7)}get remeasure(){return tt(md,this,fd).call(this,8)}get vertical(){return tt(md,this,fd).call(this,9)}get ascent(){return tt(md,this,gd).call(this,0)}get defaultWidth(){return tt(md,this,gd).call(this,1)}get descent(){return tt(md,this,gd).call(this,2)}get bbox(){let e=bd._;if(0===nt(ud,this).getUint8(e))return;e+=1;const t=[];for(let s=0;s<4;s++)t.push(nt(ud,this).getInt16(e,!0)),e+=2;return t}get fontMatrix(){let e=yd._;if(0===nt(ud,this).getUint8(e))return;e+=1;const t=[];for(let s=0;s<6;s++)t.push(nt(ud,this).getFloat64(e,!0)),e+=8;return t}get defaultVMetrics(){let e=wd._;if(0===nt(ud,this).getUint8(e))return;e+=1;const t=[];for(let s=0;s<3;s++)t.push(nt(ud,this).getInt16(e,!0)),e+=2;return t}get fallbackName(){return tt(md,this,xd).call(this,0)}get loadedName(){return tt(md,this,xd).call(this,1)}get mimetype(){return tt(md,this,xd).call(this,2)}get name(){return tt(md,this,xd).call(this,3)}get data(){let e=jd._;e+=4+nt(ud,this).getUint32(e);e+=4+nt(ud,this).getUint32(e);e+=4+nt(ud,this).getUint32(e);const t=nt(ud,this).getUint32(e);if(0!==t)return new Uint8Array(nt(dd,this),e+4,t)}clearData(){let e=jd._;e+=4+nt(ud,this).getUint32(e);e+=4+nt(ud,this).getUint32(e);e+=4+nt(ud,this).getUint32(e);const t=nt(ud,this).getUint32(e);new Uint8Array(nt(dd,this),e+4,t).fill(0),nt(ud,this).setUint32(e,0)}get cssFontInfo(){let e=jd._;e+=4+nt(ud,this).getUint32(e);e+=4+nt(ud,this).getUint32(e);const t=nt(ud,this).getUint32(e);if(0===t)return null;const s=new Uint8Array(t);return s.set(new Uint8Array(nt(dd,this),e+4,t)),new sd(s.buffer)}get systemFontInfo(){let e=jd._;e+=4+nt(ud,this).getUint32(e);const t=nt(ud,this).getUint32(e);if(0===t)return null;const s=new Uint8Array(t);return s.set(new Uint8Array(nt(dd,this),e+4,t)),new ld(s.buffer)}static write(e){const t=e.systemFontInfo?ld.write(e.systemFontInfo):null,s=e.cssFontInfo?sd.write(e.cssFontInfo):null,n=new TextEncoder,i={};let r=0;for(const p of pd.strings)i[p]=n.encode(e[p]),r+=4+i[p].length;const a=jd._+4+r+4+(t?t.byteLength:0)+4+(s?s.byteLength:0)+4+(e.data?e.data.length:0),o=new ArrayBuffer(a),l=new Uint8Array(o),c=new DataView(o);let d=0;const h=pd.bools.length;let u=0,m=0;for(let p=0;p<h;p++){const t=e[pd.bools[p]];u|=(void 0===t?0:t?2:1)<<m,m+=2,8!==m&&p!==h-1||(c.setUint8(d++,u),u=0,m=0)}ds(d===vd._,"FontInfo.write: Boolean properties offset mismatch");for(const p of pd.numbers)c.setFloat64(d,e[p]),d+=8;if(ds(d===bd._,"FontInfo.write: Number properties offset mismatch"),e.bbox){c.setUint8(d++,4);for(const t of e.bbox)c.setInt16(d,t,!0),d+=2}else c.setUint8(d++,0),d+=8;if(ds(d===yd._,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){c.setUint8(d++,6);for(const t of e.fontMatrix)c.setFloat64(d,t,!0),d+=8}else c.setUint8(d++,0),d+=48;if(ds(d===wd._,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){c.setUint8(d++,1);for(const t of e.defaultVMetrics)c.setInt16(d,t,!0),d+=2}else c.setUint8(d++,0),d+=6;ds(d===jd._,"FontInfo.write: DefaultVMetrics properties offset mismatch"),c.setUint32(jd._,0),d+=4;for(const p of pd.strings){const e=i[p],t=e.length;c.setUint32(d,t),l.set(e,d+4),d+=4+t}if(c.setUint32(jd._,d-jd._-4),t){const e=t.byteLength;c.setUint32(d,e),ds(d+4+e<=o.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(t),d+4),d+=4+e}else c.setUint32(d,0),d+=4;if(s){const e=s.byteLength;c.setUint32(d,e),ds(d+4+e<=o.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(s),d+4),d+=4+e}else c.setUint32(d,0),d+=4;return void 0===e.data?(c.setUint32(d,0),d+=4):(c.setUint32(d,e.data.length),l.set(e.data,d+4),d+=4+e.data.length),ds(d<=o.byteLength,"FontInfo.write: Buffer overflow"),o.transferToFixedLength(d)}}function fd(e){ds(e<mt.bools.length,"Invalid boolean index");const t=Math.floor(e/4),s=2*e%8,n=nt(ud,this).getUint8(t)>>s&3;return 0===n?void 0:2===n}function gd(e){return ds(e<mt.numbers.length,"Invalid number index"),nt(ud,this).getFloat64(vd._+8*e)}function xd(e){ds(e<mt.strings.length,"Invalid string index");let t=jd._+4;for(let i=0;i<e;i++)t+=nt(ud,this).getUint32(t)+4;const s=nt(ud,this).getUint32(t),n=new Uint8Array(s);return n.set(new Uint8Array(nt(dd,this),t+4,s)),nt(hd,this).decode(n)}mt=pd,Ye(pd,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Ye(pd,"numbers",["ascent","defaultWidth","descent"]),Ye(pd,"strings",["fallbackName","loadedName","mimetype","name"]);var vd={_:Math.ceil(2*mt.bools.length/8)},bd={_:tt(mt,mt,vd)._+8*mt.numbers.length},yd={_:tt(mt,mt,bd)._+1+8},wd={_:tt(mt,mt,yd)._+1+48},jd={_:tt(mt,mt,wd)._+1+6};class Nd{static get workerPort(){return tt(Nd,this,kd)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");kd._=tt(Nd,this,e)}static get workerSrc(){return tt(Nd,this,Sd)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");Sd._=tt(Nd,this,e)}}var kd={_:null},Sd={_:""},Ad=new WeakMap,_d=new WeakMap;class Cd{constructor(e){let{parsedData:t,rawData:s}=e;et(this,Ad,void 0),et(this,_d,void 0),it(Ad,this,t),it(_d,this,s)}getRaw(){return nt(_d,this)}get(e){var t;return null!==(t=nt(Ad,this).get(e))&&void 0!==t?t:null}[Symbol.iterator](){return nt(Ad,this).entries()}}const Ed=Symbol("INTERNAL");var Md=new WeakMap,Pd=new WeakMap,Td=new WeakMap,Rd=new WeakMap;class Dd{constructor(e,t){let{name:s,intent:n,usage:i,rbGroups:r}=t;et(this,Md,!1),et(this,Pd,!1),et(this,Td,!1),et(this,Rd,!0),it(Md,this,!!(e&Ct)),it(Pd,this,!!(e&Et)),this.name=s,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(nt(Td,this))return nt(Rd,this);if(!nt(Rd,this))return!1;const{print:e,view:t}=this.usage;return nt(Md,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!nt(Pd,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==Ed&&cs("Internal method `_setVisible` called."),it(Td,this,s),it(Rd,this,t)}}var Ld=new WeakMap,Id=new WeakMap,Fd=new WeakMap,Od=new WeakMap,Bd=new WeakSet;class Wd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ct;if(Ze(this,Bd),et(this,Ld,null),et(this,Id,new Map),et(this,Fd,null),et(this,Od,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,it(Od,this,e.order);for(const s of e.groups)nt(Id,this).set(s.id,new Dd(t,s));if("OFF"===e.baseState)for(const e of nt(Id,this).values())e._setVisible(Ed,!1);for(const t of e.on)nt(Id,this).get(t)._setVisible(Ed,!0);for(const t of e.off)nt(Id,this).get(t)._setVisible(Ed,!1);it(Fd,this,this.getHash())}}isVisible(e){if(0===nt(Id,this).size)return!0;if(!e)return os("Optional content group not defined."),!0;if("OCG"===e.type)return nt(Id,this).has(e.id)?nt(Id,this).get(e.id).visible:(ls("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return tt(Bd,this,zd).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!nt(Id,this).has(t))return ls("Optional content group not found: ".concat(t)),!0;if(nt(Id,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!nt(Id,this).has(t))return ls("Optional content group not found: ".concat(t)),!0;if(!nt(Id,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!nt(Id,this).has(t))return ls("Optional content group not found: ".concat(t)),!0;if(!nt(Id,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!nt(Id,this).has(t))return ls("Optional content group not found: ".concat(t)),!0;if(nt(Id,this).get(t).visible)return!1}return!0}return ls("Unknown optional content policy ".concat(e.policy,".")),!0}return ls("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=nt(Id,this).get(e);if(n){if(s&&t&&n.rbGroups.length)for(const t of n.rbGroups)for(const s of t){var i;if(s!==e)null===(i=nt(Id,this).get(s))||void 0===i||i._setVisible(Ed,!1,!0)}n._setVisible(Ed,!!t,!0),it(Ld,this,null)}else ls("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:s,preserveRB:n}=e;for(const i of s){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=nt(Id,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!e.visible,n)}}it(Ld,this,null)}get hasInitialVisibility(){return null===nt(Fd,this)||this.getHash()===nt(Fd,this)}getOrder(){return nt(Id,this).size?nt(Od,this)?nt(Od,this).slice():[...nt(Id,this).keys()]:null}getGroup(e){return nt(Id,this).get(e)||null}getHash(){if(null!==nt(Ld,this))return nt(Ld,this);const e=new ro;for(const[t,s]of nt(Id,this))e.update("".concat(t,":").concat(s.visible));return it(Ld,this,e.hexdigest())}[Symbol.iterator](){return nt(Id,this).entries()}}function zd(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let n=1;n<t;n++){const t=e[n];let i;if(Array.isArray(t))i=tt(Bd,this,zd).call(this,t);else{if(!nt(Id,this).has(t))return ls("Optional content group not found: ".concat(t)),!0;i=nt(Id,this).get(t).visible}switch(s){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===s}class Ud{constructor(e,t){let{disableRange:s=!1,disableStream:n=!1}=t;ds(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(null===r||void 0===r?void 0:r.length)>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!s,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:s}=e;const n=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{ds(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(n),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,s,n,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.loaded}):null===(n=this._fullRequestReader)||void 0===n||null===(i=n.onProgress)||void 0===i||i.call(n,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){ds(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Hd(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new Vd(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeReaders.slice(0))s.cancel(e);this._pdfDataRangeTransport.abort()}}class Hd{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=s||!1,this._filename=Us(n)?n:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Vd{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Gd(e,t){const s=new Headers;if(!e||!t||"object"!==typeof t)return s;for(const n in t){const e=t[n];void 0!==e&&s.append(n,e)}return s}function qd(e){var t,s;return null!==(t=null===(s=URL.parse(e))||void 0===s?void 0:s.origin)&&void 0!==t?t:null}function Xd(e){let{responseHeaders:t,isHttp:s,rangeChunkSize:n,disableRange:i}=e;const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*n)return r;if(i||!s)return r;if("bytes"!==t.get("Accept-Ranges"))return r;return"identity"!==(t.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function Yd(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,s=n("filename\\*","i").exec(e);if(s){s=s[1];let e=a(s);return e=unescape(e),e=o(e),e=l(e),r(e)}if(s=function(e){const t=[];let s;const i=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(s=i.exec(e));){let[,e,n,i]=s;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[n,i]}const r=[];for(let n=0;n<t.length&&n in t;++n){let[e,s]=t[n];s=a(s),e&&(s=unescape(s),0===n&&(s=o(s))),r.push(s)}return r.join("")}(e),s)return r(l(s));if(s=n("filename","i").exec(e),s){s=s[1];let e=a(s);return e=l(e),r(e)}function n(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,s){if(e){if(!/^[\x00-\xFF]+$/.test(s))return s;try{const n=new TextDecoder(e,{fatal:!0}),i=js(s);s=n.decode(i),t=!1}catch(n){}}return s}function r(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const s=t[e].indexOf('"');-1!==s&&(t[e]=t[e].slice(0,s),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,s,n){if("q"===s||"Q"===s)return i(t,n=(n=n.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{n=atob(n)}catch(r){}return i(t,n)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(s){}if(Us(e))return e}return null}function Kd(e,t){return new vs("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e,404===e||0===e&&t.startsWith("file:"))}function Jd(e){return 200===e||206===e}function Qd(e,t,s){return{method:"GET",headers:e,signal:s.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function $d(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(ls("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class Zd{constructor(e){Ye(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Gd(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return ds(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new eh(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new th(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class eh{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),n=t.url;fetch(n,Qd(s,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=qd(t.url),!Jd(t.status))throw Kd(t.status,n);this._reader=t.body.getReader(),this._headersCapability.resolve();const s=t.headers,{allowRangeRequests:i,suggestedLength:r}=Xd({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=r||this._contentLength,this._filename=Yd(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ys("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$d(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class th{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const n=e.source;this._withCredentials=n.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!n.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(s-1));const r=n.url;fetch(r,Qd(i,this._withCredentials,this._abortController)).then(t=>{const s=qd(t.url);if(s!==e._responseOrigin)throw new Error('Expected range response-origin "'.concat(s,'" to match "').concat(e._responseOrigin,'".'));if(!Jd(t.status))throw Kd(t.status,r);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:s}=await this._reader.read();return s?{value:t,done:s}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:$d(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class sh{constructor(e){let{url:t,httpHeaders:s,withCredentials:n}=e;Ye(this,"_responseOrigin",null),this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Gd(this.isHttp,s),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,n=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,r]of this.headers)t.setRequestHeader(i,r);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),n.expectedStatus=206):n.expectedStatus=200,t.responseType="arraybuffer",ds(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),n.onHeadersReceived=e.onHeadersReceived,n.onDone=e.onDone,n.onError=e.onError,n.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){var s;const n=this.pendingRequests[e];n&&(null===(s=n.onProgress)||void 0===s||s.call(n,t))}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const n=s.xhr;if(n.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),4!==n.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===n.status&&this.isHttp)return void s.onError(n.status);const i=n.status||200;if(!(200===i&&206===s.expectedStatus)&&i!==s.expectedStatus)return void s.onError(n.status);const r=function(e){const t=e.response;return"string"!==typeof t?t:js(t).buffer}(n);if(206===i){const e=n.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?s.onDone({begin:parseInt(t[1],10),chunk:r}):(ls('Missing or invalid "Content-Range" header.'),s.onError(0))}else r?s.onDone({begin:0,chunk:r}):s.onError(n.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class nh{constructor(e){this._source=e,this._manager=new sh(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return ds(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ih(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new rh(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class ih{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=qd(t.responseURL);const s=t.getAllResponseHeaders(),n=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...s]=e.split(": ");return[t,s.join(": ")]}):[]),{allowRangeRequests:i,suggestedLength:r}=Xd({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=Yd(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Kd(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class rh{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=qd(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=Kd(e,this._url));for(const s of this._requests)s.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ah=/^[a-z][a-z0-9\-+.]+:/i;class oh{constructor(e){this.source=e,this.url=function(e){if(ah.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),ds("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return ds(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lh(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new ch(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const s of this._rangeRequestReaders.slice(0))s.cancel(e)}}class lh{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=Kd(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ys("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class ch{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const n=e.source;this._isStreamingSupported=!n.disableStream;const i=process.getBuiltinModule("fs");this._setReadableStream(i.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const dh=Symbol("INITIAL_DATA");var hh=new WeakMap,uh=new WeakSet;class mh{constructor(){Ze(this,uh),et(this,hh,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const s=tt(uh,this,ph).call(this,e);return s.promise.then(()=>t(s.data)),null}const s=nt(hh,this)[e];if(!s||s.data===dh)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return s.data}has(e){const t=nt(hh,this)[e];return!!t&&t.data!==dh}delete(e){const t=nt(hh,this)[e];return!(!t||t.data===dh)&&(delete nt(hh,this)[e],!0)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=tt(uh,this,ph).call(this,e);s.data=t,s.resolve()}clear(){for(const t in nt(hh,this)){var e;const{data:s}=nt(hh,this)[t];null===s||void 0===s||null===(e=s.bitmap)||void 0===e||e.close()}it(hh,this,Object.create(null))}*[Symbol.iterator](){for(const e in nt(hh,this)){const{data:t}=nt(hh,this)[e];t!==dh&&(yield[e,t])}}}function ph(e){var t;return(t=nt(hh,this))[e]||(t[e]=Je(Je({},Promise.withResolvers()),{},{data:dh}))}var fh=new WeakMap,gh=new WeakMap,xh=new WeakMap,vh=new WeakMap,bh=new WeakMap,yh=new WeakMap,wh=new WeakMap,jh=new WeakMap,Nh=new WeakMap,kh=new WeakMap,Sh=new WeakMap,Ah=new WeakMap,_h=new WeakMap,Ch=new WeakMap,Eh=new WeakMap,Mh=new WeakMap,Ph=new WeakMap,Th=new WeakMap,Rh=new WeakSet;class Dh{constructor(e){var t;let{textContentSource:s,container:n,viewport:i}=e;if(Ze(this,Rh),et(this,fh,Promise.withResolvers()),et(this,gh,null),et(this,xh,!1),et(this,vh,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),et(this,bh,null),et(this,yh,null),et(this,wh,0),et(this,jh,0),et(this,Nh,null),et(this,kh,null),et(this,Sh,0),et(this,Ah,0),et(this,_h,Object.create(null)),et(this,Ch,[]),et(this,Eh,null),et(this,Mh,[]),et(this,Ph,new WeakMap),et(this,Th,null),s instanceof ReadableStream)it(Eh,this,s);else{if("object"!==typeof s)throw new Error('No "textContentSource" parameter specified.');it(Eh,this,new ReadableStream({start(e){e.enqueue(s),e.close()}}))}it(gh,this,it(kh,this,n)),it(Ah,this,i.scale*Zs.pixelRatio),it(Sh,this,i.rotation),it(yh,this,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:a,pageX:o,pageY:l}=i.rawDims;it(Th,this,[1,0,0,-1,-o,l+a]),it(jh,this,r),it(wh,this,a),Wh.call(Dh),$s(n,i),nt(fh,this).promise.finally(()=>{qh._.delete(this),it(yh,this,null),it(_h,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ns.platform;return ms(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{nt(Nh,this).read().then(t=>{var s;let{value:n,done:i}=t;i?nt(fh,this).resolve():(null!==(s=nt(bh,this))&&void 0!==s||it(bh,this,n.lang),Object.assign(nt(_h,this),n.styles),tt(Rh,this,Lh).call(this,n.items),e())},nt(fh,this).reject)};return it(Nh,this,nt(Eh,this).getReader()),qh._.add(this),e(),nt(fh,this).promise}update(e){let{viewport:t,onBefore:s=null}=e;const n=t.scale*Zs.pixelRatio,i=t.rotation;if(i!==nt(Sh,this)&&(null===s||void 0===s||s(),it(Sh,this,i),$s(nt(kh,this),{rotation:i})),n!==nt(Ah,this)){null===s||void 0===s||s(),it(Ah,this,n);const e={div:null,properties:null,ctx:Oh.call(Dh,nt(bh,this))};for(const t of nt(Mh,this))e.properties=nt(Ph,this).get(t),e.div=t,tt(Rh,this,Fh).call(this,e)}}cancel(){var e;const t=new ys("TextLayer task cancelled.");null===(e=nt(Nh,this))||void 0===e||e.cancel(t).catch(()=>{}),it(Nh,this,null),nt(fh,this).reject(t)}get textDivs(){return nt(Mh,this)}get textContentItemsStr(){return nt(Ch,this)}static cleanup(){if(!(tt(Dh,this,qh)._.size>0)){tt(Dh,this,Uh)._.clear();for(const{canvas:e}of tt(Dh,this,Hh)._.values())e.remove();tt(Dh,this,Hh)._.clear()}}}function Lh(e){var t,s;if(nt(xh,this))return;null!==(s=(t=nt(yh,this)).ctx)&&void 0!==s||(t.ctx=Oh.call(pt,nt(bh,this)));const n=nt(Mh,this),i=nt(Ch,this);for(const r of e){if(n.length>1e5)return ls("Ignoring additional textDivs for performance reasons."),void it(xh,this,!0);if(void 0!==r.str)i.push(r.str),tt(Rh,this,Ih).call(this,r);else if("beginMarkedContentProps"===r.type||"beginMarkedContent"===r.type){const e=nt(gh,this);it(gh,this,document.createElement("span")),nt(gh,this).classList.add("markedContent"),r.id&&nt(gh,this).setAttribute("id","".concat(r.id)),e.append(nt(gh,this))}else"endMarkedContent"===r.type&&it(gh,this,nt(gh,this).parentNode)}}function Ih(e){const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};nt(Mh,this).push(t);const n=Ss.transform(nt(Th,this),e.transform);let i=Math.atan2(n[1],n[0]);const r=nt(_h,this)[e.fontName];r.vertical&&(i+=Math.PI/2);let a=nt(vh,this)&&r.fontSubstitution||r.fontFamily;a=pt.fontFamilyMap.get(a)||a;const o=Math.hypot(n[2],n[3]),l=o*zh.call(pt,a,r,nt(bh,this));let c,d;0===i?(c=n[4],d=n[5]-l):(c=n[4]+l*Math.sin(i),d=n[5]-l*Math.cos(i));const h="calc(var(--total-scale-factor) *",u=t.style;nt(gh,this)===nt(kh,this)?(u.left="".concat((100*c/nt(jh,this)).toFixed(2),"%"),u.top="".concat((100*d/nt(wh,this)).toFixed(2),"%")):(u.left="".concat(h).concat(c.toFixed(2),"px)"),u.top="".concat(h).concat(d.toFixed(2),"px)")),u.fontSize="".concat(h).concat((Gh._*o).toFixed(2),"px)"),u.fontFamily=a,s.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,nt(vh,this)&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),0!==i&&(s.angle=i*(180/Math.PI));let m=!1;if(e.str.length>1)m=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),s=Math.abs(e.transform[3]);t!==s&&Math.max(t,s)/Math.min(t,s)>1.5&&(m=!0)}if(m&&(s.canvasWidth=r.vertical?e.height:e.width),nt(Ph,this).set(t,s),nt(yh,this).div=t,nt(yh,this).properties=s,tt(Rh,this,Fh).call(this,nt(yh,this)),s.hasText&&nt(gh,this).append(t),s.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),nt(gh,this).append(e)}}function Fh(e){const{div:t,properties:s,ctx:n}=e,{style:i}=t;let r="";if(Gh._>1&&(r="scale(".concat(1/Gh._,")")),0!==s.canvasWidth&&s.hasText){const{fontFamily:e}=i,{canvasWidth:a,fontSize:o}=s;Bh.call(pt,n,o*nt(Ah,this),e);const{width:l}=n.measureText(t.textContent);l>0&&(r="scaleX(".concat(a*nt(Ah,this)/l,") ").concat(r))}0!==s.angle&&(r="rotate(".concat(s.angle,"deg) ").concat(r)),r.length>0&&(i.transform=r)}function Oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=tt(pt,this,Hh)._.get(e||(e=""));if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),tt(pt,this,Hh)._.set(e,t),tt(pt,this,Vh)._.set(t,{size:0,family:""})}return t}function Bh(e,t,s){const n=tt(pt,this,Vh)._.get(e);t===n.size&&s===n.family||(e.font="".concat(t,"px ").concat(s),n.size=t,n.family=s)}function Wh(){if(null!==tt(pt,this,Gh)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Gh._=tt(pt,this,e.getBoundingClientRect().height),e.remove()}function zh(e,t,s){const n=tt(pt,this,Uh)._.get(e);if(n)return n;const i=tt(pt,this,Oh).call(this,s);i.canvas.width=i.canvas.height=30,tt(pt,this,Bh).call(this,i,30,e);const r=i.measureText(""),a=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);i.canvas.width=i.canvas.height=0;let l=.8;return a?l=a/(a+o):(Ns.platform.isFirefox&&ls("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),tt(pt,this,Uh)._.set(e,l),l}pt=Dh;var Uh={_:new Map},Hh={_:new Map},Vh={_:new WeakMap},Gh={_:null},qh={_:new Set};function Xh(){var e,t;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof s||s instanceof URL?s={url:s}:(s instanceof ArrayBuffer||ArrayBuffer.isView(s))&&(s={data:s});const n=new Yh,{docId:i}=n,r=s.url?function(e){if(e instanceof URL)return e.href;if("string"===typeof e){if(kt)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(s.url):null,a=s.data?function(e){if(kt&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return js(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(s.data):null,o=s.httpHeaders||null,l=!0===s.withCredentials,c=null!==(e=s.password)&&void 0!==e?e:null,d=s.range instanceof tu?s.range:null,h=Number.isInteger(s.rangeChunkSize)&&s.rangeChunkSize>0?s.rangeChunkSize:65536;let u=s.worker instanceof uu?s.worker:null;const m=s.verbosity,p="string"!==typeof s.docBaseUrl||zs(s.docBaseUrl)?null:s.docBaseUrl,f=wo(s.cMapUrl),g=!1!==s.cMapPacked,x=s.CMapReaderFactory||(kt?Al:Jo),v=wo(s.iccUrl),b=wo(s.standardFontDataUrl),y=s.StandardFontDataFactory||(kt?_l:yl),w=wo(s.wasmUrl),j=s.WasmFactory||(kt?Cl:jl),N=!0!==s.stopAtErrors,k=Number.isInteger(s.maxImageSize)&&s.maxImageSize>-1?s.maxImageSize:-1,S=!1!==s.isEvalSupported,A="boolean"===typeof s.isOffscreenCanvasSupported?s.isOffscreenCanvasSupported:!kt,_="boolean"===typeof s.isImageDecoderSupported?s.isImageDecoderSupported:!kt&&(Ns.platform.isFirefox||!globalThis.chrome),C=Number.isInteger(s.canvasMaxAreaInBytes)?s.canvasMaxAreaInBytes:-1,E="boolean"===typeof s.disableFontFace?s.disableFontFace:kt,M=!0===s.fontExtraProperties,P=!0===s.enableXfa,T=s.ownerDocument||globalThis.document,R=!0===s.disableRange,D=!0===s.disableStream,L=!0===s.disableAutoFetch,I=!0===s.pdfBug,F=s.CanvasFactory||(kt?Sl:Yo),O=s.FilterFactory||(kt?kl:al),B=!0===s.enableHWA,W=!1!==s.useWasm,z=d?d.length:null!==(t=s.length)&&void 0!==t?t:NaN,U="boolean"===typeof s.useSystemFonts?s.useSystemFonts:!kt&&!E,H="boolean"===typeof s.useWorkerFetch?s.useWorkerFetch:!!(x===Jo&&y===yl&&j===jl&&f&&b&&w&&Vs(f,document.baseURI)&&Vs(b,document.baseURI)&&Vs(w,document.baseURI));rs(m);const V={canvasFactory:new F({ownerDocument:T,enableHWA:B}),filterFactory:new O({docId:i,ownerDocument:T}),cMapReaderFactory:H?null:new x({baseUrl:f,isCompressed:g}),standardFontDataFactory:H?null:new y({baseUrl:b}),wasmFactory:H?null:new j({baseUrl:w})};u||(u=uu.create({verbosity:m,port:Nd.workerPort}),n._worker=u);const G={docId:i,apiVersion:"5.4.296",data:a,password:c,disableAutoFetch:L,rangeChunkSize:h,length:z,docBaseUrl:p,enableXfa:P,evaluatorOptions:{maxImageSize:k,disableFontFace:E,ignoreErrors:N,isEvalSupported:S,isOffscreenCanvasSupported:A,isImageDecoderSupported:_,canvasMaxAreaInBytes:C,fontExtraProperties:M,useSystemFonts:U,useWasm:W,useWorkerFetch:H,cMapUrl:f,iccUrl:v,standardFontDataUrl:b,wasmUrl:w}},q={ownerDocument:T,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:L,enableXfa:P}};return u.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const e=u.messageHandler.sendWithPromise("GetDocRequest",G,a?[a.buffer]:null);let t;if(d)t=new Ud(d,{disableRange:R,disableStream:D});else if(!a){if(!r)throw new Error("getDocument - no `url` parameter provided.");const e=Vs(r)?Zd:kt?oh:nh;t=new e({url:r,length:z,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:R,disableStream:D})}return e.then(e=>{if(n.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const s=new zo(i,e,u.port),r=new _u(s,n,t,q,V,B);n._transport=r,s.send("Ready",null)})}).catch(n._capability.reject),n}class Yh{constructor(){Ye(this,"_capability",Promise.withResolvers()),Ye(this,"_transport",null),Ye(this,"_worker",null),Ye(this,"docId","d".concat((Kh._=(ft=Kh._,gt=ft++,ft),gt))),Ye(this,"destroyed",!1),Ye(this,"onPassword",null),Ye(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0;try{var t,s;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(s=this._transport)||void 0===s?void 0:s.destroy())}catch(i){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,i}this._transport=null,null===(e=this._worker)||void 0===e||e.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Kh={_:0},Jh=new WeakMap,Qh=new WeakMap,$h=new WeakMap,Zh=new WeakMap,eu=new WeakMap;class tu{constructor(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;et(this,Jh,Promise.withResolvers()),et(this,Qh,[]),et(this,$h,[]),et(this,Zh,[]),et(this,eu,[]),this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=n}addRangeListener(e){nt(eu,this).push(e)}addProgressListener(e){nt(Zh,this).push(e)}addProgressiveReadListener(e){nt($h,this).push(e)}addProgressiveDoneListener(e){nt(Qh,this).push(e)}onDataRange(e,t){for(const s of nt(eu,this))s(e,t)}onDataProgress(e,t){nt(Jh,this).promise.then(()=>{for(const s of nt(Zh,this))s(e,t)})}onDataProgressiveRead(e){nt(Jh,this).promise.then(()=>{for(const t of nt($h,this))t(e)})}onDataProgressiveDone(){nt(Jh,this).promise.then(()=>{for(const e of nt(Qh,this))e()})}transportReady(){nt(Jh,this).resolve()}requestDataRange(e,t){cs("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class su{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ms(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var nu=new WeakMap,iu=new WeakSet;class ru{constructor(e,t,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Ze(this,iu),et(this,nu,!1),this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=n?new Hs:null,this._pdfBug=n,this.commonObjs=s.commonObjs,this.objs=new mh,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:n=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Bs({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:n,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ms(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,s,n;let{canvasContext:i,canvas:r=i.canvas,viewport:a,intent:o="display",annotationMode:l=Lt.ENABLE,transform:c=null,background:d=null,optionalContentConfigPromise:h=null,annotationCanvasMap:u=null,pageColors:m=null,printAnnotationStorage:p=null,isEditing:f=!1,recordOperations:g=!1,operationsFilter:x=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const v=this._transport.getRenderingIntent(o,l,p,f),{renderingIntent:b,cacheKey:y}=v;it(nu,this,!1),h||(h=this._transport.getOptionalContentConfig(b));let w=this._intentStates.get(y);w||(w=Object.create(null),this._intentStates.set(y,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const j=!!(b&Et);var N;w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(N=this._stats)||void 0===N||N.time("Page Request"),this._pumpOperatorList(v));const k=Boolean(this._pdfBug&&(null===(s=globalThis.StepperManager)||void 0===s?void 0:s.enabled)),S=!this.recordedBBoxes&&(g||k),A=e=>{if(w.renderTasks.delete(_),S){var t;const e=null===(t=_.gfx)||void 0===t?void 0:t.dependencyTracker.take();e&&(_.stepper&&_.stepper.setOperatorBBoxes(e,_.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=e))}var s;(j&&it(nu,this,!0),tt(iu,this,au).call(this),e?(_.capability.reject(e),this._abortOperatorList({intentState:w,reason:e instanceof Error?e:new Error(e)})):_.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(s=globalThis.Stats)&&void 0!==s&&s.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new Tu({callback:A,params:{canvas:r,canvasContext:i,dependencyTracker:S?new sc(r,w.operatorList.length,k):null,viewport:a,transform:c,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!j,pdfBug:this._pdfBug,pageColors:m,enableHWA:this._transport.enableHWA,operationsFilter:x});((n=w).renderTasks||(n.renderTasks=new Set)).add(_);const C=_.task;return Promise.all([w.displayReadyCapability.promise,h]).then(e=>{var t;let[s,n]=e;if(this.destroyed)A();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(n.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:s,optionalContentConfig:n}),_.operatorListChanged()}}).catch(A),C}getOperatorList(){let{intent:e="display",annotationMode:t=Lt.ENABLE,printAnnotationStorage:s=null,isEditing:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,s,n,!0);let r,a=this._intentStates.get(i.cacheKey);var o,l;(a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a)),a.opListReadCapability)||(r=Object.create(null),r.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(r))},a.opListReadCapability=Promise.withResolvers(),((o=a).renderTasks||(o.renderTasks=new Set)).add(r),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>Ds.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,s){const n=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){n.read().then(function(s){var n;let{value:r,done:a}=s;a?e(i):(null!==(n=i.lang)&&void 0!==n||(i.lang=r.lang),Object.assign(i.styles,r.styles),i.items.push(...r.items),t())},s)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),it(nu,this,!1),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];it(nu,this,!0);const t=tt(iu,this,au).call(this);return e&&t&&this._stats&&(this._stats=new Hs),t}_startRenderPage(e,t){var s,n;const i=this._intentStates.get(t);i&&(null===(s=this._stats)||void 0===s||s.timeEnd("Page Request"),null===(n=i.displayReadyCapability)||void 0===n||n.resolve(e))}_renderPageChunk(e,t){for(let s=0,n=e.length;s<n;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&tt(iu,this,au).call(this)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:s,annotationStorageSerializable:n,modifiedIds:i}=e;const{map:r,transfer:a}=n,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:s,annotationStorage:r,modifiedIds:i},a).getReader(),l=this._intentStates.get(s);l.streamReader=o;const c=()=>{o.read().then(e=>{let{value:t,done:s}=e;s?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())},e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();tt(iu,this,au).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}})};c()}_abortOperatorList(e){let{intentState:t,reason:s,force:n=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(s instanceof Ws){let e=100;return s.extraDelay>0&&s.extraDelay<1e3&&(e+=s.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:s,force:!0})},e))}}if(t.streamReader.cancel(new ys(s.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,s]of this._intentStates)if(s===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function au(){if(!nt(nu,this)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),it(nu,this,!1),!0}var ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,du=new WeakMap,hu=new WeakSet;class uu{constructor(){let{name:e=null,port:t=null,verbosity:s=as()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Ze(this,hu),et(this,ou,Promise.withResolvers()),et(this,lu,null),et(this,cu,null),et(this,du,null),this.name=e,this.destroyed=!1,this.verbosity=s,t){if(yu._.has(t))throw new Error("Cannot use more than one PDFWorker per port.");yu._.set(t,this),tt(hu,this,pu).call(this,t)}else tt(hu,this,fu).call(this)}get promise(){return nt(ou,this).promise}get port(){return nt(cu,this)}get messageHandler(){return nt(lu,this)}destroy(){var e,t;this.destroyed=!0,null===(e=nt(du,this))||void 0===e||e.terminate(),it(du,this,null),yu._.delete(nt(cu,this)),it(cu,this,null),null===(t=nt(lu,this))||void 0===t||t.destroy(),it(lu,this,null)}static create(e){const t=tt(uu,this,yu)._.get(null===e||void 0===e?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new uu(e)}static get workerSrc(){if(Nd.workerSrc)return Nd.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ms(this,"_setupFakeWorkerGlobal",(async()=>{if(st(uu,this,xu))return st(uu,this,xu);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function mu(){nt(ou,this).resolve(),nt(lu,this).send("configure",{verbosity:this.verbosity})}function pu(e){it(cu,this,e),it(lu,this,new zo("main","worker",e)),nt(lu,this).on("ready",()=>{}),tt(hu,this,mu).call(this)}function fu(){if(bu._||xu(xt))return void tt(hu,this,gu).call(this);let{workerSrc:e}=xt;try{xt._isSameOrigin(window.location,e)||(e=xt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new zo("main","worker",t),n=()=>{i.abort(),s.destroy(),t.terminate(),this.destroyed?nt(ou,this).reject(new Error("Worker was destroyed")):tt(hu,this,gu).call(this)},i=new AbortController;t.addEventListener("error",()=>{nt(du,this)||n()},{signal:i.signal}),s.on("test",e=>{i.abort(),!this.destroyed&&e?(it(lu,this,s),it(cu,this,t),it(du,this,t),tt(hu,this,mu).call(this)):n()}),s.on("ready",e=>{if(i.abort(),this.destroyed)n();else try{r()}catch(t){tt(hu,this,gu).call(this)}});const r=()=>{const e=new Uint8Array;s.send("test",e,[e.buffer])};return void r()}catch(t){os("The worker has been disabled.")}tt(hu,this,gu).call(this)}function gu(){bu._||(ls("Setting up fake worker."),bu._=!0),xt._setupFakeWorkerGlobal.then(e=>{var t,s;if(this.destroyed)return void nt(ou,this).reject(new Error("Worker was destroyed"));const n=new Ao;it(cu,this,n);const i="fake".concat((vu._=(t=vu._,s=t++,t),s)),r=new zo(i+"_worker",i,n);e.setup(r,n),it(lu,this,new zo(i,i+"_worker",n)),tt(hu,this,mu).call(this)}).catch(e=>{nt(ou,this).reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}function xu(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(s){return null}}xt=uu;var vu={_:0},bu={_:!1},yu={_:new WeakMap};kt&&(bu._=tt(xt,xt,!0),Nd.workerSrc||(Nd.workerSrc="./pdf.worker.mjs")),xt._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(null===s||void 0===s||!s.origin||"null"===s.origin)return!1;const n=new URL(t,s);return s.origin===n.origin},xt._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},xt.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return xt.create(e)};var wu=new WeakMap,ju=new WeakMap,Nu=new WeakMap,ku=new WeakMap,Su=new WeakMap,Au=new WeakSet;class _u{constructor(e,t,s,n,i,r){Ze(this,Au),et(this,wu,new Map),et(this,ju,new Map),et(this,Nu,new Map),et(this,ku,new Map),et(this,Su,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new mh,this.fontLoader=new vo({ownerDocument:n.ownerDocument,styleElement:n.styleElement}),this.loadingParams=n.loadingParams,this._params=n,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.wasmFactory=i.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=r,this.setupMessageHandler()}get annotationStorage(){return ms(this,"annotationStorage",new mo)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lt.ENABLE,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=Ct,a=ao;switch(e){case"any":r=_t;break;case"display":break;case"print":r=Et;break;default:ls("getRenderingIntent - invalid intent: ".concat(e))}const o=r&Et&&s instanceof go?s:this.annotationStorage;switch(t){case Lt.DISABLE:r+=Tt;break;case Lt.ENABLE:break;case Lt.ENABLE_FORMS:r+=Mt;break;case Lt.ENABLE_STORAGE:r+=Pt,a=o.serializable;break;default:ls("getRenderingIntent - invalid annotationMode: ".concat(t))}n&&(r+=Rt),i&&(r+=Dt);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:r,cacheKey:[r,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=nt(Su,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of nt(ju,this).values())t.push(n._destroy());nt(ju,this).clear(),nt(Nu,this).clear(),nt(ku,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return t.push(s),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),nt(wu,this).clear(),this.filterFactory.destroy(),Dh.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new ys("Worker was terminated.")),null===(t=this.messageHandler)||void 0===t||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{ds(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:s,done:n}=e;n?t.close():(ds(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(s),1,[s]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:n,contentLength:i}=this._fullReader;if(!s||!n){var r;if(this._lastProgress)null===(r=t.onProgress)||void 0===r||r.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var s;null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:s,isRangeSupported:n,contentLength:i}}),e.on("GetRangeReader",(e,t)=>{ds(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(e.begin,e.end);s?(t.onPull=()=>{s.read().then(function(e){let{value:s,done:n}=e;n?t.close():(ds(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(s),1,[s]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{s.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:s}=e;this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new su(s,this))}),e.on("DocException",e=>{t._capability.reject(Oo(e))}),e.on("PasswordRequest",e=>{it(Su,this,Promise.withResolvers());try{if(!t.onPassword)throw Oo(e);const s=e=>{e instanceof Error?nt(Su,this).reject(e):nt(Su,this).resolve({password:e})};t.onPassword(s,e.code)}catch(s){nt(Su,this).reject(s)}return nt(Su,this).promise}),e.on("DataLoaded",e=>{var s;null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;nt(ju,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var s;let[n,i,r]=t;if(this.destroyed)return null;if(this.commonObjs.has(n))return null;switch(i){case"Font":if("error"in r){const e=r.error;ls("Error during font loading: ".concat(e)),this.commonObjs.resolve(n,e);break}const t=new pd(r),a=this._params.pdfBug&&null!==(s=globalThis.FontInspector)&&void 0!==s&&s.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,o=new yo(t,a,r.extra,r.charProcOperatorList);this.fontLoader.bind(o).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&o.data&&o.clearData(),this.commonObjs.resolve(n,o)});break;case"CopyLocalImage":const{imageRef:l}=r;ds(l,"The imageRef must be defined.");for(const e of nt(ju,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===l)return t.dataLen?(this.commonObjs.resolve(n,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,r);break;default:throw new Error("Got unknown common object type ".concat(i))}return null}),e.on("obj",e=>{let[t,s,n,i]=e;if(this.destroyed)return;const r=nt(ju,this).get(s);var a;if(!r.objs.has(t))if(0!==r._intentStates.size)switch(n){case"Image":case"Pattern":r.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(n))}else null===i||void 0===i||null===(a=i.bitmap)||void 0===a||a.close()}),e.on("DocProgress",e=>{var s;this.destroyed||null===(s=t.onProgress)||void 0===s||s.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error("".concat(e.type," not initialized, see the `useWorkerFetch` parameter."));return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&ls("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:s,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:s,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=nt(Nu,this).get(t);if(s)return s;const n=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&nt(ku,this).set(s.refStr,e);const n=new ru(t,s,this,this._params.pdfBug);return nt(ju,this).set(t,n),n});return nt(Nu,this).set(t,n),n}getPageIndex(e){return jo(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return tt(Au,this,Cu).call(this,"GetFieldObjects")}hasJSActions(){return tt(Au,this,Cu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return tt(Au,this,Cu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return tt(Au,this,Cu).call(this,"GetOptionalContentConfig").then(t=>new Wd(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=nt(wu,this).get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,s,n,i;return{info:e[0],metadata:e[1]?new Cd(e[1]):null,contentDispositionFilename:null!==(t=null===(s=this._fullReader)||void 0===s?void 0:s.filename)&&void 0!==t?t:null,contentLength:null!==(n=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==n?n:null}});return nt(wu,this).set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of nt(ju,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),nt(wu,this).clear(),this.filterFactory.destroy(!0),Dh.cleanup()}}cachedPageNumber(e){var t;if(!jo(e))return null;const s=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=nt(ku,this).get(s))&&void 0!==t?t:null}}function Cu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=nt(wu,this).get(e);if(s)return s;const n=this.messageHandler.sendWithPromise(e,t);return nt(wu,this).set(e,n),n}var Eu=new WeakMap;class Mu{constructor(e){et(this,Eu,null),Ye(this,"onContinue",null),Ye(this,"onError",null),it(Eu,this,e)}get promise(){return nt(Eu,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;nt(Eu,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=nt(Eu,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=nt(Eu,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var Pu=new WeakMap;class Tu{constructor(e){let{callback:t,params:s,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:u=null,enableHWA:m=!1,operationsFilter:p=null}=e;et(this,Pu,null),this.callback=t,this.params=s,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Mu(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvas,this._canvasContext=s.canvas?null:s.canvasContext,this._enableHWA=m,this._dependencyTracker=s.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,s;let{transparency:n=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(Ru._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ru._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:a,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Yc(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:a,viewport:r,transparency:n,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(s=this.graphicsReadyCallback)||void 0===s||s.call(this)}cancel(){var e,t,s;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),nt(Pu,this)&&(window.cancelAnimationFrame(nt(Pu,this)),it(Pu,this,null)),Ru._.delete(this._canvas),n||(n=new Ws("Rendering cancelled, page ".concat(this._pageIndex+1),i)),this.callback(n),null===(t=(s=this.task).onError)||void 0===t||t.call(s,n)}operatorListChanged(){var e,t;this.graphicsReady?(null===(e=this.gfx.dependencyTracker)||void 0===e||e.growOperationsCount(this.operatorList.fnArray.length),null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?it(Pu,this,window.requestAnimationFrame(()=>{it(Pu,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ru._.delete(this._canvas),this.callback())))}}var Ru={_:new WeakSet};const Du="5.4.296";var Lu=new WeakMap,Iu=new WeakMap,Fu=new WeakMap,Ou=new WeakMap,Bu=new WeakMap,Wu=new WeakMap,zu=new WeakMap,Uu=new WeakMap,Hu=new WeakMap,Vu=new WeakMap,Gu=new WeakSet;class qu{static get _keyboardManager(){return ms(this,"_keyboardManager",new Yn([[["Escape","mac+Escape"],qu.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],qu.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],qu.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],qu.prototype._moveToPrevious],[["Home","mac+Home"],qu.prototype._moveToBeginning],[["End","mac+End"],qu.prototype._moveToEnd]]))}constructor(e){var t,s;let{editor:n=null,uiManager:i=null}=e;Ze(this,Gu),et(this,Lu,null),et(this,Iu,null),et(this,Fu,void 0),et(this,Ou,null),et(this,Bu,!1),et(this,Wu,!1),et(this,zu,null),et(this,Uu,void 0),et(this,Hu,null),et(this,Vu,null),n?(it(Wu,this,!1),it(zu,this,n)):it(Wu,this,!0),it(Vu,this,(null===n||void 0===n?void 0:n._uiManager)||i),it(Uu,this,nt(Vu,this)._eventBus),it(Fu,this,(null===n||void 0===n||null===(t=n.color)||void 0===t?void 0:t.toUpperCase())||(null===(s=nt(Vu,this))||void 0===s?void 0:s.highlightColors.values().next().value)||"#FFFF98"),Zu._||(Zu._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=it(Lu,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",nt(zu,this)&&(e.ariaControls="".concat(nt(zu,this).id,"_colorpicker_dropdown"));const t=nt(Vu,this)._signal;e.addEventListener("click",tt(Gu,this,Ju).bind(this),{signal:t}),e.addEventListener("keydown",tt(Gu,this,Ku).bind(this),{signal:t});const s=it(Iu,this,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=nt(Fu,this),e.append(s),e}renderMainDropdown(){const e=it(Ou,this,tt(Gu,this,Xu).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===nt(Lu,this))return void tt(Gu,this,Ju).call(this,e);const t=e.target.getAttribute("data-color");t&&tt(Gu,this,Yu).call(this,t,e)}_moveToNext(e){var t,s;st(Gu,this,$u)?e.target!==nt(Lu,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(s=nt(Ou,this).firstChild)||void 0===s||s.focus():tt(Gu,this,Ju).call(this,e)}_moveToPrevious(e){var t,s;e.target!==(null===(t=nt(Ou,this))||void 0===t?void 0:t.firstChild)&&e.target!==nt(Lu,this)?(st(Gu,this,$u)||tt(Gu,this,Ju).call(this,e),null===(s=e.target.previousSibling)||void 0===s||s.focus()):st(Gu,this,$u)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;st(Gu,this,$u)?null===(t=nt(Ou,this).firstChild)||void 0===t||t.focus():tt(Gu,this,Ju).call(this,e)}_moveToEnd(e){var t;st(Gu,this,$u)?null===(t=nt(Ou,this).lastChild)||void 0===t||t.focus():tt(Gu,this,Ju).call(this,e)}hideDropdown(){var e,t;null===(e=nt(Ou,this))||void 0===e||e.classList.add("hidden"),nt(Lu,this).ariaExpanded="false",null===(t=nt(Hu,this))||void 0===t||t.abort(),it(Hu,this,null)}_hideDropdownFromKeyboard(){var e;nt(Wu,this)||(st(Gu,this,$u)?(this.hideDropdown(),nt(Lu,this).focus({preventScroll:!0,focusVisible:nt(Bu,this)})):null===(e=nt(zu,this))||void 0===e||e.unselect())}updateColor(e){if(nt(Iu,this)&&(nt(Iu,this).style.backgroundColor=e),!nt(Ou,this))return;const t=nt(Vu,this).highlightColors.values();for(const s of nt(Ou,this).children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;null===(e=nt(Lu,this))||void 0===e||e.remove(),it(Lu,this,null),it(Iu,this,null),null===(t=nt(Ou,this))||void 0===t||t.remove(),it(Ou,this,null)}}function Xu(){const e=document.createElement("div"),t=nt(Vu,this)._signal;e.addEventListener("contextmenu",Gs,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),nt(zu,this)&&(e.id="".concat(nt(zu,this).id,"_colorpicker_dropdown"));for(const[s,n]of nt(Vu,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",n),i.title=s,i.setAttribute("data-l10n-id",Zu._[s]);const r=document.createElement("span");i.append(r),r.className="swatch",r.style.backgroundColor=n,i.ariaSelected=n===nt(Fu,this),i.addEventListener("click",tt(Gu,this,Yu).bind(this,n),{signal:t}),e.append(i)}return e.addEventListener("keydown",tt(Gu,this,Ku).bind(this),{signal:t}),e}function Yu(e,t){t.stopPropagation(),nt(Uu,this).dispatch("switchannotationeditorparams",{source:this,type:Ot.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}function Ku(e){vt._keyboardManager.exec(this,e)}function Ju(e){if(st(Gu,this,$u))return void this.hideDropdown();if(it(Bu,this,0===e.detail),nt(Hu,this)||(it(Hu,this,new AbortController),window.addEventListener("pointerdown",tt(Gu,this,Qu).bind(this),{signal:nt(Vu,this).combinedSignal(nt(Hu,this))})),nt(Lu,this).ariaExpanded="true",nt(Ou,this))return void nt(Ou,this).classList.remove("hidden");const t=it(Ou,this,tt(Gu,this,Xu).call(this));nt(Lu,this).append(t)}function Qu(e){var t;null!==(t=nt(Ou,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function $u(e){return nt(Ou,e)&&!nt(Ou,e).classList.contains("hidden")}vt=qu;var Zu={_:null},em=new WeakMap,tm=new WeakMap,sm=new WeakMap;class nm{constructor(e){et(this,em,null),et(this,tm,null),et(this,sm,null),it(tm,this,e),it(sm,this,e._uiManager),im._||(im._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(nt(em,this))return nt(em,this);const{editorType:e,colorType:t,colorValue:s}=nt(tm,this),n=it(em,this,document.createElement("input"));return n.type="color",n.value=s||"#000000",n.className="basicColorPicker",n.tabIndex=0,n.setAttribute("data-l10n-id",im._[e]),n.addEventListener("input",()=>{nt(sm,this).updateParams(t,n.value)},{signal:nt(sm,this)._signal}),n}update(e){nt(em,this)&&(nt(em,this).value=e)}destroy(){var e;null===(e=nt(em,this))||void 0===e||e.remove(),it(em,this,null)}hideDropdown(){}}var im={_:null};function rm(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function am(e){return Math.max(0,Math.min(255,255*e))}class om{static CMYK_G(e){let[t,s,n,i]=e;return["G",1-Math.min(1,.3*t+.59*n+.11*s+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=am(t),[t,t,t]}static G_HTML(e){let[t]=e;const s=rm(t);return"#".concat(s).concat(s).concat(s)}static RGB_G(e){let[t,s,n]=e;return["G",.3*t+.59*s+.11*n]}static RGB_rgb(e){return e.map(am)}static RGB_HTML(e){return"#".concat(e.map(rm).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,s,n,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,n+i),1-Math.min(1,s+i)]}static CMYK_rgb(e){let[t,s,n,i]=e;return[am(1-Math.min(1,t+i)),am(1-Math.min(1,n+i)),am(1-Math.min(1,s+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,s,n]=e;const i=1-t,r=1-s,a=1-n;return["CMYK",i,r,a,Math.min(i,r,a)]}}class lm{create(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),s||(n.setAttribute("width","".concat(e,"px")),n.setAttribute("height","".concat(t,"px"))),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),n}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){cs("Abstract method `_createSVG` called.")}}class cm extends lm{_createSVG(e){return document.createElementNS(Is,e)}}const dm=new WeakSet,hm=60*(new Date).getTimezoneOffset()*1e3;class um{static create(e){switch(e.data.annotationType){case qt.LINK:return new wm(e);case qt.TEXT:return new Sm(e);case qt.WIDGET:switch(e.data.fieldType){case"Tx":return new _m(e);case"Btn":return e.data.radioButton?new Mm(e):e.data.checkBox?new Em(e):new Pm(e);case"Ch":return new Tm(e);case"Sig":return new Cm(e)}return new Am(e);case qt.POPUP:return new Dm(e);case qt.FREETEXT:return new Np(e);case qt.LINE:return new Sp(e);case qt.SQUARE:return new _p(e);case qt.CIRCLE:return new Ep(e);case qt.POLYLINE:return new Pp(e);case qt.CARET:return new Rp(e);case qt.INK:return new Fp(e);case qt.POLYGON:return new Tp(e);case qt.HIGHLIGHT:return new Bp(e);case qt.UNDERLINE:return new Wp(e);case qt.SQUIGGLY:return new zp(e);case qt.STRIKEOUT:return new Up(e);case qt.STAMP:return new Hp(e);case qt.FILEATTACHMENT:return new qp(e);default:return new xm(e)}}}var mm=new WeakMap,pm=new WeakMap,fm=new WeakMap,gm=new WeakSet;class xm{constructor(e){let{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ze(this,gm),et(this,mm,null),et(this,pm,!1),et(this,fm,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),n&&this._createQuadrilaterals()}static _hasPopupData(e){let{contentsObj:t,richText:s}=e;return!!(null!==t&&void 0!==t&&t.str||null!==s&&void 0!==s&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return xm._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var e;const{data:t}=this,s=null===(e=this.annotationStorage)||void 0===e?void 0:e.getEditor(t.id);return s?s.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var e;const t=null===(e=this.annotationStorage)||void 0===e?void 0:e.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:s,inkLists:n,rect:i}=this.data;let r=-1/0,a=-1/0;if((null===s||void 0===s?void 0:s.length)>=8){for(let e=0;e<s.length;e+=8)s[e+1]>a?(a=s[e+1],r=s[e+2]):s[e+1]===a&&(r=Math.max(r,s[e+2]));return[r,a]}if((null===n||void 0===n?void 0:n.length)>=1){for(const e of n)for(let t=0,s=e.length;t<s;t+=2)e[t+1]>a?(a=e[t+1],r=e[t]):e[t+1]===a&&(r=Math.max(r,e[t]));if(r!==1/0)return[r,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:n,pageX:i,pageY:r}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-i)/s,e[1]=100*(e[1]-r)/n,e}get commentText(){var e,t;const{data:s}=this;return(null===(e=this.annotationStorage.getRawValue("".concat(It).concat(s.id)))||void 0===e||null===(e=e.popup)||void 0===e?void 0:e.contents)||(null===(t=s.contentsObj)||void 0===t?void 0:t.str)||""}set commentText(e){const{data:t}=this,s={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:s})||this.annotationStorage.setValue("".concat(It).concat(t.id),{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:s,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;null===(e=(null===(t=nt(fm,this))||void 0===t?void 0:t.popup)||this.popup)||void 0===e||e.remove(),it(fm,this,this.popup=null)}updateEdited(e){var t;if(!this.container)return;e.rect&&(nt(mm,this)||it(mm,this,{rect:this.data.rect.slice(0)}));const{rect:s,popup:n}=e;s&&tt(gm,this,vm).call(this,s);let i=(null===(t=nt(fm,this))||void 0===t?void 0:t.popup)||this.popup;!i&&null!==n&&void 0!==n&&n.text&&(this._createPopup(n),i=nt(fm,this).popup),i&&(i.updateEdited(e),null!==n&&void 0!==n&&n.deleted&&(i.remove(),it(fm,this,null),this.popup=null))}resetEdited(){var e;nt(mm,this)&&(tt(gm,this,vm).call(this,nt(mm,this).rect),null===(e=nt(fm,this))||void 0===e||e.popup.resetEdited(),it(mm,this,null))}_createContainer(e){const{data:t,parent:{page:s,viewport:n}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof Am||this instanceof wm||(i.tabIndex=0);const{style:r}=i;if(r.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof Dm){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:a,height:o}=this;if(!e&&t.borderStyle.width>0){r.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,s=t.borderStyle.verticalCornerRadius;if(e>0||s>0){const t="calc(".concat(e,"px * var(--total-scale-factor)) / calc(").concat(s,"px * var(--total-scale-factor))");r.borderRadius=t}else if(this instanceof Mm){const e="calc(".concat(a,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");r.borderRadius=e}switch(t.borderStyle.style){case Xt:r.borderStyle="solid";break;case Yt:r.borderStyle="dashed";break;case Kt:ls("Unimplemented border style: beveled");break;case Jt:ls("Unimplemented border style: inset");break;case Qt:r.borderBottomStyle="solid"}const n=t.borderColor||null;n?(it(pm,this,!0),r.borderColor=Ss.makeHexColor(0|n[0],0|n[1],0|n[2])):r.borderWidth=0}const l=Ss.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:u}=n.rawDims;r.left="".concat(100*(l[0]-h)/c,"%"),r.top="".concat(100*(l[1]-u)/d,"%");const{rotation:m}=t;return t.hasOwnCanvas||0===m?(r.width="".concat(100*a/c,"%"),r.height="".concat(100*o/d,"%")):this.setRotation(m,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:s,pageHeight:n}=this.parent.viewport.rawDims;let{width:i,height:r}=this;e%180!==0&&([i,r]=[r,i]),t.style.width="".concat(100*i/s,"%"),t.style.height="".concat(100*r/n,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,s)=>{const n=s.detail[e],i=n[0],r=n.slice(1);s.target.style[t]=om["".concat(i,"_HTML")](r),this.annotationStorage.setValue(this.data.id,{[t]:om["".concat(i,"_rgb")](r)})};return ms(this,"_commonActions",{display:e=>{const{display:t}=e.detail,s=t%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const n of Object.keys(t.detail)){const i=e[n]||s[n];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[n,i]of Object.entries(t)){const r=s[n];if(r){r({detail:{[n]:i},target:e}),delete t[n]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,n,i]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[r,a,o,l]=e.subarray(2,6);if(n===r&&i===a&&t===o&&s===l)return}const{style:r}=this.container;let a;if(nt(pm,this)){const{borderColor:e,borderWidth:t}=r;r.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=n-t,l=i-s,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=c.createElement("defs");d.append(h);const u=c.createElement("clipPath"),m="clippath_".concat(this.data.id);u.setAttribute("id",m),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let f=2,g=e.length;f<g;f+=8){var p;const s=e[f],n=e[f+1],r=e[f+2],d=e[f+3],h=c.createElement("rect"),m=(r-t)/o,g=(i-n)/l,x=(s-r)/o,v=(n-d)/l;h.setAttribute("x",m),h.setAttribute("y",g),h.setAttribute("width",x),h.setAttribute("height",v),u.append(h),null===(p=a)||void 0===p||p.push('<rect vector-effect="non-scaling-stroke" x="'.concat(m,'" y="').concat(g,'" width="').concat(x,'" height="').concat(v,'"/>'))}nt(pm,this)&&(a.push("</g></svg>')"),r.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(m,")")}_createPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:t}=this;let s,n;e?(s={str:e.text},n=e.date):(s=t.contentsObj,n=t.modificationDate);const i=it(fm,this,new Dm({data:{color:t.color,titleObj:t.titleObj,modificationDate:n,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(i.render())}get hasPopupElement(){return!!(nt(fm,this)||this.popup||this.data.popupRef)}get extraPopupElement(){return nt(fm,this)}render(){cs("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=[];if(this._fieldObjects){const n=this._fieldObjects[e];if(n)for(const{page:e,id:i,exportValues:r}of n){if(-1===e)continue;if(i===t)continue;const n="string"===typeof r?r:null,a=document.querySelector('[data-element-id="'.concat(i,'"]'));!a||dm.has(a)?s.push({id:i,exportValue:n,domElement:a}):ls("_getElementsByName - element not allowed: ".concat(i))}return s}for(const n of document.getElementsByName(e)){const{exportValue:e}=n,i=n.getAttribute("data-element-id");i!==t&&(dm.has(n)&&s.push({id:i,exportValue:e,domElement:n}))}return s}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var s;null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function vm(e){const{container:{style:t},data:{rect:s,rotation:n},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:o}}}}=this;null===s||void 0===s||s.splice(0,4,...e),t.left="".concat(100*(e[0]-a)/i,"%"),t.top="".concat(100*(r-e[3]+o)/r,"%"),0===n?(t.width="".concat(100*(e[2]-e[0])/i,"%"),t.height="".concat(100*(e[3]-e[1])/r,"%")):this.setRotation(n)}class bm extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var ym=new WeakSet;class wm extends xm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),Ze(this,ym),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let n=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),n=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),n=!0):e.attachment?(tt(ym,this,Nm).call(this,s,e.attachment,e.overlaidText,e.attachmentDest),n=!0):e.setOCGState?(tt(ym,this,km).call(this,s,e.setOCGState,e.overlaidText),n=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),n=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),n=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),n=!0):this.isTooltipOnly&&!n&&(this._bindLink(s,""),n=!0)),this.container.classList.add("linkAnnotation"),n&&this.container.append(s),this.container}_bindLink(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&tt(ym,this,jm).call(this),s&&(e.title=s)}_bindNamedAction(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),s&&(e.title=s),tt(ym,this,jm).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const n of Object.keys(t.actions)){const i=s.get(n);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:n}}),!1})}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),tt(ym,this,jm).call(this)}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),tt(ym,this,jm).call(this),!this._fieldObjects)return ls('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(s||(e.onclick=()=>!1));e.onclick=()=>{null===s||void 0===s||s();const{fields:e,refs:n,include:i}=t,r=[];if(0!==e.length||0!==n.length){const t=new Set(n);for(const s of e){const e=this._fieldObjects[s]||[];for(const{id:s}of e)t.add(s)}for(const e of Object.values(this._fieldObjects))for(const s of e)t.has(s.id)===i&&r.push(s)}else for(const t of Object.values(this._fieldObjects))r.push(...t);const a=this.annotationStorage,o=[];for(const t of r){const{id:e}=t;switch(o.push(e),t.type){case"text":{const s=t.defaultValue||"";a.setValue(e,{value:s});break}case"checkbox":case"radiobutton":{const s=t.defaultValue===t.exportValues;a.setValue(e,{value:s});break}case"combobox":case"listbox":{const s=t.defaultValue||"";a.setValue(e,{value:s});break}default:continue}const s=document.querySelector('[data-element-id="'.concat(e,'"]'));s&&(dm.has(s)?s.dispatchEvent(new Event("resetform")):ls("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function jm(){this.container.setAttribute("data-internal-link","")}function Nm(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:s&&(e.title=s),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},tt(ym,this,jm).call(this)}function km(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),s&&(e.title=s),tt(ym,this,jm).call(this)}class Sm extends xm{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Am extends xm{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ns.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,n,i){s.includes("mouse")?e.addEventListener(s,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(s,e=>{var r;if("blur"===s){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===s){if(t.focused)return;t.focused=!0}i&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:n,value:i(e)}}))})}_setEventListeners(e,t,s,n){for(const[o,l]of s){var i,r,a;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,n),"Focus"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":Ss.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,n=this.data.defaultAppearanceData.fontSize||9,i=e.style;let r;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(At*n))||1);r=Math.min(n,a(t/At))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);r=Math.min(n,a(e/At))}i.fontSize="calc(".concat(r,"px * var(--total-scale-factor))"),i.color=Ss.makeHexColor(s[0],s[1],s[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class _m extends Am{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,s,n){const i=this.annotationStorage;for(const r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=s),i.setValue(r.id,{[n]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){var n;const r=e.getValue(t,{value:this.data.fieldValue});let a=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&a.length>o&&(a=a.slice(0,o));let l=r.formattedValue||(null===(n=this.data.textContent)||void 0===n?void 0:n.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:a,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=null!==l&&void 0!==l?l:a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",null!==l&&void 0!==l?l:a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),dm.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:u}=this.data,m=!!h&&this.enableScripting;d&&(s.title=d),this._setRequired(s,this.data.required),o&&(s.maxLength=o),s.addEventListener("input",n=>{e.setValue(t,{value:n.target.value}),this.setPropertyOnSiblings(s,"value",n.target.value,"value"),c.formattedValue=null}),s.addEventListener("resetform",e=>{var t;const n=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";s.value=c.userValue=n,c.formattedValue=null});let p=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var i;s.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:s}=e;if(m&&(s.type=h,u&&(s.step=u)),c.userValue){const e=c.userValue;if(m)if("time"===h){const t=new Date(e),n=[t.getHours(),t.getMinutes(),t.getSeconds()];s.value=n.map(e=>e.toString().padStart(2,"0")).join(":")}else s.value=new Date(e-hm).toISOString().split("date"===h?"T":".",1)[0];else s.value=e}c.lastCommittedValue=s.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)}),s.addEventListener("updatefromsandbox",s=>{this.showElementAndHideCanvas(s.target);const n={value(s){var n;c.userValue=null!==(n=s.detail.value)&&void 0!==n?n:"",m||e.setValue(t,{value:c.userValue.toString()}),s.target.value=c.userValue},formattedValue(s){const{formattedValue:n}=s.detail;c.formattedValue=n,null!==n&&void 0!==n&&s.target!==document.activeElement&&(s.target.value=n);const i={formattedValue:n};m&&(i.value=n),e.setValue(t,i)},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:s=>{var n;const{charLimit:i}=s.detail,{target:r}=s;if(0===i)return void r.removeAttribute("maxLength");r.setAttribute("maxLength",i);let a=c.userValue;!a||a.length<=i||(a=a.slice(0,i),r.value=c.userValue=a,e.setValue(t,{value:a}),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:r.selectionStart,selEnd:r.selectionEnd}}))}};this._dispatchEventFromSandbox(n,s)}),s.addEventListener("keydown",e=>{var s;c.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):n=2,-1===n)return;const{value:i}=e.target;c.lastCommittedValue!==i&&(c.lastCommittedValue=i,c.userValue=i,null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const n=p;p=null,s.addEventListener("blur",e=>{var s;if(!c.focused||!e.relatedTarget)return;null!==(s=this.data.actions)&&void 0!==s&&s.Blur||(c.focused=!1);const{target:i}=e;let{value:r}=i;if(m){if(r&&"time"===h){const e=r.split(":").map(e=>parseInt(e,10));r=new Date(2e3,0,1,e[0],e[1],e[2]||0).valueOf(),i.step=""}else r.includes("T")||(r="".concat(r,"T00:00")),r=new Date(r).valueOf();i.type="text"}var a;(c.userValue=r,c.lastCommittedValue!==r)&&(null===(a=this.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));n(e)}),null!==(i=this.data.actions)&&void 0!==i&&i.Keystroke&&s.addEventListener("beforeinput",e=>{var s;c.lastCommittedValue=null;const{data:n,target:i}=e,{value:r,selectionStart:a,selectionEnd:o}=i;let l=a,d=o;switch(e.inputType){case"deleteWordBackward":{const e=r.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=r.substring(a).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(d+=1)}e.preventDefault(),null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,change:n||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(s,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;s.classList.add("comb"),s.style.letterSpacing="calc(".concat(e,"px * var(--total-scale-factor) - 1ch)")}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Cm extends Am{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Em extends Am{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let n=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;"string"===typeof n&&(n="Off"!==n,e.setValue(s,{value:n})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return dm.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,n&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=0,i.addEventListener("change",n=>{const{name:i,checked:r}=n.target;for(const a of this._getElementsByName(i,s)){const s=r&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=s),e.setValue(a.id,{value:s})}e.setValue(s,{value:r})}),i.addEventListener("resetform",e=>{const s=t.defaultFieldValue||"Off";e.target.checked=s===t.exportValue}),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",t=>{const n={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(s,{value:t.target.checked})}};this._dispatchEventFromSandbox(n,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Mm extends Am{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let n=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof n&&(n=n!==t.buttonValue,e.setValue(s,{value:n})),n)for(const r of this._getElementsByName(t.fieldName,s))e.setValue(r.id,{value:!1});const i=document.createElement("input");if(dm.add(i),i.setAttribute("data-element-id",s),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,n&&i.setAttribute("checked",!0),i.tabIndex=0,i.addEventListener("change",t=>{const{name:n,checked:i}=t.target;for(const r of this._getElementsByName(n,s))e.setValue(r.id,{value:!1});e.setValue(s,{value:i})}),i.addEventListener("resetform",e=>{const s=t.defaultFieldValue;e.target.checked=null!==s&&void 0!==s&&s===t.buttonValue}),this.enableScripting&&this.hasJSActions){const n=t.buttonValue;i.addEventListener("updatefromsandbox",t=>{const i={value:t=>{const i=n===t.detail.value;for(const n of this._getElementsByName(t.target.name)){const t=i&&n.id===s;n.domElement&&(n.domElement.checked=t),e.setValue(n.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Pm extends wm{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class Tm extends Am{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),n=document.createElement("select");dm.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,this._setRequired(n,this.data.required),n.name=this.data.fieldName,n.tabIndex=0;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0)),n.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const s of n.options)s.selected=s.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,s.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),n.append(e)}let r=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),n.prepend(e),r=()=>{e.remove(),n.removeEventListener("input",r),r=null},n.addEventListener("input",r)}const a=e=>{const t=e?"value":"textContent",{options:s,multiple:i}=n;return i?Array.prototype.filter.call(s,e=>e.selected).map(e=>e[t]):-1===s.selectedIndex?null:s[s.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(n.addEventListener("updatefromsandbox",s=>{const i={value(s){var i;null===(i=r)||void 0===i||i();const l=s.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of n.options)e.selected=c.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){n.multiple=!0},remove(s){const i=n.options,r=s.detail.remove;if(i[r].selected=!1,n.remove(r),i.length>0){-1===Array.prototype.findIndex.call(i,e=>e.selected)&&(i[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(s)}),o=a(!1)},clear(s){for(;0!==n.length;)n.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(s){const{index:i,displayValue:r,exportValue:c}=s.detail.insert,d=n.children[i],h=document.createElement("option");h.textContent=r,h.value=c,d?d.before(h):n.append(h),e.setValue(t,{value:a(!0),items:l(s)}),o=a(!1)},items(s){const{items:i}=s.detail;for(;0!==n.length;)n.remove(0);for(const e of i){const{displayValue:t,exportValue:s}=e,i=document.createElement("option");i.textContent=t,i.value=s,n.append(i)}n.options.length>0&&(n.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(s)}),o=a(!1)},indices(s){const n=new Set(s.detail.indices);for(const e of s.target.options)e.selected=n.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,s)}),n.addEventListener("input",s=>{var n;const i=a(!0),r=a(!1);e.setValue(t,{value:i}),s.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:r,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(n,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):n.addEventListener("input",function(s){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}var Rm=new WeakSet;class Dm extends xm{constructor(e){const{data:t,elements:s,parent:n}=e,i=!!n._commentManager;if(super(e,{isRenderable:!i&&xm._hasPopupData(t)}),Ze(this,Rm),this.elements=s,i&&xm._hasPopupData(t)){const e=this.popup=tt(Rm,this,Lm).call(this);for(const t of s)t.popup=e}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=tt(Rm,this,Lm).call(this),s=[];for(const n of this.elements)n.popup=t,n.container.ariaHasPopup="dialog",s.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(e=>"".concat(Ps).concat(e)).join(",")),this.container}}function Lm(){return new cp({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}var Im=new WeakMap,Fm=new WeakMap,Om=new WeakMap,Bm=new WeakMap,Wm=new WeakMap,zm=new WeakMap,Um=new WeakMap,Hm=new WeakMap,Vm=new WeakMap,Gm=new WeakMap,qm=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,Km=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,$m=new WeakMap,Zm=new WeakMap,ep=new WeakMap,tp=new WeakMap,sp=new WeakMap,np=new WeakMap,ip=new WeakMap,rp=new WeakMap,ap=new WeakMap,op=new WeakMap,lp=new WeakSet;class cp{constructor(e){let{container:t,color:s,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h,commentManager:u=null}=e;Ze(this,lp),et(this,Im,null),et(this,Fm,tt(lp,this,vp).bind(this)),et(this,Om,tt(lp,this,jp).bind(this)),et(this,Bm,tt(lp,this,wp).bind(this)),et(this,Wm,tt(lp,this,yp).bind(this)),et(this,zm,null),et(this,Um,null),et(this,Hm,null),et(this,Vm,null),et(this,Gm,null),et(this,qm,null),et(this,Xm,null),et(this,Ym,!1),et(this,Km,null),et(this,Jm,null),et(this,Qm,null),et(this,$m,null),et(this,Zm,null),et(this,ep,null),et(this,tp,null),et(this,sp,null),et(this,np,null),et(this,ip,null),et(this,rp,!1),et(this,ap,null),et(this,op,null),it(Um,this,t),it(np,this,i),it(Hm,this,a),it(sp,this,o),it(qm,this,l),it(zm,this,s),it(tp,this,c),it(Xm,this,d),it(Gm,this,n),it(Im,this,u),it(ap,this,n[0]),it(Vm,this,Xs.toDateObject(r)),this.trigger=n.flatMap(e=>e.getElementsToTriggerPopup()),u?this.renderCommentButton():(tt(lp,this,dp).call(this),nt(Um,this).hidden=!0,h&&tt(lp,this,yp).call(this))}renderCommentButton(){if(nt($m,this))return;if(nt(Zm,this)||tt(lp,this,hp).call(this),!nt(Zm,this))return;const{signal:e}=it(Jm,this,new AbortController),t=!!nt(ap,this).extraPopupElement,s=()=>{nt(Im,this).toggleCommentPopup(this,!0,void 0,!t)},n=()=>{nt(Im,this).toggleCommentPopup(this,!1,!0,!t)},i=()=>{nt(Im,this).toggleCommentPopup(this,!1,!1)};if(t){it($m,this,nt(ap,this).container);for(const t of this.trigger)t.ariaHasPopup="dialog",t.ariaControls="commentPopup",t.addEventListener("keydown",nt(Fm,this),{signal:e}),t.addEventListener("click",s,{signal:e}),t.addEventListener("pointerenter",n,{signal:e}),t.addEventListener("pointerleave",i,{signal:e}),t.classList.add("popupTriggerArea")}else{const t=it($m,this,document.createElement("button"));t.className="annotationCommentButton";const r=nt(ap,this).container;t.style.zIndex=r.style.zIndex+1,t.tabIndex=0,t.ariaHasPopup="dialog",t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button"),tt(lp,this,mp).call(this),tt(lp,this,up).call(this),t.addEventListener("keydown",nt(Fm,this),{signal:e}),t.addEventListener("click",s,{signal:e}),t.addEventListener("pointerenter",n,{signal:e}),t.addEventListener("pointerleave",i,{signal:e}),r.after(t)}}get commentButtonColor(){const{color:e,opacity:t}=nt(ap,this).commentData;return e?nt(qm,this)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;null===(e=nt($m,this))||void 0===e||e.focus()},0)}getData(){const{richText:e,color:t,opacity:s,creationDate:n,modificationDate:i}=nt(ap,this).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:s,creationDate:n,modificationDate:i}}get elementBeforePopup(){return nt($m,this)}get comment(){return nt(op,this)||it(op,this,nt(ap,this).commentText),nt(op,this)}set comment(e){e!==this.comment&&(nt(ap,this).commentText=it(op,this,e))}get parentBoundingClientRect(){return nt(ap,this).layer.getBoundingClientRect()}setCommentButtonStates(e){let{selected:t,hasPopup:s}=e;nt($m,this)&&(nt($m,this).classList.toggle("selected",t),nt($m,this).ariaExpanded=s)}setSelectedCommentButton(e){nt($m,this).classList.toggle("selected",e)}get commentPopupPosition(){if(nt(ep,this))return nt(ep,this);const{x:e,y:t,height:s}=nt($m,this).getBoundingClientRect(),{x:n,y:i,width:r,height:a}=nt(ap,this).layer.getBoundingClientRect();return[(e-n)/r,(t+s-i)/a]}set commentPopupPosition(e){it(ep,this,e)}hasDefaultPopupPosition(){return null===nt(ep,this)}get commentButtonPosition(){return nt(Zm,this)}get commentButtonWidth(){return nt($m,this).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,s]=nt(ep,this)||this.commentButtonPosition.map(e=>e/100),n=this.parentBoundingClientRect,{x:i,y:r,width:a,height:o}=n;nt(Im,this).showDialog(null,this,i+t*a,r+s*o,Je(Je({},e),{},{parentDimensions:n}))}render(){var e,t;if(nt(Km,this))return;const s=it(Km,this,document.createElement("div"));if(s.className="popup",nt(zm,this)){const e=s.style.outlineColor=Ss.makeHexColor(...nt(zm,this));s.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)")}const n=document.createElement("span");if(n.className="header",null!==(e=nt(np,this))&&void 0!==e&&e.str){const e=document.createElement("span");e.className="title",n.append(e),({dir:e.dir,str:e.textContent}=nt(np,this))}if(s.append(n),nt(Vm,this)){const e=document.createElement("time");e.className="popupDate",e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:nt(Vm,this).valueOf()})),e.dateTime=nt(Vm,this).toISOString(),n.append(e)}ln({html:st(lp,this,pp)||nt(Hm,this).str,dir:null===(t=nt(Hm,this))||void 0===t?void 0:t.dir,className:"popupContent"},s),nt(Um,this).append(s)}updateEdited(e){var t;let{rect:s,popup:n,deleted:i}=e;if(nt(Im,this))return i?(this.remove(),it(op,this,null)):n&&(n.deleted?this.remove():(tt(lp,this,mp).call(this),it(op,this,n.text))),void(s&&(it(Zm,this,null),tt(lp,this,hp).call(this),tt(lp,this,up).call(this)));i||null!==n&&void 0!==n&&n.deleted?this.remove():(tt(lp,this,dp).call(this),nt(ip,this)||it(ip,this,{contentsObj:nt(Hm,this),richText:nt(sp,this)}),s&&it(Qm,this,null),n&&n.text&&(it(sp,this,tt(lp,this,xp).call(this,n.text)),it(Vm,this,Xs.toDateObject(n.date)),it(Hm,this,null)),null===(t=nt(Km,this))||void 0===t||t.remove(),it(Km,this,null))}resetEdited(){var e;nt(ip,this)&&(({contentsObj:Qe(it,[Hm,this])._,richText:Qe(it,[sp,this])._}=nt(ip,this)),it(ip,this,null),null===(e=nt(Km,this))||void 0===e||e.remove(),it(Km,this,null),it(Qm,this,null))}remove(){var e,t,s;if(null===(e=nt(Jm,this))||void 0===e||e.abort(),it(Jm,this,null),null===(t=nt(Km,this))||void 0===t||t.remove(),it(Km,this,null),it(rp,this,!1),it(Ym,this,!1),null===(s=nt($m,this))||void 0===s||s.remove(),it($m,this,null),this.trigger)for(const n of this.trigger)n.classList.remove("popupTriggerArea")}forceHide(){it(rp,this,this.isVisible),nt(rp,this)&&(nt(Um,this).hidden=!0)}maybeShow(){nt(Im,this)||(tt(lp,this,dp).call(this),nt(rp,this)&&(nt(Km,this)||tt(lp,this,wp).call(this),it(rp,this,!1),nt(Um,this).hidden=!1))}get isVisible(){return!nt(Im,this)&&!1===nt(Um,this).hidden}}function dp(){if(nt(Jm,this))return;it(Jm,this,new AbortController);const{signal:e}=nt(Jm,this);for(const s of this.trigger)s.addEventListener("click",nt(Wm,this),{signal:e}),s.addEventListener("pointerenter",nt(Bm,this),{signal:e}),s.addEventListener("pointerleave",nt(Om,this),{signal:e}),s.classList.add("popupTriggerArea");for(const s of nt(Gm,this)){var t;null===(t=s.container)||void 0===t||t.addEventListener("keydown",nt(Fm,this),{signal:e})}}function hp(){const e=nt(Gm,this).find(e=>e.hasCommentButton);e&&it(Zm,this,e._normalizePoint(e.commentButtonPosition))}function up(){if(nt(ap,this).extraPopupElement&&!nt(ap,this).editor)return;this.renderCommentButton();const[e,t]=nt(Zm,this),{style:s}=nt($m,this);s.left="calc(".concat(e,"%)"),s.top="calc(".concat(t,"% - var(--comment-button-dim))")}function mp(){nt(ap,this).extraPopupElement||(this.renderCommentButton(),nt($m,this).style.backgroundColor=this.commentButtonColor||"")}function pp(e){const t=nt(sp,e),s=nt(Hm,e);return null===t||void 0===t||!t.str||null!==s&&void 0!==s&&s.str&&s.str!==t.str?null:nt(sp,e).html||null}function fp(e){var t;return(null===(t=st(lp,e,pp))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function gp(e){var t;return(null===(t=st(lp,e,pp))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function xp(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},n={style:{color:st(lp,this,gp),fontSize:st(lp,this,fp)?"calc(".concat(st(lp,this,fp),"px * var(--total-scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:n});return s}function vp(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&nt(Ym,this))&&tt(lp,this,yp).call(this)}function bp(){if(null!==nt(Qm,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:n,pageY:i}}}=nt(qm,this);let r=!!nt(Xm,this),a=nt(r?Xm:tp,this);for(const u of nt(Gm,this))if(!a||null!==Ss.intersect(u.data.rect,a)){a=u.data.rect,r=!0;break}const o=Ss.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=r?a[2]-a[0]+5:0,c=o[0]+l,d=o[1];it(Qm,this,[100*(c-n)/t,100*(d-i)/s]);const{style:h}=nt(Um,this);h.left="".concat(nt(Qm,this)[0],"%"),h.top="".concat(nt(Qm,this)[1],"%")}function yp(){nt(Im,this)?nt(Im,this).toggleCommentPopup(this,!1):(it(Ym,this,!nt(Ym,this)),nt(Ym,this)?(tt(lp,this,wp).call(this),nt(Um,this).addEventListener("click",nt(Wm,this)),nt(Um,this).addEventListener("keydown",nt(Fm,this))):(tt(lp,this,jp).call(this),nt(Um,this).removeEventListener("click",nt(Wm,this)),nt(Um,this).removeEventListener("keydown",nt(Fm,this))))}function wp(){nt(Km,this)||this.render(),this.isVisible?nt(Ym,this)&&nt(Um,this).classList.add("focused"):(tt(lp,this,bp).call(this),nt(Um,this).hidden=!1,nt(Um,this).style.zIndex=parseInt(nt(Um,this).style.zIndex)+1e3)}function jp(){nt(Um,this).classList.remove("focused"),!nt(Ym,this)&&this.isVisible&&(nt(Um,this).hidden=!0,nt(Um,this).style.zIndex=parseInt(nt(Um,this).style.zIndex)-1e3)}class Np extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ft.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var kp=new WeakMap;class Sp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),et(this,kp,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:s}=this,n=this.svgFactory.create(t,s,!0),i=it(kp,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),n.append(i),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(kp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Ap=new WeakMap;class _p extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),et(this,Ap,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:s}=this,n=this.svgFactory.create(t,s,!0),i=e.borderStyle.width,r=it(Ap,this,this.svgFactory.createElement("svg:rect"));return r.setAttribute("x",i/2),r.setAttribute("y",i/2),r.setAttribute("width",t-i),r.setAttribute("height",s-i),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),n.append(r),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(Ap,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Cp=new WeakMap;class Ep extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),et(this,Cp,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:s}=this,n=this.svgFactory.create(t,s,!0),i=e.borderStyle.width,r=it(Cp,this,this.svgFactory.createElement("svg:ellipse"));return r.setAttribute("cx",t/2),r.setAttribute("cy",s/2),r.setAttribute("rx",t/2-i/2),r.setAttribute("ry",s/2-i/2),r.setAttribute("stroke-width",i||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),n.append(r),this.container.append(n),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(Cp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Mp=new WeakMap;class Pp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),et(this,Mp,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:s,popupRef:n},width:i,height:r}=this;if(!t)return this.container;const a=this.svgFactory.create(i,r,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const s=t[c]-e[0],n=e[3]-t[c+1];o.push("".concat(s,",").concat(n))}o=o.join(" ");const l=it(Mp,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",s.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!n&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return nt(Mp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class Tp extends Pp{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Rp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Dp=new WeakMap,Lp=new WeakMap,Ip=new WeakSet;class Fp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),Ze(this,Ip),et(this,Dp,null),et(this,Lp,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Ft.HIGHLIGHT:Ft.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:s,borderStyle:n,popupRef:i}}=this,{transform:r,width:a,height:o}=tt(Ip,this,Op).call(this,t,e),l=this.svgFactory.create(a,o,!0),c=it(Dp,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",r);for(let d=0,h=s.length;d<h;d++){const e=this.svgFactory.createElement(this.svgElementName);nt(Lp,this).push(e),e.setAttribute("points",s[d].join(",")),c.append(e)}return!i&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:s,rect:n}=e,i=nt(Dp,this);if(t>=0&&i.setAttribute("stroke-width",t||1),s)for(let r=0,a=nt(Lp,this).length;r<a;r++)nt(Lp,this)[r].setAttribute("points",s[r].join(","));if(n){const{transform:e,width:t,height:s}=tt(Ip,this,Op).call(this,this.data.rotation,n);i.parentElement.setAttribute("viewBox","0 0 ".concat(t," ").concat(s)),i.setAttribute("transform",e)}}getElementsToTriggerPopup(){return nt(Lp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Op(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}class Bp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ft.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Wp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class zp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Up extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Hp extends xm{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ft.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Vp=new WeakMap,Gp=new WeakSet;class qp extends xm{constructor(e){var t;super(e,{isRenderable:!0}),Ze(this,Gp),et(this,Vp,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",Je({source:this},s))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||0===t.fillAlpha?s=document.createElement("div"):(s=document.createElement("img"),s.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(s.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),s.addEventListener("dblclick",tt(Gp,this,Xp).bind(this)),it(Vp,this,s);const{isMac:n}=Ns.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(n?e.metaKey:e.ctrlKey)&&tt(Gp,this,Xp).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return nt(Vp,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Xp(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var Yp=new WeakMap,Kp=new WeakMap,Jp=new WeakMap,Qp=new WeakMap,$p=new WeakMap,Zp=new WeakMap,ef=new WeakSet;class tf{constructor(e){let{div:t,accessibilityManager:s,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}=e;Ze(this,ef),et(this,Yp,null),et(this,Kp,null),et(this,Jp,null),et(this,Qp,new Map),et(this,$p,null),et(this,Zp,null),this.div=t,it(Yp,this,s),it(Kp,this,n),it($p,this,o||null),it(Zp,this,c||null),it(Jp,this,d||new mo),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return nt(Qp,this).size>0}async render(e){const{annotations:t}=e,s=this.div;$s(s,this.viewport);const n=new Map,i={data:null,layer:s,linkService:nt(Zp,this),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new cm,annotationStorage:nt(Jp,this),enableComment:!0===e.enableComment,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){var r;if(o.noHTML)continue;const e=o.annotationType===qt.POPUP;if(e){const e=n.get(o.id);if(!e)continue;i.elements=e}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;i.data=o;const t=um.create(i);if(!t.isRenderable)continue;if(!e&&o.popupRef){const e=n.get(o.popupRef);e?e.push(t):n.set(o.popupRef,[t])}const s=t.render();var a;if(o.hidden&&(s.style.visibility="hidden"),await tt(ef,this,sf).call(this,s,o.id,i.elements),null===(r=t.extraPopupElement)||void 0===r||null===(r=r.popup)||void 0===r||r.renderCommentButton(),t._isEditable)nt(Qp,this).set(t.data.id,t),null===(a=this._annotationEditorUIManager)||void 0===a||a.renderAnnotationElement(t)}tt(ef,this,nf).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:nt(Zp,this),svgFactory:new cm,parent:this};for(const s of e){s.borderStyle||(s.borderStyle=tf._defaultBorderStyle),t.data=s;const e=um.create(t);if(!e.isRenderable)continue;const n=e.render();await tt(ef,this,sf).call(this,n,s.id,null)}}update(e){let{viewport:t}=e;const s=this.div;this.viewport=t,$s(s,{rotation:t.rotation}),tt(ef,this,nf).call(this),s.hidden=!1}getEditableAnnotations(){return Array.from(nt(Qp,this).values())}getEditableAnnotation(e){return nt(Qp,this).get(e)}addFakeAnnotation(e){var t;const{div:s}=this,{id:n,rotation:i}=e,r=new bm({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:s,parent:this,enableComment:!!this._commentManager,linkService:nt(Zp,this),annotationStorage:nt(Jp,this)}),a=r.render();return s.append(a),null===(t=nt(Yp,this))||void 0===t||t.moveElementInDOM(s,a,a,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return ms(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Xt,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function sf(e,t,s){var n;const i=e.firstChild||e,r=i.id="".concat(Ps).concat(t),a=await(null===(n=nt($p,this))||void 0===n?void 0:n.getAriaAttributes(r));if(a)for(const[l,c]of a)i.setAttribute(l,c);var o;s?s.at(-1).container.after(e):(this.div.append(e),null===(o=nt(Yp,this))||void 0===o||o.moveElementInDOM(this.div,e,i,!1))}function nf(){if(!nt(Kp,this))return;const e=this.div;for(const[s,n]of nt(Kp,this)){const i=e.querySelector('[data-annotation-id="'.concat(s,'"]'));if(!i)continue;n.className="annotationContent";const{firstChild:r}=i;r?"CANVAS"===r.nodeName?r.replaceWith(n):r.classList.contains("annotationContent")?r.after(n):r.before(n):i.append(n);const a=nt(Qp,this).get(s);var t;if(a)if(a._hasNoCanvas)null===(t=this._annotationEditorUIManager)||void 0===t||t.setMissingCanvas(s,i.id,n),a._hasNoCanvas=!1;else a.canvas=n}nt(Kp,this).clear()}const rf=/\r\n?|\n/g;var af=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakMap,df=new WeakSet;class hf extends La{static get _keyboardManager(){const e=hf.prototype,t=e=>e.isEmpty(),s=Xi.TRANSLATE_SMALL,n=Xi.TRANSLATE_BIG;return ms(this,"_keyboardManager",new Yn([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}]]))}constructor(e){super(Je(Je({},e),{},{name:"freeTextEditor"})),Ze(this,df),et(this,af,""),et(this,of,"".concat(this.id,"-editor")),et(this,lf,null),et(this,cf,void 0),Ye(this,"_colorPicker",null),this.color=e.color||hf._defaultColor||La._defaultLineColor,it(cf,this,e.fontSize||hf._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){La.initialize(e,t);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ot.FREETEXT_SIZE:hf._defaultFontSize=t;break;case Ot.FREETEXT_COLOR:hf._defaultColor=t}}updateParams(e,t){switch(e){case Ot.FREETEXT_SIZE:tt(df,this,uf).call(this,t);break;case Ot.FREETEXT_COLOR:tt(df,this,mf).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Ot.FREETEXT_SIZE,hf._defaultFontSize],[Ot.FREETEXT_COLOR,hf._defaultColor||La._defaultLineColor]]}get propertiesToUpdate(){return[[Ot.FREETEXT_SIZE,nt(cf,this)],[Ot.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new nm(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ot.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,null===(e=this._colorPicker)||void 0===e||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-hf._internalPadding*e,-(hf._internalPadding+nt(cf,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),it(lf,this,new AbortController);const e=this._uiManager.combinedSignal(nt(lf,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",nt(of,this)),this._isDraggable=!0,null===(e=nt(lf,this))||void 0===e||e.abort(),it(lf,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=nt(af,this),t=it(af,this,tt(df,this,pf).call(this).trimEnd());if(e===t)return;const s=e=>{it(af,this,e),e?(tt(df,this,xf).call(this),this._uiManager.rebuild(this),tt(df,this,ff).call(this)):this.remove()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),tt(df,this,ff).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){hf._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",nt(of,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize="calc(".concat(nt(cf,this),"px * var(--total-scale-factor))"),s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,n]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[r,a]=this.getInitialTranslation();[r,a]=this.pageTranslationToScreen(r,a);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=e+(i[0]-c)/o,u=t+this.height-(i[1]-d)/l;break;case 90:h=e+(i[0]-c)/o,u=t-(i[1]-d)/l,[r,a]=[a,-r];break;case 180:h=e-this.width+(i[0]-c)/o,u=t-(i[1]-d)/l,[r,a]=[-r,-a];break;case 270:h=e+(i[0]-c-this.height*l)/o,u=t+(i[1]-d-this.width*o)/l,[r,a]=[-a,r]}this.setAt(h*s,u*n,r,a)}else this._moveAfterPaste(e,t);tt(df,this,xf).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:s}=t;if(1===s.length&&"text/plain"===s[0])return;e.preventDefault();const n=bf.call(hf,t.getData("text")||"").replaceAll(rf,"\n");if(!n)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const r=i.getRangeAt(0);if(!n.includes("\n"))return r.insertNode(document.createTextNode(n)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:o}=r,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(rf,"")),e!==this.editorDiv){let t=l;for(const s of this.editorDiv.childNodes)s!==e?t.push(gf.call(hf,s)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(rf,""))}else if(a===this.editorDiv){let e=l,t=0;for(const s of this.editorDiv.childNodes)t++===o&&(e=c),e.push(gf.call(hf,s))}it(af,this,"".concat(l.join("\n")).concat(n).concat(c.join("\n"))),tt(df,this,xf).call(this);const d=new Range;let h=Math.sumPrecise(l.map(e=>e.length));for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const e=u.nodeValue.length;if(h<=e){d.setStart(u,h),d.setEnd(u,h);break}h-=e}i.removeAllRanges(),i.addRange(d)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=hf._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,s){let n=null;if(e instanceof Np){const{data:{defaultAppearanceData:{fontSize:t,fontColor:s},rect:i,rotation:r,id:a,popupRef:o,richText:l,contentsObj:c,creationDate:d,modificationDate:h},textContent:u,textPosition:m,parent:{page:{pageNumber:p}}}=e;if(!u||0===u.length)return null;n=e={annotationType:Ft.FREETEXT,color:Array.from(s),fontSize:t,value:u.join("\n"),position:m,pageIndex:p-1,rect:i.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:o,comment:(null===c||void 0===c?void 0:c.str)||null,richText:l,creationDate:d,modificationDate:h}}const i=await super.deserialize(e,t,s);return it(cf,i,e.fontSize),i.color=Ss.makeHexColor(...e.color),it(af,i,bf.call(hf,e.value)),i._initialData=n,e.comment&&i.setCommentData(e),i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=La._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:t,fontSize:nt(cf,this),value:tt(df,this,vf).call(this)});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!tt(df,this,yf).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:s}=t;s.fontSize="calc(".concat(nt(cf,this),"px * var(--total-scale-factor))"),s.color=this.color,t.replaceChildren();for(const n of nt(af,this).split("\n")){const e=document.createElement("div");e.append(n?document.createTextNode(n):document.createElement("br")),t.append(e)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:nt(af,this)}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function uf(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--total-scale-factor))"),this.translate(0,-(e-nt(cf,this))*this.parentScale),it(cf,this,e),tt(df,this,ff).call(this)},s=nt(cf,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function mf(e){const t=e=>{this.color=e,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function pf(){const e=[];this.editorDiv.normalize();let t=null;for(const n of this.editorDiv.childNodes){var s;(null===(s=t)||void 0===s?void 0:s.nodeType)===Node.TEXT_NODE&&"BR"===n.nodeName||(e.push(gf.call(bt,n)),t=n)}return e.join("\n")}function ff(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,n=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),s=t.getBoundingClientRect(),t.remove(),t.style.display=n,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}function gf(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(rf,"")}function xf(){if(this.editorDiv.replaceChildren(),nt(af,this))for(const e of nt(af,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function vf(){return nt(af,this).replaceAll("\xa0"," ")}function bf(e){return e.replaceAll(" ","\xa0")}function yf(e){const{value:t,fontSize:s,color:n,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==s||e.color.some((e,t)=>e!==n[t])||e.pageIndex!==i}bt=hf,Ye(hf,"_freeTextDefaultContent",""),Ye(hf,"_internalPadding",0),Ye(hf,"_defaultColor",null),Ye(hf,"_defaultFontSize",10),Ye(hf,"_type","freetext"),Ye(hf,"_editorType",Ft.FREETEXT);class wf{toSVGPath(){cs("Abstract method `toSVGPath` must be implemented.")}get box(){cs("Abstract getter `box` must be implemented.")}serialize(e,t){cs("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,n,i,r){r||(r=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a]*n,r[a+1]=s+e[a+1]*i;return r}static _rescaleAndSwap(e,t,s,n,i,r){r||(r=new Float32Array(e.length));for(let a=0,o=e.length;a<o;a+=2)r[a]=t+e[a+1]*n,r[a+1]=s+e[a]*i;return r}static _translate(e,t,s,n){n||(n=new Float32Array(e.length));for(let i=0,r=e.length;i<r;i+=2)n[i]=t+e[i],n[i+1]=s+e[i+1];return n}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,s,n,i){switch(i){case 90:return[1-t/s,e/n];case 180:return[1-e/s,1-t/n];case 270:return[t/s,1-e/n];default:return[e/s,t/n]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,n,i,r){return[(e+5*s)/6,(t+5*n)/6,(5*s+i)/6,(5*n+r)/6,(s+i)/2,(n+r)/2]}}Ye(wf,"PRECISION",1e-4);var jf=new WeakMap,Nf=new WeakMap,kf=new WeakMap,Sf=new WeakMap,Af=new WeakMap,_f=new WeakMap,Cf=new WeakMap,Ef=new WeakMap,Mf=new WeakMap,Pf=new WeakMap,Tf=new WeakMap,Rf=new WeakMap,Df=new WeakMap,Lf=new WeakSet;class If{constructor(e,t,s,n,i){let{x:r,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Ze(this,Lf),et(this,jf,void 0),et(this,Nf,[]),et(this,kf,void 0),et(this,Sf,void 0),et(this,Af,[]),et(this,_f,new Float32Array(18)),et(this,Cf,void 0),et(this,Ef,void 0),et(this,Mf,void 0),et(this,Pf,void 0),et(this,Tf,void 0),et(this,Rf,void 0),et(this,Df,[]),it(jf,this,t),it(Rf,this,n*s),it(Sf,this,i),nt(_f,this).set([NaN,NaN,NaN,NaN,r,a],6),it(kf,this,o),it(Pf,this,Vf._*s),it(Mf,this,Gf._*s),it(Tf,this,s),nt(Df,this).push(r,a)}isEmpty(){return isNaN(nt(_f,this)[8])}add(e){var t;let{x:s,y:n}=e;it(Cf,this,s),it(Ef,this,n);const[i,r,a,o]=nt(jf,this);let[l,c,d,h]=nt(_f,this).subarray(8,12);const u=s-d,m=n-h,p=Math.hypot(u,m);if(p<nt(Mf,this))return!1;const f=p-nt(Pf,this),g=f/p,x=g*u,v=g*m;let b=l,y=c;l=d,c=h,d+=x,h+=v,null===(t=nt(Df,this))||void 0===t||t.push(s,n);const w=x/f,j=-v/f*nt(Rf,this),N=w*nt(Rf,this);if(nt(_f,this).set(nt(_f,this).subarray(2,8),0),nt(_f,this).set([d+j,h+N],4),nt(_f,this).set(nt(_f,this).subarray(14,18),12),nt(_f,this).set([d-j,h-N],16),isNaN(nt(_f,this)[6]))return 0===nt(Af,this).length&&(nt(_f,this).set([l+j,c+N],2),nt(Af,this).push(NaN,NaN,NaN,NaN,(l+j-i)/a,(c+N-r)/o),nt(_f,this).set([l-j,c-N],14),nt(Nf,this).push(NaN,NaN,NaN,NaN,(l-j-i)/a,(c-N-r)/o)),nt(_f,this).set([b,y,l,c,d,h],6),!this.isEmpty();nt(_f,this).set([b,y,l,c,d,h],6);return Math.abs(Math.atan2(y-c,b-l)-Math.atan2(v,x))<Math.PI/2?([l,c,d,h]=nt(_f,this).subarray(2,6),nt(Af,this).push(NaN,NaN,NaN,NaN,((l+d)/2-i)/a,((c+h)/2-r)/o),[l,c,b,y]=nt(_f,this).subarray(14,18),nt(Nf,this).push(NaN,NaN,NaN,NaN,((b+l)/2-i)/a,((y+c)/2-r)/o),!0):([b,y,l,c,d,h]=nt(_f,this).subarray(0,6),nt(Af,this).push(((b+5*l)/6-i)/a,((y+5*c)/6-r)/o,((5*l+d)/6-i)/a,((5*c+h)/6-r)/o,((l+d)/2-i)/a,((c+h)/2-r)/o),[d,h,l,c,b,y]=nt(_f,this).subarray(12,18),nt(Nf,this).push(((b+5*l)/6-i)/a,((y+5*c)/6-r)/o,((5*l+d)/6-i)/a,((5*c+h)/6-r)/o,((l+d)/2-i)/a,((c+h)/2-r)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=nt(Af,this),t=nt(Nf,this);if(isNaN(nt(_f,this)[6])&&!this.isEmpty())return tt(Lf,this,Of).call(this);const s=[];s.push("M".concat(e[4]," ").concat(e[5]));for(let n=6;n<e.length;n+=6)isNaN(e[n])?s.push("L".concat(e[n+4]," ").concat(e[n+5])):s.push("C".concat(e[n]," ").concat(e[n+1]," ").concat(e[n+2]," ").concat(e[n+3]," ").concat(e[n+4]," ").concat(e[n+5]));tt(Lf,this,Wf).call(this,s);for(let n=t.length-6;n>=6;n-=6)isNaN(t[n])?s.push("L".concat(t[n+4]," ").concat(t[n+5])):s.push("C".concat(t[n]," ").concat(t[n+1]," ").concat(t[n+2]," ").concat(t[n+3]," ").concat(t[n+4]," ").concat(t[n+5]));return tt(Lf,this,Bf).call(this,s),s.join(" ")}newFreeDrawOutline(e,t,s,n,i,r){return new eg(e,t,s,n,i,r)}getOutlines(){var e,t;const s=nt(Af,this),n=nt(Nf,this),i=nt(_f,this),[r,a,o,l]=nt(jf,this),c=new Float32Array((null!==(e=null===(t=nt(Df,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let u=0,m=c.length-2;u<m;u+=2)c[u]=(nt(Df,this)[u]-r)/o,c[u+1]=(nt(Df,this)[u+1]-a)/l;if(c[c.length-2]=(nt(Cf,this)-r)/o,c[c.length-1]=(nt(Ef,this)-a)/l,isNaN(i[6])&&!this.isEmpty())return tt(Lf,this,zf).call(this,c);const d=new Float32Array(nt(Af,this).length+24+nt(Nf,this).length);let h=s.length;for(let u=0;u<h;u+=2)isNaN(s[u])?d[u]=d[u+1]=NaN:(d[u]=s[u],d[u+1]=s[u+1]);h=tt(Lf,this,Hf).call(this,d,h);for(let u=n.length-6;u>=6;u-=6)for(let e=0;e<6;e+=2)isNaN(n[u+e])?(d[h]=d[h+1]=NaN,h+=2):(d[h]=n[u+e],d[h+1]=n[u+e+1],h+=2);return tt(Lf,this,Uf).call(this,d,h),this.newFreeDrawOutline(d,c,nt(jf,this),nt(Tf,this),nt(kf,this),nt(Sf,this))}}function Ff(){const e=nt(_f,this).subarray(4,6),t=nt(_f,this).subarray(16,18),[s,n,i,r]=nt(jf,this);return[(nt(Cf,this)+(e[0]-t[0])/2-s)/i,(nt(Ef,this)+(e[1]-t[1])/2-n)/r,(nt(Cf,this)+(t[0]-e[0])/2-s)/i,(nt(Ef,this)+(t[1]-e[1])/2-n)/r]}function Of(){const[e,t,s,n]=nt(jf,this),[i,r,a,o]=tt(Lf,this,Ff).call(this);return"M".concat((nt(_f,this)[2]-e)/s," ").concat((nt(_f,this)[3]-t)/n," L").concat((nt(_f,this)[4]-e)/s," ").concat((nt(_f,this)[5]-t)/n," L").concat(i," ").concat(r," L").concat(a," ").concat(o," L").concat((nt(_f,this)[16]-e)/s," ").concat((nt(_f,this)[17]-t)/n," L").concat((nt(_f,this)[14]-e)/s," ").concat((nt(_f,this)[15]-t)/n," Z")}function Bf(e){const t=nt(Nf,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function Wf(e){const[t,s,n,i]=nt(jf,this),r=nt(_f,this).subarray(4,6),a=nt(_f,this).subarray(16,18),[o,l,c,d]=tt(Lf,this,Ff).call(this);e.push("L".concat((r[0]-t)/n," ").concat((r[1]-s)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(d," L").concat((a[0]-t)/n," ").concat((a[1]-s)/i))}function zf(e){const t=nt(_f,this),[s,n,i,r]=nt(jf,this),[a,o,l,c]=tt(Lf,this,Ff).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-s)/i,(t[3]-n)/r,NaN,NaN,NaN,NaN,(t[4]-s)/i,(t[5]-n)/r,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-s)/i,(t[17]-n)/r,NaN,NaN,NaN,NaN,(t[14]-s)/i,(t[15]-n)/r],0),this.newFreeDrawOutline(d,e,nt(jf,this),nt(Tf,this),nt(kf,this),nt(Sf,this))}function Uf(e,t){const s=nt(Nf,this);return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+6}function Hf(e,t){const s=nt(_f,this).subarray(4,6),n=nt(_f,this).subarray(16,18),[i,r,a,o]=nt(jf,this),[l,c,d,h]=tt(Lf,this,Ff).call(this);return e.set([NaN,NaN,NaN,NaN,(s[0]-i)/a,(s[1]-r)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(n[0]-i)/a,(n[1]-r)/o],t),t+24}var Vf={_:8},Gf={_:Vf._+2},qf=new WeakMap,Xf=new WeakMap,Yf=new WeakMap,Kf=new WeakMap,Jf=new WeakMap,Qf=new WeakMap,$f=new WeakMap,Zf=new WeakSet;class eg extends wf{constructor(e,t,s,n,i,r){super(),Ze(this,Zf),et(this,qf,void 0),et(this,Xf,new Float32Array(4)),et(this,Yf,void 0),et(this,Kf,void 0),et(this,Jf,void 0),et(this,Qf,void 0),et(this,$f,void 0),it($f,this,e),it(Jf,this,t),it(qf,this,s),it(Qf,this,n),it(Yf,this,i),it(Kf,this,r),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],tt(Zf,this,tg).call(this,r);const[a,o,l,c]=nt(Xf,this);for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-a)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-a)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=["M".concat(nt($f,this)[4]," ").concat(nt($f,this)[5])];for(let t=6,s=nt($f,this).length;t<s;t+=6)isNaN(nt($f,this)[t])?e.push("L".concat(nt($f,this)[t+4]," ").concat(nt($f,this)[t+5])):e.push("C".concat(nt($f,this)[t]," ").concat(nt($f,this)[t+1]," ").concat(nt($f,this)[t+2]," ").concat(nt($f,this)[t+3]," ").concat(nt($f,this)[t+4]," ").concat(nt($f,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[s,n,i,r]=e;const a=i-s,o=r-n;let l,c;switch(t){case 0:l=wf._rescale(nt($f,this),s,r,a,-o),c=wf._rescale(nt(Jf,this),s,r,a,-o);break;case 90:l=wf._rescaleAndSwap(nt($f,this),s,n,a,o),c=wf._rescaleAndSwap(nt(Jf,this),s,n,a,o);break;case 180:l=wf._rescale(nt($f,this),i,n,-a,o),c=wf._rescale(nt(Jf,this),i,n,-a,o);break;case 270:l=wf._rescaleAndSwap(nt($f,this),i,r,-a,-o),c=wf._rescaleAndSwap(nt(Jf,this),i,r,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return nt(Xf,this)}newOutliner(e,t,s,n,i){return new If(e,t,s,n,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const[s,n,i,r]=nt(Xf,this),[a,o,l,c]=nt(qf,this),d=i*l,h=r*c,u=s*l+a,m=n*c+o,p=this.newOutliner({x:nt(Jf,this)[0]*d+u,y:nt(Jf,this)[1]*h+m},nt(qf,this),nt(Qf,this),e,nt(Kf,this),null!==t&&void 0!==t?t:nt(Yf,this));for(let f=2;f<nt(Jf,this).length;f+=2)p.add({x:nt(Jf,this)[f]*d+u,y:nt(Jf,this)[f+1]*h+m});return p.getOutlines()}}function tg(e){const t=nt($f,this);let s=t[4],n=t[5];const i=[s,n,s,n];let r=s,a=n,o=s,l=n;const c=e?Math.max:Math.min,d=new Float32Array(4);for(let u=6,m=t.length;u<m;u+=6){const e=t[u+4],h=t[u+5];isNaN(t[u])?(Ss.pointBoundingBox(e,h,i),a>h?(r=e,a=h):a===h&&(r=c(r,e)),l<h?(o=e,l=h):l===h&&(o=c(o,e))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,Ss.bezierBoundingBox(s,n,...t.slice(u,u+6),d),Ss.rectBoundingBox(d[0],d[1],d[2],d[3],i),a>d[1]?(r=d[0],a=d[1]):a===d[1]&&(r=c(r,d[0])),l<d[3]?(o=d[2],l=d[3]):l===d[3]&&(o=c(o,d[2]))),s=e,n=h}const h=nt(Xf,this);h[0]=i[0]-nt(Yf,this),h[1]=i[1]-nt(Yf,this),h[2]=i[2]-i[0]+2*nt(Yf,this),h[3]=i[3]-i[1]+2*nt(Yf,this),this.firstPoint=[r,a],this.lastPoint=[o,l]}var sg=new WeakMap,ng=new WeakMap,ig=new WeakMap,rg=new WeakMap,ag=new WeakMap,og=new WeakSet;class lg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Ze(this,og),et(this,sg,void 0),et(this,ng,void 0),et(this,ig,void 0),et(this,rg,[]),et(this,ag,[]);const i=[1/0,1/0,-1/0,-1/0],r=10**-4;for(const{x:p,y:f,width:g,height:x}of e){const e=Math.floor((p-t)/r)*r,s=Math.ceil((p+g+t)/r)*r,n=Math.floor((f-t)/r)*r,a=Math.ceil((f+x+t)/r)*r,o=[e,n,a,!0],l=[s,n,a,!1];nt(rg,this).push(o,l),Ss.rectBoundingBox(e,n,s,a,i)}const a=i[2]-i[0]+2*s,o=i[3]-i[1]+2*s,l=i[0]-s,c=i[1]-s;let d=n?-1/0:1/0,h=1/0;const u=nt(rg,this).at(n?-1:-2),m=[u[0],u[2]];for(const p of nt(rg,this)){const[e,t,s,i]=p;!i&&n?t<h?(h=t,d=e):t===h&&(d=Math.max(d,e)):i&&!n&&(t<h?(h=t,d=e):t===h&&(d=Math.min(d,e))),p[0]=(e-l)/a,p[1]=(t-c)/o,p[2]=(s-c)/o}it(sg,this,new Float32Array([l,c,a,o])),it(ng,this,[d,h]),it(ig,this,m)}getOutlines(){nt(rg,this).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of nt(rg,this))t[3]?(e.push(...tt(og,this,mg).call(this,t)),tt(og,this,hg).call(this,t)):(tt(og,this,ug).call(this,t),e.push(...tt(og,this,mg).call(this,t)));return tt(og,this,cg).call(this,e)}}function cg(e){const t=[],s=new Set;for(const r of e){const[e,s,n]=r;t.push([e,s,r],[e,n,r])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let r=0,a=t.length;r<a;r+=2){const e=t[r][2],n=t[r+1][2];e.push(n),n.push(e),s.add(e),s.add(n)}const n=[];let i;for(;s.size>0;){const e=s.values().next().value;let[t,r,a,o,l]=e;s.delete(e);let c=t,d=r;for(i=[t,a],n.push(i);;){let e;if(s.has(o))e=o;else{if(!s.has(l))break;e=l}s.delete(e),[t,r,a,o,l]=e,c!==t&&(i.push(c,d,t,d===r?r:a),c=t),d=d===r?a:r}i.push(c,d)}return new gg(n,nt(sg,this),nt(ng,this),nt(ig,this))}function dg(e){const t=nt(ag,this);let s=0,n=t.length-1;for(;s<=n;){const i=s+n>>1,r=t[i][0];if(r===e)return i;r<e?s=i+1:n=i-1}return n+1}function hg(e){let[,t,s]=e;const n=tt(og,this,dg).call(this,t);nt(ag,this).splice(n,0,[t,s])}function ug(e){let[,t,s]=e;const n=tt(og,this,dg).call(this,t);for(let i=n;i<nt(ag,this).length;i++){const[e,n]=nt(ag,this)[i];if(e!==t)break;if(e===t&&n===s)return void nt(ag,this).splice(i,1)}for(let i=n-1;i>=0;i--){const[e,n]=nt(ag,this)[i];if(e!==t)break;if(e===t&&n===s)return void nt(ag,this).splice(i,1)}}function mg(e){const[t,s,n]=e,i=[[t,s,n]],r=tt(og,this,dg).call(this,n);for(let a=0;a<r;a++){const[e,s]=nt(ag,this)[a];for(let n=0,r=i.length;n<r;n++){const[,a,o]=i[n];if(!(s<=a||o<=e))if(a>=e)if(o>s)i[n][1]=s;else{if(1===r)return[];i.splice(n,1),n--,r--}else i[n][2]=e,o>s&&i.push([t,s,o])}}return i}var pg=new WeakMap,fg=new WeakMap;class gg extends wf{constructor(e,t,s,n){super(),et(this,pg,void 0),et(this,fg,void 0),it(fg,this,e),it(pg,this,t),this.firstPoint=s,this.lastPoint=n}toSVGPath(){const e=[];for(const t of nt(fg,this)){let[s,n]=t;e.push("M".concat(s," ").concat(n));for(let i=2;i<t.length;i+=2){const r=t[i],a=t[i+1];r===s?(e.push("V".concat(a)),n=a):a===n&&(e.push("H".concat(r)),s=r)}e.push("Z")}return e.join(" ")}serialize(e,t){let[s,n,i,r]=e;const a=[],o=i-s,l=r-n;for(const c of nt(fg,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=s+c[t]*o,e[t+1]=r-c[t+1]*l;a.push(e)}return a}get box(){return nt(pg,this)}get classNamesForOutlining(){return["highlightOutline"]}}class xg extends If{newFreeDrawOutline(e,t,s,n,i,r){return new vg(e,t,s,n,i,r)}}class vg extends eg{newOutliner(e,t,s,n,i){return new xg(e,t,s,n,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var bg=new WeakMap,yg=new WeakMap,wg=new WeakMap,jg=new WeakMap,Ng=new WeakMap,kg=new WeakMap,Sg=new WeakMap,Ag=new WeakMap,_g=new WeakMap,Cg=new WeakMap,Eg=new WeakMap,Mg=new WeakMap,Pg=new WeakMap,Tg=new WeakMap,Rg=new WeakMap,Dg=new WeakMap,Lg=new WeakMap,Ig=new WeakMap,Fg=new WeakSet;class Og extends La{static get _keyboardManager(){const e=Og.prototype;return ms(this,"_keyboardManager",new Yn([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(Je(Je({},e),{},{name:"highlightEditor"})),Ze(this,Fg),et(this,bg,null),et(this,yg,0),et(this,wg,void 0),et(this,jg,null),et(this,Ng,null),et(this,kg,null),et(this,Sg,null),et(this,Ag,0),et(this,_g,null),et(this,Cg,null),et(this,Eg,null),et(this,Mg,!1),et(this,Pg,null),et(this,Tg,null),et(this,Rg,null),et(this,Dg,""),et(this,Lg,void 0),et(this,Ig,""),this.color=e.color||Og._defaultColor,it(Lg,this,e.thickness||Og._defaultThickness),this.opacity=e.opacity||Og._defaultOpacity,it(wg,this,e.boxes||null),it(Ig,this,e.methodOfCreation||""),it(Dg,this,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(it(Mg,this,!0),tt(Fg,this,Wg).call(this,e),tt(Fg,this,Gg).call(this)):nt(wg,this)&&(it(bg,this,e.anchorNode),it(yg,this,e.anchorOffset),it(Sg,this,e.focusNode),it(Ag,this,e.focusOffset),tt(Fg,this,Bg).call(this),tt(Fg,this,Gg).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:nt(Mg,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:nt(Lg,this),methodOfCreation:nt(Ig,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var s;La.initialize(e,t),Og._defaultColor||(Og._defaultColor=(null===(s=t.highlightColors)||void 0===s?void 0:s.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Ot.HIGHLIGHT_COLOR:Og._defaultColor=t;break;case Ot.HIGHLIGHT_THICKNESS:Og._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return nt(Tg,this)}get commentButtonPosition(){return nt(Pg,this)}updateParams(e,t){switch(e){case Ot.HIGHLIGHT_COLOR:tt(Fg,this,zg).call(this,t);break;case Ot.HIGHLIGHT_THICKNESS:tt(Fg,this,Ug).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Ot.HIGHLIGHT_COLOR,Og._defaultColor],[Ot.HIGHLIGHT_THICKNESS,Og._defaultThickness]]}get propertiesToUpdate(){return[[Ot.HIGHLIGHT_COLOR,this.color||Og._defaultColor],[Ot.HIGHLIGHT_THICKNESS,nt(Lg,this)||Og._defaultThickness],[Ot.HIGHLIGHT_FREE,nt(Mg,this)]]}onUpdatedColor(){var e,t;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Eg,this),{root:{fill:this.color,"fill-opacity":this.opacity}}),null===(t=nt(Ng,this))||void 0===t||t.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",it(Ng,this,new qu({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(tt(Fg,this,Kg).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,tt(Fg,this,Kg).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){tt(Fg,this,Vg).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(tt(Fg,this,Gg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)tt(Fg,this,Vg).call(this);else if(e){var s;tt(Fg,this,Gg).call(this,e),t=!this.parent&&(null===(s=this.div)||void 0===s?void 0:s.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let s;nt(Mg,this)?(e=(e-this.rotation+360)%360,s=qg.call(Og,nt(Cg,this).box,e)):s=qg.call(Og,[this.x,this.y,this.width,this.height],e),t.updateProperties(nt(Eg,this),{bbox:s,root:{"data-main-rotation":e}}),t.updateProperties(nt(Rg,this),{bbox:qg.call(Og,nt(kg,this).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();nt(Dg,this)&&(e.setAttribute("aria-label",nt(Dg,this)),e.setAttribute("role","mark")),nt(Mg,this)?e.classList.add("free"):this.div.addEventListener("keydown",tt(Fg,this,Xg).bind(this),{signal:this._uiManager._signal});const t=it(_g,this,document.createElement("div"));return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=nt(jg,this),this.setDims(this.width,this.height),Rn(this,nt(_g,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Rg,this),{rootClass:{hovered:!0}}))}pointerleave(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Rg,this),{rootClass:{hovered:!1}}))}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:tt(Fg,this,Yg).call(this,!0);break;case 1:case 3:tt(Fg,this,Yg).call(this,!1)}}select(){var e;super.select(),nt(Rg,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Rg,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),nt(Rg,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(nt(Rg,this),{rootClass:{selected:!1}}),nt(Mg,this)||tt(Fg,this,Yg).call(this,!1))}get _mustFixPosition(){return!nt(Mg,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(nt(Eg,this),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(nt(Rg,this),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,s){let{target:n,x:i,y:r}=s;const{x:a,y:o,width:l,height:c}=n.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),u=t=>{d.abort(),tt(Og,this,Zg).call(this,e,t)};window.addEventListener("blur",u,{signal:h}),window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("pointerdown",qs,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Gs,{signal:h}),n.addEventListener("pointermove",tt(Og,this,$g).bind(this,e),{signal:h}),this._freeHighlight=new xg({x:i,y:r},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,s){let n=null;if(e instanceof Bp){const{data:{quadPoints:t,rect:s,rotation:i,id:r,color:a,opacity:o,popupRef:l,richText:c,contentsObj:d,creationDate:h,modificationDate:u},parent:{page:{pageNumber:m}}}=e;n=e={annotationType:Ft.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:t,boxes:null,pageIndex:m-1,rect:s.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:h,modificationDate:u}}else if(e instanceof Fp){const{data:{inkLists:t,rect:s,rotation:i,id:r,color:a,borderStyle:{rawWidth:o},popupRef:l,richText:c,contentsObj:d,creationDate:h,modificationDate:u},parent:{page:{pageNumber:m}}}=e;n=e={annotationType:Ft.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:t,boxes:null,pageIndex:m-1,rect:s.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:l,richText:c,comment:(null===d||void 0===d?void 0:d.str)||null,creationDate:h,modificationDate:u}}const{color:i,quadPoints:r,inkLists:a,opacity:o}=e,l=await super.deserialize(e,t,s);l.color=Ss.makeHexColor(...i),l.opacity=o||1,a&&it(Lg,l,e.thickness),l._initialData=n,e.comment&&l.setCommentData(e);const[c,d]=l.pageDimensions,[h,u]=l.pageTranslation;if(r){const e=it(wg,l,[]);for(let t=0;t<r.length;t+=8)e.push({x:(r[t]-h)/c,y:1-(r[t+1]-u)/d,width:(r[t+2]-r[t])/c,height:(r[t+1]-r[t+5])/d});tt(Fg,l,Bg).call(l),tt(Fg,l,Gg).call(l),l.rotate(l.rotation)}else if(a){it(Mg,l,!0);const e=a[0],s={x:e[0]-h,y:d-(e[1]-u)},n=new xg(s,[0,0,c,d],1,nt(Lg,l)/2,!0,.001);for(let t=0,a=e.length;t<a;t+=2)s.x=e[t]-h,s.y=d-(e[t+1]-u),n.add(s);const{id:i,clipPathId:r}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:n.toSVGPath()}},!0,!0);tt(Fg,l,Wg).call(l,{highlightOutlines:n.getOutlines(),highlightId:i,clipPathId:r}),tt(Fg,l,Gg).call(l),l.rotate(l.parentRotation)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=La._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:t,opacity:this.opacity,thickness:nt(Lg,this),quadPoints:tt(Fg,this,Jg).call(this),outlines:tt(Fg,this,Qg).call(this,s.rect)}),this.addComment(s),this.annotationElementId&&!tt(Fg,this,ex).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}function Bg(){const e=new lg(nt(wg,this),.001);it(Cg,this,e.getOutlines()),[this.x,this.y,this.width,this.height]=nt(Cg,this).box;const t=new lg(nt(wg,this),.0025,.001,"ltr"===this._uiManager.direction);it(kg,this,t.getOutlines());const{firstPoint:s}=nt(Cg,this);it(Pg,this,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]);const{lastPoint:n}=nt(kg,this);it(Tg,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function Wg(e){let{highlightOutlines:t,highlightId:s,clipPathId:n}=e;it(Cg,this,t);if(it(kg,this,t.getNewOutline(nt(Lg,this)/2+1.5,.0025)),s>=0)it(Eg,this,s),it(jg,this,n),this.parent.drawLayer.finalizeDraw(s,{bbox:t.box,path:{d:t.toSVGPath()}}),it(Rg,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:nt(kg,this).box,path:{d:nt(kg,this).toSVGPath()}},!0));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(nt(Eg,this),{bbox:qg.call(yt,nt(Cg,this).box,(e-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(nt(Rg,this),{bbox:qg.call(yt,nt(kg,this).box,e),path:{d:nt(kg,this).toSVGPath()}})}const[i,r,a,o]=t.box;switch(this.rotation){case 0:this.x=i,this.y=r,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=r,this.y=1-i,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-r,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-r,this.y=i,this.width=a*t/e,this.height=o*e/t;break}}const{firstPoint:l}=t;it(Pg,this,[(l[0]-i)/a,(l[1]-r)/o]);const{lastPoint:c}=nt(kg,this);it(Tg,this,[(c[0]-i)/a,(c[1]-r)/o])}function zg(e){const t=(e,t)=>{this.color=e,this.opacity=t,this.onUpdatedColor()},s=this.color,n=this.opacity;this.addCommands({cmd:t.bind(this,e,yt._defaultOpacity),undo:t.bind(this,s,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}function Ug(e){const t=nt(Lg,this),s=e=>{it(Lg,this,e),tt(Fg,this,Hg).call(this,e)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ot.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function Hg(e){nt(Mg,this)&&(tt(Fg,this,Wg).call(this,{highlightOutlines:nt(Cg,this).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}function Vg(){null!==nt(Eg,this)&&this.parent&&(this.parent.drawLayer.remove(nt(Eg,this)),it(Eg,this,null),this.parent.drawLayer.remove(nt(Rg,this)),it(Rg,this,null))}function Gg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===nt(Eg,this)&&(({id:Qe(it,[Eg,this])._,clipPathId:Qe(it,[jg,this])._}=e.drawLayer.draw({bbox:nt(Cg,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:nt(Mg,this)},path:{d:nt(Cg,this).toSVGPath()}},!1,!0)),it(Rg,this,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:nt(Mg,this)},bbox:nt(kg,this).box,path:{d:nt(kg,this).toSVGPath()}},nt(Mg,this))),nt(_g,this)&&(nt(_g,this).style.clipPath=nt(jg,this)))}function qg(e,t){let[s,n,i,r]=e;switch(t){case 90:return[1-n-r,s,r,i];case 180:return[1-s-i,1-n-r,i,r];case 270:return[n,1-s-i,r,i]}return[s,n,i,r]}function Xg(e){yt._keyboardManager.exec(this,e)}function Yg(e){if(!nt(bg,this))return;const t=window.getSelection();e?t.setPosition(nt(bg,this),nt(yg,this)):t.setPosition(nt(Sg,this),nt(Ag,this))}function Kg(){return nt(Mg,this)?this.rotation:0}function Jg(){if(nt(Mg,this))return null;const[e,t]=this.pageDimensions,[s,n]=this.pageTranslation,i=nt(wg,this),r=new Float32Array(8*i.length);let a=0;for(const{x:o,y:l,width:c,height:d}of i){const i=o*e+s,h=(1-l)*t+n;r[a]=r[a+4]=i,r[a+1]=r[a+3]=h,r[a+2]=r[a+6]=i+c*e,r[a+5]=r[a+7]=h-d*t,a+=8}return r}function Qg(e){return nt(Cg,this).serialize(e,tt(Fg,this,Kg).call(this))}function $g(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function Zg(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function ex(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((e,s)=>e!==t[s])}yt=Og,Ye(Og,"_defaultColor",null),Ye(Og,"_defaultOpacity",1),Ye(Og,"_defaultThickness",12),Ye(Og,"_type","highlight"),Ye(Og,"_editorType",Ft.HIGHLIGHT),Ye(Og,"_freeHighlightId",-1),Ye(Og,"_freeHighlight",null),Ye(Og,"_freeHighlightClipId","");var tx=new WeakMap;class sx{constructor(){et(this,tx,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){nt(tx,this)[e]=t}toSVGProperties(){const e=nt(tx,this);return it(tx,this,Object.create(null)),{root:e}}reset(){it(tx,this,Object.create(null))}updateAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}clone(){cs("Not implemented")}}var nx=new WeakMap,ix=new WeakMap,rx=new WeakSet;class ax extends La{constructor(e){super(e),Ze(this,rx),et(this,nx,null),et(this,ix,void 0),Ye(this,"_colorPicker",null),Ye(this,"_drawId",null),it(ix,this,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;null===(e=this._colorPicker)||void 0===e||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(tt(rx,this,ox).call(this,e),tt(rx,this,dx).call(this))}static _mergeSVGProperties(e,t){const s=new Set(Object.keys(e));for(const[n,i]of Object.entries(t))s.has(n)?Object.assign(e[n],i):e[n]=i;return e}static getDefaultDrawingOptions(e){cs("Not implemented")}static get typesMap(){cs("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,t),this._currentParent&&(fx._.updateProperty(s,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[s,n]of this.typesMap)e.push([s,t[n]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[s,n]of this.constructor.typesMap)e.push([s,t[n]]);return e}_updateProperty(e,t,s){const n=this._drawingOptions,i=n[t],r=s=>{var i;n.updateProperty(t,s);const r=nt(nx,this).updateProperty(t,s);r&&tt(rx,this,mx).call(this,r),null===(i=this.parent)||void 0===i||i.drawLayer.updateProperties(this._drawId,n.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:r.bind(this,s),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,ax._mergeSVGProperties(nt(nx,this).getPathResizingSVGProperties(tt(rx,this,ux).call(this)),{bbox:tt(rx,this,px).call(this)}))}_onResized(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,ax._mergeSVGProperties(nt(nx,this).getPathResizedSVGProperties(tt(rx,this,ux).call(this)),{bbox:tt(rx,this,px).call(this)}))}_onTranslating(e,t){var s;null===(s=this.parent)||void 0===s||s.drawLayer.updateProperties(this._drawId,{bbox:tt(rx,this,px).call(this)})}_onTranslated(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,ax._mergeSVGProperties(nt(nx,this).getPathTranslatedSVGProperties(tt(rx,this,ux).call(this),this.parentDimensions),{bbox:tt(rx,this,px).call(this)}))}_onStartDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,nt(ix,this)&&(it(ix,this,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){tt(rx,this,cx).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(tt(rx,this,dx).call(this),tt(rx,this,mx).call(this,nt(nx,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),tt(rx,this,cx).call(this);else if(e){var s;this._uiManager.addShouldRescale(this),tt(rx,this,dx).call(this,e),t=!this.parent&&(null===(s=this.div)||void 0===s?void 0:s.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ax._mergeSVGProperties({bbox:tt(rx,this,px).call(this)},nt(nx,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&tt(rx,this,mx).call(this,nt(nx,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const s=super.render();s.classList.add("draw");const n=document.createElement("div");return s.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),s}static createDrawerInstance(e,t,s,n,i){cs("Not implemented")}static startDrawing(e,t,s,n){var i,r;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=n;if(bx._&&bx._!==d)return;const{viewport:{rotation:h}}=e,{width:u,height:m}=a.getBoundingClientRect(),p=gx._=new AbortController,f=e.combinedSignal(p);vx._||(vx._=c),null!==(i=bx._)&&void 0!==i||(bx._=d),window.addEventListener("pointerup",e=>{var t;vx._===e.pointerId?this._endDraw(e):null===(t=yx._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointercancel",e=>{var t;vx._===e.pointerId?this._currentParent.endDrawingSession():null===(t=yx._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointerdown",e=>{bx._===e.pointerType&&((yx._||(yx._=new Set)).add(e.pointerId),fx._.isCancellable()&&(fx._.removeLastElement(),fx._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Gs,{signal:f}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),a.addEventListener("touchmove",e=>{e.timeStamp===wx._&&qs(e)},{signal:f}),e.toggleDrawing(),null===(r=t._editorUndoBar)||void 0===r||r.hide(),fx._?e.drawLayer.updateProperties(this._currentDrawId,fx._.startNew(o,l,u,m,h)):(t.updateUIForDefaultProperties(this),fx._=this.createDrawerInstance(o,l,u,m,h),xx._=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(xx._.toSVGProperties(),fx._.defaultSVGProperties),!0,!1)))}static _drawMove(e){var t;if(wx._=-1,!fx._)return;const{offsetX:s,offsetY:n,pointerId:i}=e;vx._===i&&((null===(t=yx._)||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,fx._.add(s,n)),wx._=e.timeStamp,qs(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,fx._=null,xx._=null,bx._=null,wx._=NaN),gx._&&(gx._.abort(),gx._=null,vx._=NaN,yx._=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),(null===e||void 0===e?void 0:e.target)===t.div&&t.drawLayer.updateProperties(this._currentDrawId,fx._.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=fx._,s=this._currentDrawId,n=e.getLastElement();return void t.addCommands({cmd:()=>{t.drawLayer.updateProperties(s,e.setLastElement(n))},undo:()=>{t.drawLayer.updateProperties(s,e.removeLastElement())},mustExec:!1,type:Ot.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ot.DRAW_STEP),!fx._.isEmpty()){const{pageDimensions:[s,n],scale:i}=t,r=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:fx._.getOutlines(s*i,n*i,i,this._INNER_MARGIN),drawingOptions:xx._,mustBeCommitted:!e});return this._cleanup(!0),r}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,s,n,i,r){cs("Not implemented")}static async deserialize(e,t,s){const{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}=t.viewport,o=this.deserializeDraw(r,a,n,i,this._INNER_MARGIN,e),l=await super.deserialize(e,t,s);return l.createDrawingOptions(e),tt(rx,l,ox).call(l,{drawOutlines:o}),tt(rx,l,dx).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,s]=this.pageTranslation,[n,i]=this.pageDimensions;return nt(nx,this).serialize([t,s,n,i],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function ox(e){let{drawOutlines:t,drawId:s,drawingOptions:n}=e;it(nx,this,t),this._drawingOptions||(this._drawingOptions=n),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,t.defaultProperties)):this._drawId=tt(rx,this,lx).call(this,t,this.parent),tt(rx,this,mx).call(this,t.box)}function lx(e,t){const{id:s}=t.drawLayer.draw(wt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s}function cx(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function dx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=tt(rx,this,lx).call(this,nt(nx,this),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function hx(e){let[t,s,n,i]=e;const{parentDimensions:[r,a],rotation:o}=this;switch(o){case 90:return[s,1-t,n*(a/r),i*(r/a)];case 180:return[1-t,1-s,n,i];case 270:return[1-s,t,n*(a/r),i*(r/a)];default:return[t,s,n,i]}}function ux(){const{x:e,y:t,width:s,height:n,parentDimensions:[i,r],rotation:a}=this;switch(a){case 90:return[1-t,e,s*(i/r),n*(r/i)];case 180:return[1-e,1-t,s,n];case 270:return[t,1-e,s*(i/r),n*(r/i)];default:return[e,t,s,n]}}function mx(e){[this.x,this.y,this.width,this.height]=tt(rx,this,hx).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}function px(){const{x:e,y:t,width:s,height:n,rotation:i,parentRotation:r,parentDimensions:[a,o]}=this;switch((4*i+r)/90){case 1:return[1-t-n,e,n,s];case 2:return[1-e-s,1-t-n,s,n];case 3:return[t,1-e-s,n,s];case 4:return[e,t-s*(a/o),n*(o/a),s*(a/o)];case 5:return[1-t,e,s*(a/o),n*(o/a)];case 6:return[1-e-n*(o/a),1-t,n*(o/a),s*(a/o)];case 7:return[t-s*(a/o),1-e-n*(o/a),s*(a/o),n*(o/a)];case 8:return[e-s,t-n,s,n];case 9:return[1-t,e-s,n,s];case 10:return[1-e,1-t,s,n];case 11:return[t-n,1-e,n,s];case 12:return[e-n*(o/a),t,n*(o/a),s*(a/o)];case 13:return[1-t-s*(a/o),e-n*(o/a),s*(a/o),n*(o/a)];case 14:return[1-e,1-t-s*(a/o),n*(o/a),s*(a/o)];case 15:return[t,1-e,s*(a/o),n*(o/a)];default:return[e,t,s,n]}}wt=ax,Ye(ax,"_currentDrawId",-1),Ye(ax,"_currentParent",null);var fx={_:null},gx={_:null},xx={_:null},vx={_:NaN},bx={_:null},yx={_:null},wx={_:NaN};Ye(ax,"_INNER_MARGIN",3);var jx=new WeakMap,Nx=new WeakMap,kx=new WeakMap,Sx=new WeakMap,Ax=new WeakMap,_x=new WeakMap,Cx=new WeakMap,Ex=new WeakMap,Mx=new WeakMap,Px=new WeakMap,Tx=new WeakMap,Rx=new WeakSet;class Dx{constructor(e,t,s,n,i,r){Ze(this,Rx),et(this,jx,new Float64Array(6)),et(this,Nx,void 0),et(this,kx,void 0),et(this,Sx,void 0),et(this,Ax,void 0),et(this,_x,void 0),et(this,Cx,""),et(this,Ex,0),et(this,Mx,new qx),et(this,Px,void 0),et(this,Tx,void 0),it(Px,this,s),it(Tx,this,n),it(Sx,this,i),it(Ax,this,r),[e,t]=tt(Rx,this,Lx).call(this,e,t);const a=it(Nx,this,[NaN,NaN,NaN,NaN,e,t]);it(_x,this,[e,t]),it(kx,this,[{line:a,points:nt(_x,this)}]),nt(jx,this).set(a,0)}updateProperty(e,t){"stroke-width"===e&&it(Ax,this,t)}isEmpty(){return!nt(kx,this)||0===nt(kx,this).length}isCancellable(){return nt(_x,this).length<=10}add(e,t){[e,t]=tt(Rx,this,Lx).call(this,e,t);const[s,n,i,r]=nt(jx,this).subarray(2,6),a=e-i,o=t-r;return Math.hypot(nt(Px,this)*a,nt(Tx,this)*o)<=2?null:(nt(_x,this).push(e,t),isNaN(s)?(nt(jx,this).set([i,r,e,t],2),nt(Nx,this).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(nt(jx,this)[0])&&nt(Nx,this).splice(6,6),nt(jx,this).set([s,n,i,r,e,t],0),nt(Nx,this).push(...wf.createBezierPoints(s,n,i,r,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(2===nt(_x,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,n,i){it(Px,this,s),it(Tx,this,n),it(Sx,this,i),[e,t]=tt(Rx,this,Lx).call(this,e,t);const r=it(Nx,this,[NaN,NaN,NaN,NaN,e,t]);it(_x,this,[e,t]);const a=nt(kx,this).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),nt(kx,this).push({line:r,points:nt(_x,this)}),nt(jx,this).set(r,0),it(Ex,this,0),this.toSVGPath(),null}getLastElement(){return nt(kx,this).at(-1)}setLastElement(e){return nt(kx,this)?(nt(kx,this).push(e),it(Nx,this,e.line),it(_x,this,e.points),it(Ex,this,0),{path:{d:this.toSVGPath()}}):nt(Mx,this).setLastElement(e)}removeLastElement(){if(!nt(kx,this))return nt(Mx,this).removeLastElement();nt(kx,this).pop(),it(Cx,this,"");for(let e=0,t=nt(kx,this).length;e<t;e++){const{line:t,points:s}=nt(kx,this)[e];it(Nx,this,t),it(_x,this,s),it(Ex,this,0),this.toSVGPath()}return{path:{d:nt(Cx,this)}}}toSVGPath(){const e=wf.svgRound(nt(Nx,this)[4]),t=wf.svgRound(nt(Nx,this)[5]);if(2===nt(_x,this).length)return it(Cx,this,"".concat(nt(Cx,this)," M ").concat(e," ").concat(t," Z")),nt(Cx,this);if(nt(_x,this).length<=6){const s=nt(Cx,this).lastIndexOf("M");it(Cx,this,"".concat(nt(Cx,this).slice(0,s)," M ").concat(e," ").concat(t)),it(Ex,this,6)}if(4===nt(_x,this).length){const e=wf.svgRound(nt(Nx,this)[10]),t=wf.svgRound(nt(Nx,this)[11]);return it(Cx,this,"".concat(nt(Cx,this)," L ").concat(e," ").concat(t)),it(Ex,this,12),nt(Cx,this)}const s=[];0===nt(Ex,this)&&(s.push("M ".concat(e," ").concat(t)),it(Ex,this,6));for(let n=nt(Ex,this),i=nt(Nx,this).length;n<i;n+=6){const[e,t,i,r,a,o]=nt(Nx,this).slice(n,n+6).map(wf.svgRound);s.push("C".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(a," ").concat(o))}return it(Cx,this,nt(Cx,this)+s.join(" ")),it(Ex,this,nt(Nx,this).length),nt(Cx,this)}getOutlines(e,t,s,n){const i=nt(kx,this).at(-1);return i.line=new Float32Array(i.line),i.points=new Float32Array(i.points),nt(Mx,this).build(nt(kx,this),e,t,s,nt(Sx,this),nt(Ax,this),n),it(jx,this,null),it(Nx,this,null),it(kx,this,null),it(Cx,this,null),nt(Mx,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function Lx(e,t){return wf._normalizePoint(e,t,nt(Px,this),nt(Tx,this),nt(Sx,this))}var Ix=new WeakMap,Fx=new WeakMap,Ox=new WeakMap,Bx=new WeakMap,Wx=new WeakMap,zx=new WeakMap,Ux=new WeakMap,Hx=new WeakMap,Vx=new WeakMap,Gx=new WeakSet;class qx extends wf{constructor(){super(...arguments),Ze(this,Gx),et(this,Ix,void 0),et(this,Fx,0),et(this,Ox,void 0),et(this,Bx,void 0),et(this,Wx,void 0),et(this,zx,void 0),et(this,Ux,void 0),et(this,Hx,void 0),et(this,Vx,void 0)}build(e,t,s,n,i,r,a){it(Wx,this,t),it(zx,this,s),it(Ux,this,n),it(Hx,this,i),it(Vx,this,r),it(Ox,this,null!==a&&void 0!==a?a:0),it(Bx,this,e),tt(Gx,this,Kx).call(this)}get thickness(){return nt(Vx,this)}setLastElement(e){return nt(Bx,this).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return nt(Bx,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of nt(Bx,this))if(e.push("M".concat(wf.svgRound(t[4])," ").concat(wf.svgRound(t[5]))),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push("L".concat(wf.svgRound(t[10])," ").concat(wf.svgRound(t[11])));else for(let s=6,n=t.length;s<n;s+=6){const[n,i,r,a,o,l]=t.subarray(s,s+6).map(wf.svgRound);e.push("C".concat(n," ").concat(i," ").concat(r," ").concat(a," ").concat(o," ").concat(l))}else e.push("Z");return e.join("")}serialize(e,t){let[s,n,i,r]=e;const a=[],o=[],[l,c,d,h]=tt(Gx,this,Yx).call(this);let u,m,p,f,g,x,v,b,y;switch(nt(Hx,this)){case 0:y=wf._rescale,u=s,m=n+r,p=i,f=-r,g=s+l*i,x=n+(1-c-h)*r,v=s+(l+d)*i,b=n+(1-c)*r;break;case 90:y=wf._rescaleAndSwap,u=s,m=n,p=i,f=r,g=s+c*i,x=n+l*r,v=s+(c+h)*i,b=n+(l+d)*r;break;case 180:y=wf._rescale,u=s+i,m=n,p=-i,f=r,g=s+(1-l-d)*i,x=n+c*r,v=s+(1-l)*i,b=n+(c+h)*r;break;case 270:y=wf._rescaleAndSwap,u=s+i,m=n+r,p=-i,f=-r,g=s+(1-c-h)*i,x=n+(1-l-d)*r,v=s+(1-c)*i,b=n+(1-l)*r}for(const{line:w,points:j}of nt(Bx,this))a.push(y(w,u,m,p,f,t?new Array(w.length):null)),o.push(y(j,u,m,p,f,t?new Array(j.length):null));return{lines:a,points:o,rect:[g,x,v,b]}}static deserialize(e,t,s,n,i,r){let{paths:{lines:a,points:o},rotation:l,thickness:c}=r;const d=[];let h,u,m,p,f;switch(l){case 0:f=wf._rescale,h=-e/s,u=t/n+1,m=1/s,p=-1/n;break;case 90:f=wf._rescaleAndSwap,h=-t/n,u=-e/s,m=1/n,p=1/s;break;case 180:f=wf._rescale,h=e/s+1,u=-t/n,m=-1/s,p=1/n;break;case 270:f=wf._rescaleAndSwap,h=t/n+1,u=e/s+1,m=-1/n,p=-1/s}if(!a){a=[];for(const e of o){const t=e.length;if(2===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const s=new Float32Array(3*(t-2));a.push(s);let[n,i,r,o]=e.subarray(0,4);s.set([NaN,NaN,NaN,NaN,n,i],0);for(let a=4;a<t;a+=2){const t=e[a],l=e[a+1];s.set(wf.createBezierPoints(n,i,r,o,t,l),3*(a-2)),[n,i,r,o]=[r,o,t,l]}}}for(let x=0,v=a.length;x<v;x++)d.push({line:f(a[x].map(e=>null!==e&&void 0!==e?e:NaN),h,u,m,p),points:f(o[x].map(e=>null!==e&&void 0!==e?e:NaN),h,u,m,p)});const g=new this.prototype.constructor;return g.build(d,s,n,1,l,c,i),g}get box(){return nt(Ix,this)}updateProperty(e,t){return"stroke-width"===e?tt(Gx,this,Jx).call(this,t):null}updateParentDimensions(e,t){let[s,n]=e;const[i,r]=tt(Gx,this,Xx).call(this);it(Wx,this,s),it(zx,this,n),it(Ux,this,t);const[a,o]=tt(Gx,this,Xx).call(this),l=a-i,c=o-r,d=nt(Ix,this);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return it(Fx,this,e),{path:{transform:this.rotationTransform}}}get viewBox(){return nt(Ix,this).map(wf.svgRound).join(" ")}get defaultProperties(){const[e,t]=nt(Ix,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(wf.svgRound(e)," ").concat(wf.svgRound(t))}}}get rotationTransform(){const[,,e,t]=nt(Ix,this);let s=0,n=0,i=0,r=0,a=0,o=0;switch(nt(Fx,this)){case 90:n=t/e,i=-e/t,a=e;break;case 180:s=-1,r=-1,a=e,o=t;break;case 270:n=-t/e,i=e/t,o=t;break;default:return""}return"matrix(".concat(s," ").concat(n," ").concat(i," ").concat(r," ").concat(wf.svgRound(a)," ").concat(wf.svgRound(o),")")}getPathResizingSVGProperties(e){let[t,s,n,i]=e;const[r,a]=tt(Gx,this,Xx).call(this),[o,l,c,d]=nt(Ix,this);if(Math.abs(c-r)<=wf.PRECISION||Math.abs(d-a)<=wf.PRECISION){const e=t+n/2-(o+c/2),r=s+i/2-(l+d/2);return{path:{"transform-origin":"".concat(wf.svgRound(t)," ").concat(wf.svgRound(s)),transform:"".concat(this.rotationTransform," translate(").concat(e," ").concat(r,")")}}}const h=(n-2*r)/(c-2*r),u=(i-2*a)/(d-2*a),m=c/n,p=d/i;return{path:{"transform-origin":"".concat(wf.svgRound(o)," ").concat(wf.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(m," ").concat(p,") ")+"translate(".concat(wf.svgRound(r)," ").concat(wf.svgRound(a),") scale(").concat(h," ").concat(u,") ")+"translate(".concat(wf.svgRound(-r)," ").concat(wf.svgRound(-a),")")}}}getPathResizedSVGProperties(e){let[t,s,n,i]=e;const[r,a]=tt(Gx,this,Xx).call(this),o=nt(Ix,this),[l,c,d,h]=o;if(o[0]=t,o[1]=s,o[2]=n,o[3]=i,Math.abs(d-r)<=wf.PRECISION||Math.abs(h-a)<=wf.PRECISION){const e=t+n/2-(l+d/2),r=s+i/2-(c+h/2);for(const{line:t,points:s}of nt(Bx,this))wf._translate(t,e,r,t),wf._translate(s,e,r,s);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(wf.svgRound(t)," ").concat(wf.svgRound(s)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const u=(n-2*r)/(d-2*r),m=(i-2*a)/(h-2*a),p=-u*(l+r)+t+r,f=-m*(c+a)+s+a;if(1!==u||1!==m||0!==p||0!==f)for(const{line:g,points:x}of nt(Bx,this))wf._rescale(g,p,f,u,m,g),wf._rescale(x,p,f,u,m,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(wf.svgRound(t)," ").concat(wf.svgRound(s)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(e,t){let[s,n]=e;const[i,r]=t,a=nt(Ix,this),o=s-a[0],l=n-a[1];if(nt(Wx,this)===i&&nt(zx,this)===r)for(const{line:c,points:d}of nt(Bx,this))wf._translate(c,o,l,c),wf._translate(d,o,l,d);else{const e=nt(Wx,this)/i,t=nt(zx,this)/r;it(Wx,this,i),it(zx,this,r);for(const{line:s,points:n}of nt(Bx,this))wf._rescale(s,o,l,e,t,s),wf._rescale(n,o,l,e,t,n);a[2]*=e,a[3]*=t}return a[0]=s,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(wf.svgRound(s)," ").concat(wf.svgRound(n))}}}get defaultSVGProperties(){const e=nt(Ix,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(wf.svgRound(e[0])," ").concat(wf.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}function Xx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(Vx,this);const t=nt(Ox,this)+e/2*nt(Ux,this);return nt(Hx,this)%180===0?[t/nt(Wx,this),t/nt(zx,this)]:[t/nt(zx,this),t/nt(Wx,this)]}function Yx(){const[e,t,s,n]=nt(Ix,this),[i,r]=tt(Gx,this,Xx).call(this,0);return[e+i,t+r,s-2*i,n-2*r]}function Kx(){const e=it(Ix,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:n}of nt(Bx,this)){if(n.length<=12){for(let t=4,s=n.length;t<s;t+=6)Ss.pointBoundingBox(n[t],n[t+1],e);continue}let t=n[4],s=n[5];for(let i=6,r=n.length;i<r;i+=6){const[r,a,o,l,c,d]=n.subarray(i,i+6);Ss.bezierBoundingBox(t,s,r,a,o,l,c,d,e),t=c,s=d}}const[t,s]=tt(Gx,this,Xx).call(this);e[0]=Ts(e[0]-t,0,1),e[1]=Ts(e[1]-s,0,1),e[2]=Ts(e[2]+t,0,1),e[3]=Ts(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]}function Jx(e){const[t,s]=tt(Gx,this,Xx).call(this);it(Vx,this,e);const[n,i]=tt(Gx,this,Xx).call(this),[r,a]=[n-t,i-s],o=nt(Ix,this);return o[0]-=r,o[1]-=a,o[2]+=2*r,o[3]+=2*a,o}class Qx extends sx{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:La._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!==t&&void 0!==t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Qx(this._viewParameters);return e.updateAll(this),e}}var $x=new WeakSet;class Zx extends ax{constructor(e){super(Je(Je({},e),{},{name:"inkEditor"})),Ze(this,$x),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){La.initialize(e,t),this._defaultDrawingOptions=new Qx(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return ms(this,"typesMap",new Map([[Ot.INK_THICKNESS,"stroke-width"],[Ot.INK_COLOR,"stroke"],[Ot.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,s,n,i){return new Dx(e,t,s,n,i,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,s,n,i,r){return qx.deserialize(e,t,s,n,i,r)}static async deserialize(e,t,s){let n=null;if(e instanceof Fp){const{data:{inkLists:t,rect:s,rotation:i,id:r,color:a,opacity:o,borderStyle:{rawWidth:l},popupRef:c,richText:d,contentsObj:h,creationDate:u,modificationDate:m},parent:{page:{pageNumber:p}}}=e;n=e={annotationType:Ft.INK,color:Array.from(a),thickness:l,opacity:o,paths:{points:t},boxes:null,pageIndex:p-1,rect:s.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:c,richText:d,comment:(null===h||void 0===h?void 0:h.str)||null,creationDate:u,modificationDate:m}}const i=await super.deserialize(e,t,s);return i._initialData=n,e.comment&&i.setCommentData(e),i}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new nm(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ot.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:s}=this;t.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(e){let{color:t,thickness:s,opacity:n}=e;this._drawingOptions=Zx.getDefaultDrawingOptions({stroke:Ss.makeHexColor(...t),"stroke-width":s,"stroke-opacity":n})}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:n,"stroke-opacity":i,"stroke-width":r}}=this,a=Object.assign(super.serialize(e),{color:La._colorManager.convert(n),opacity:i,thickness:r,paths:{lines:t,points:s}});return this.addComment(a),e?(a.isCopy=!0,a):this.annotationElementId&&!tt($x,this,ev).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}function ev(e){const{color:t,thickness:s,opacity:n,pageIndex:i}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((e,s)=>e!==t[s])||e.thickness!==s||e.opacity!==n||e.pageIndex!==i}Ye(Zx,"_type","ink"),Ye(Zx,"_editorType",Ft.INK),Ye(Zx,"_defaultDrawingOptions",null);class tv extends qx{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class sv{static extractContoursFromText(e,t,s,n,i,r){let{fontFamily:a,fontStyle:o,fontWeight:l}=t,c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=d.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(a),{actualBoundingBoxLeft:u,actualBoundingBoxRight:m,actualBoundingBoxAscent:p,actualBoundingBoxDescent:f,fontBoundingBoxAscent:g,fontBoundingBoxDescent:x,width:v}=d.measureText(e),b=1.5,y=Math.ceil(Math.max(Math.abs(u)+Math.abs(m)||0,v)*b),w=Math.ceil(Math.max(Math.abs(p)+Math.abs(f)||200,Math.abs(g)+Math.abs(x)||200)*b);c=new OffscreenCanvas(y,w),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=h,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,y,w),d.fillStyle="black",d.fillText(e,.5*y/2,1.5*w/2);const j=tt(sv,this,hv).call(this,d.getImageData(0,0,y,w).data),N=tt(sv,this,dv).call(this,j),k=tt(sv,this,uv).call(this,N),S=tt(sv,this,av).call(this,j,y,w,k);return this.processDrawnLines({lines:{curves:S,width:y,height:w},pageWidth:s,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static process(e,t,s,n,i){const[r,a,o]=tt(sv,this,mv).call(this,e),[l,c]=tt(sv,this,cv).call(this,r,a,o,Math.hypot(a,o)*tt(sv,this,pv)._.sigmaSFactor,tt(sv,this,pv)._.sigmaR,tt(sv,this,pv)._.kernelSize),d=tt(sv,this,uv).call(this,c),h=tt(sv,this,av).call(this,l,a,o,d);return this.processDrawnLines({lines:{curves:h,width:a,height:o},pageWidth:t,pageHeight:s,rotation:n,innerMargin:i,mustSmooth:!0,areContours:!0})}static processDrawnLines(e){var t;let{lines:s,pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:o,areContours:l}=e;r%180!==0&&([n,i]=[i,n]);const{curves:c,width:d,height:h}=s,u=null!==(t=s.thickness)&&void 0!==t?t:0,m=[],p=Math.min(n/d,i/h),f=p/n,g=p/i,x=[];for(const{points:b}of c){const e=o?tt(sv,this,lv).call(this,b):b;if(!e)continue;x.push(e);const t=e.length,s=new Float32Array(t),n=new Float32Array(3*(2===t?2:t-2));if(m.push({line:n,points:s}),2===t){s[0]=e[0]*f,s[1]=e[1]*g,n.set([NaN,NaN,NaN,NaN,s[0],s[1]],0);continue}let[i,r,a,l]=e;i*=f,r*=g,a*=f,l*=g,s.set([i,r,a,l],0),n.set([NaN,NaN,NaN,NaN,i,r],0);for(let o=4;o<t;o+=2){const t=s[o]=e[o]*f,c=s[o+1]=e[o+1]*g;n.set(wf.createBezierPoints(i,r,a,l,t,c),3*(o-2)),[i,r,a,l]=[a,l,t,c]}}if(0===m.length)return null;const v=l?new tv:new qx;return v.build(m,n,i,1,r,l?0:u,a),{outline:v,newCurves:x,areContours:l,thickness:u,width:d,height:h}}static async compressSignature(e){let t,{outlines:s,areContours:n,thickness:i,width:r,height:a}=e,o=1/0,l=-1/0,c=0;for(const v of s){c+=v.length;for(let e=2,t=v.length;e<t;e++){const t=v[e]-v[e-2];o=Math.min(o,t),l=Math.max(l,t)}}t=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const d=s.length,h=8+3*d,u=new Uint32Array(h);let m=0;u[m++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*t.BYTES_PER_ELEMENT,u[m++]=0,u[m++]=r,u[m++]=a,u[m++]=n?0:1,u[m++]=Math.max(0,Math.floor(null!==i&&void 0!==i?i:0)),u[m++]=d,u[m++]=t.BYTES_PER_ELEMENT;for(const v of s)u[m++]=v.length-2,u[m++]=v[0],u[m++]=v[1];const p=new CompressionStream("deflate-raw"),f=p.writable.getWriter();await f.ready,f.write(u);const g=t.prototype.constructor;for(const v of s){const e=new g(v.length-2);for(let t=2,s=v.length;t<s;t++)e[t-2]=v[t]-v[t-2];f.write(e)}f.close();const x=await new Response(p.readable).arrayBuffer();return Rs(new Uint8Array(x))}static async decompressSignature(e){try{const l=(a=e,Uint8Array.fromBase64?Uint8Array.fromBase64(a):js(atob(a))),{readable:c,writable:d}=new DecompressionStream("deflate-raw"),h=d.getWriter();await h.ready,h.write(l).then(async()=>{await h.ready,await h.close()}).catch(()=>{});let u=null,m=0;var t,s=!1,n=!1;try{for(var i,r=function(e){var t,s,n,i=2;for("undefined"!=typeof Symbol&&(s=Symbol.asyncIterator,n=Symbol.iterator);i--;){if(s&&null!=(t=e[s]))return t.call(e);if(n&&null!=(t=e[n]))return new rt(t.call(e));s="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}(c);s=!(i=await r.next()).done;s=!1){const e=i.value;u||(u=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),u.set(e,m),m+=e.length}}catch(o){n=!0,t=o}finally{try{s&&null!=r.return&&await r.return()}finally{if(n)throw t}}const p=new Uint32Array(u.buffer,0,u.length>>2),f=p[1];if(0!==f)throw new Error("Invalid version: ".concat(f));const g=p[2],x=p[3],v=0===p[4],b=p[5],y=p[6],w=p[7],j=[],N=(8+3*y)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(w){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(u.buffer,N);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(u.buffer,N);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(u.buffer,N)}m=0;for(let e=0;e<y;e++){const t=p[3*e+8],s=new Float32Array(t+2);j.push(s);for(let n=0;n<2;n++)s[n]=p[3*e+8+n+1];for(let e=0;e<t;e++)s[e+2]=s[e]+k[m++]}return{areContours:v,thickness:b,outlines:j,width:g,height:x}}catch(Gy){return ls("decompressSignature: ".concat(Gy)),null}var a}}function nv(e,t,s,n){return n-=t,0===(s-=e)?n>0?0:4:1===s?n+6:2-n}function iv(e,t,s,n,i,r,a){const o=tt(jt,this,nv).call(this,s,n,i,r);for(let l=0;l<8;l++){const i=(-l+o-a+16)%8;if(0!==e[(s+tt(jt,this,fv)._[2*i])*t+(n+tt(jt,this,fv)._[2*i+1])])return i}return-1}function rv(e,t,s,n,i,r,a){const o=tt(jt,this,nv).call(this,s,n,i,r);for(let l=0;l<8;l++){const i=(l+o+a+16)%8;if(0!==e[(s+tt(jt,this,fv)._[2*i])*t+(n+tt(jt,this,fv)._[2*i+1])])return i}return-1}function av(e,t,s,n){const i=e.length,r=new Int32Array(i);for(let c=0;c<i;c++)r[c]=e[c]<=n?1:0;for(let c=1;c<s-1;c++)r[c*t]=r[c*t+t-1]=0;for(let c=0;c<t;c++)r[c]=r[t*s-1-c]=0;let a,o=1;const l=[];for(let c=1;c<s-1;c++){a=1;for(let e=1;e<t-1;e++){const s=c*t+e,n=r[s];if(0===n)continue;let i=c,d=e;if(1===n&&0===r[s-1])o+=1,d-=1;else{if(!(n>=1&&0===r[s+1])){1!==n&&(a=Math.abs(n));continue}o+=1,d+=1,n>1&&(a=n)}const h=[e,c],u=d===e+1,m={isHole:u,points:h,id:o,parent:0};let p;l.push(m);for(const e of l)if(e.id===a){p=e;break}p?p.isHole?m.parent=u?p.parent:a:m.parent=u?a:p.parent:m.parent=u?a:0;const f=tt(jt,this,iv).call(this,r,t,c,e,i,d,0);if(-1===f){r[s]=-o,1!==r[s]&&(a=Math.abs(r[s]));continue}let g=tt(jt,this,fv)._[2*f],x=tt(jt,this,fv)._[2*f+1];const v=c+g,b=e+x;i=v,d=b;let y=c,w=e;for(;;){const n=tt(jt,this,rv).call(this,r,t,y,w,i,d,1);g=tt(jt,this,fv)._[2*n],x=tt(jt,this,fv)._[2*n+1];const l=y+g,u=w+x;h.push(u,l);const m=y*t+w;if(0===r[m+1]?r[m]=-o:1===r[m]&&(r[m]=o),l===c&&u===e&&y===v&&w===b){1!==r[s]&&(a=Math.abs(r[s]));break}i=y,d=w,y=l,w=u}}}return l}function ov(e,t,s,n){if(s-t<=4){for(let i=t;i<s-2;i+=2)n.push(e[i],e[i+1]);return}const i=e[t],r=e[t+1],a=e[s-4]-i,o=e[s-3]-r,l=Math.hypot(a,o),c=a/l,d=o/l,h=c*r-d*i,u=o/a,m=1/l,p=Math.atan(u),f=Math.cos(p),g=Math.sin(p),x=m*(Math.abs(f)+Math.abs(g)),v=m*(1-x+x**2),b=Math.max(Math.atan(Math.abs(g+f)*v),Math.atan(Math.abs(g-f)*v));let y=0,w=t;for(let j=t+2;j<s-2;j+=2){const t=Math.abs(h-c*e[j+1]+d*e[j]);t>y&&(w=j,y=t)}y>(l*b)**2?(tt(jt,this,ov).call(this,e,t,w+2,n),tt(jt,this,ov).call(this,e,w,s,n)):n.push(i,r)}function lv(e){const t=[],s=e.length;return tt(jt,this,ov).call(this,e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t}function cv(e,t,s,n,i,r){const a=new Float32Array(r**2),o=-2*n**2,l=r>>1;for(let p=0;p<r;p++){const e=(p-l)**2;for(let t=0;t<r;t++)a[p*r+t]=Math.exp((e+(t-l)**2)/o)}const c=new Float32Array(256),d=-2*i**2;for(let p=0;p<256;p++)c[p]=Math.exp(p**2/d);const h=e.length,u=new Uint8Array(h),m=new Uint32Array(256);for(let p=0;p<s;p++)for(let n=0;n<t;n++){const i=p*t+n,o=e[i];let d=0,h=0;for(let u=0;u<r;u++){const i=p+u-l;if(!(i<0||i>=s))for(let s=0;s<r;s++){const m=n+s-l;if(m<0||m>=t)continue;const p=e[i*t+m],f=a[u*r+s]*c[Math.abs(p-o)];d+=p*f,h+=f}}m[u[i]=Math.round(d/h)]++}return[u,m]}function dv(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t}function hv(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let n=-1/0,i=1/0;for(let a=0,o=s.length;a<o;a++){const t=s[a]=e[a<<2];n=Math.max(n,t),i=Math.min(i,t)}const r=255/(n-i);for(let a=0,o=s.length;a<o;a++)s[a]=(s[a]-i)*r;return s}function uv(e){let t,s=-1/0,n=-1/0;const i=e.findIndex(e=>0!==e);let r=i,a=i;for(t=i;t<256;t++){const i=e[t];i>s&&(t-r>n&&(n=t-r,a=t-1),s=i,r=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t}function mv(e){const t=e,{width:s,height:n}=e,{maxDim:i}=tt(jt,this,pv)._;let r=s,a=n;if(s>i||n>i){let o=s,l=n,c=Math.log2(Math.max(s,n)/i);const d=Math.floor(c);c=c===d?d-1:d;for(let s=0;s<c;s++){r=Math.ceil(o/2),a=Math.ceil(l/2);const s=new OffscreenCanvas(r,a);s.getContext("2d").drawImage(e,0,0,o,l,0,0,r,a),o=r,l=a,e!==t&&e.close(),e=s.transferToImageBitmap()}const h=Math.min(i/r,i/a);r=Math.round(r*h),a=Math.round(a*h)}const o=new OffscreenCanvas(r,a).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,r,a),o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,r,a);const l=o.getImageData(0,0,r,a).data;return[tt(jt,this,hv).call(this,l),r,a]}jt=sv;var pv={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},fv={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class gv extends sx{constructor(){super(),super.updateProperties({fill:La._defaultLineColor,"stroke-width":0})}clone(){const e=new gv;return e.updateAll(this),e}}class xv extends Qx{constructor(e){super(e),super.updateProperties({stroke:La._defaultLineColor,"stroke-width":1})}clone(){const e=new xv(this._viewParameters);return e.updateAll(this),e}}var vv=new WeakMap,bv=new WeakMap,yv=new WeakMap,wv=new WeakMap;class jv extends ax{constructor(e){super(Je(Je({},e),{},{mustBeCommitted:!0,name:"signatureEditor"})),et(this,vv,!1),et(this,bv,null),et(this,yv,null),et(this,wv,null),this._willKeepAspectRatio=!0,it(yv,this,e.signatureData||null),it(bv,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){La.initialize(e,t),this._defaultDrawingOptions=new gv,this._defaultDrawnSignatureOptions=new xv(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return ms(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!nt(bv,this)}}static computeTelemetryFinalData(e){var t,s;const n=e.get("hasDescription");return{hasAltText:null!==(t=n.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(s=n.get(!1))&&void 0!==s?s:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(nt(yv,this)){const{lines:e,mustSmooth:t,areContours:s,description:n,uuid:i,heightInPage:r}=nt(yv,this),{rawDims:{pageWidth:a,pageHeight:o},rotation:l}=this.parent.viewport,c=sv.processDrawnLines({lines:e,pageWidth:a,pageHeight:o,rotation:l,innerMargin:jv._INNER_MARGIN,mustSmooth:t,areContours:s});this.addSignature(c,r,n,i)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:nt(bv,this)||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){it(wv,this,e),this.addEditToolbar()}getUuid(){return nt(wv,this)}get description(){return nt(bv,this)}set description(e){it(bv,this,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{null===t||void 0===t||t.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:s,width:n,height:i}=nt(yv,this),r=Math.max(n,i);return{areContours:t,outline:sv.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:s,width:n,height:i},pageWidth:r,pageHeight:r,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,s,n){const{x:i,y:r}=this,{outline:a}=it(yv,this,e);let o;it(vv,this,a instanceof tv),this.description=s,nt(vv,this)?o=jv.getDefaultDrawingOptions():(o=jv._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":a.thickness})),this._addOutlines({drawOutlines:a,drawingOptions:o});const[,l]=this.pageDimensions;let c=t/l;c=c>=1?.5:c,this.width*=c/this.height,this.width>=1&&(c*=.9/this.width,this.width=.9),this.height=c,this.setDims(),this.x=i,this.y=r,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(n),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!n,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:n}=this.parent.viewport;return sv.process(e,t,s,n,jv._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:s,pageHeight:n},rotation:i}=this.parent.viewport;return sv.extractContoursFromText(e,t,s,n,i,jv._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:n}=this.parent.viewport;return sv.processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:n,innerMargin:jv._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(e){let{areContours:t,thickness:s}=e;t?this._drawingOptions=jv.getDefaultDrawingOptions():(this._drawingOptions=jv._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":n}}=this,i=Object.assign(super.serialize(e),{isSignature:!0,areContours:nt(vv,this),color:[0,0,0],thickness:nt(vv,this)?0:n});return this.addComment(i),e?(i.paths={lines:t,points:s},i.uuid=nt(wv,this),i.isCopy=!0):i.lines=t,nt(bv,this)&&(i.accessibilityData={type:"Figure",alt:nt(bv,this)}),i}static deserializeDraw(e,t,s,n,i,r){return r.areContours?tv.deserialize(e,t,s,n,i,r):qx.deserialize(e,t,s,n,i,r)}static async deserialize(e,t,s){var n;const i=await super.deserialize(e,t,s);return it(vv,i,e.areContours),i.description=(null===(n=e.accessibilityData)||void 0===n?void 0:n.alt)||"",it(wv,i,e.uuid),i}}Ye(jv,"_type","signature"),Ye(jv,"_editorType",Ft.SIGNATURE),Ye(jv,"_defaultDrawingOptions",null);var Nv=new WeakMap,kv=new WeakMap,Sv=new WeakMap,Av=new WeakMap,_v=new WeakMap,Cv=new WeakMap,Ev=new WeakMap,Mv=new WeakMap,Pv=new WeakMap,Tv=new WeakMap,Rv=new WeakMap,Dv=new WeakSet;class Lv extends La{constructor(e){super(Je(Je({},e),{},{name:"stampEditor"})),Ze(this,Dv),et(this,Nv,null),et(this,kv,null),et(this,Sv,null),et(this,Av,null),et(this,_v,null),et(this,Cv,""),et(this,Ev,null),et(this,Mv,!1),et(this,Pv,null),et(this,Tv,!1),et(this,Rv,!1),it(Av,this,e.bitmapUrl),it(_v,this,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){La.initialize(e,t)}static isHandlingMimeForPasting(e){return en.includes(e)}static paste(e,t){t.pasteEditor({mode:Ft.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,s;const n=e.get("hasAltText");return{hasAltText:null!==(t=n.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(s=n.get(!1))&&void 0!==s?s:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:n,width:i,height:r}=e||this.copyCanvas(null,null,!0).imageData,a=await s.guess({name:"altText",request:{data:n,width:i,height:r,channels:n.length/(i*r)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;nt(kv,this)&&(it(Nv,this,null),this._uiManager.imageManager.deleteId(nt(kv,this)),null===(e=nt(Ev,this))||void 0===e||e.remove(),it(Ev,this,null),nt(Pv,this)&&(clearTimeout(nt(Pv,this)),it(Pv,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(nt(kv,this)&&null===nt(Ev,this)&&tt(Dv,this,Ov).call(this),this.isAttachedToDOM||this.parent.add(this))):nt(kv,this)&&tt(Dv,this,Ov).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(nt(Sv,this)||nt(Nv,this)||nt(Av,this)||nt(_v,this)||nt(kv,this)||nt(Mv,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),nt(Mv,this)||(nt(Nv,this)?tt(Dv,this,Bv).call(this):tt(Dv,this,Ov).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:s,bitmap:n}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(it(kv,this,s),n&&it(Nv,this,n),it(Mv,this,!1),tt(Dv,this,Bv).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==nt(Pv,this)&&clearTimeout(nt(Pv,this));it(Pv,this,setTimeout(()=>{it(Pv,this,null),tt(Dv,this,zv).call(this)},200))}copyCanvas(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:n,height:i}=nt(Nv,this),r=new Zs;let a=nt(Nv,this),o=n,l=i,c=null;if(t){if(n>t||i>t){const e=Math.min(t/n,t/i);o=Math.floor(n*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*r.sx),s=c.height=Math.ceil(l*r.sy);nt(Tv,this)||(a=tt(Dv,this,Wv).call(this,e,s));const d=c.getContext("2d");d.filter=this._uiManager.hcmFilter;let h="white",u="#cfcfd8";"none"!==this._uiManager.hcmFilter?u="black":tn.isDarkMode&&(h="#8f8f9d",u="#42414d");const m=15,p=m*r.sx,f=m*r.sy,g=new OffscreenCanvas(2*p,2*f),x=g.getContext("2d");x.fillStyle=h,x.fillRect(0,0,2*p,2*f),x.fillStyle=u,x.fillRect(0,0,p,f),x.fillRect(p,f,p,f),d.fillStyle=d.createPattern(g,"repeat"),d.fillRect(0,0,e,s),d.drawImage(a,0,0,a.width,a.height,0,0,e,s)}let d=null;if(s){let t,s;if(r.symmetric&&a.width<e&&a.height<e)t=a.width,s=a.height;else if(a=nt(Nv,this),n>e||i>e){const r=Math.min(e/n,e/i);t=Math.floor(n*r),s=Math.floor(i*r),nt(Tv,this)||(a=tt(Dv,this,Wv).call(this,t,s))}const o=new OffscreenCanvas(t,s).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,t,s),d={width:t,height:s,data:o.getImageData(0,0,t,s).data}}return{canvas:c,width:o,height:l,imageData:d}}static async deserialize(e,t,s){let n=null,i=!1;if(e instanceof Hp){var r;const{data:{rect:a,rotation:o,id:l,structParent:c,popupRef:d,richText:h,contentsObj:u,creationDate:m,modificationDate:p},container:f,parent:{page:{pageNumber:g}},canvas:x}=e;let v,b;x?(delete e.canvas,({id:v,bitmap:b}=s.imageManager.getFromCanvas(f.id,x)),x.remove()):(i=!0,e._hasNoCanvas=!0);const y=(null===(r=await t._structTree.getAriaAttributes("".concat(Ps).concat(l)))||void 0===r?void 0:r.get("aria-label"))||"";n=e={annotationType:Ft.STAMP,bitmapId:v,bitmap:b,pageIndex:g-1,rect:a.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:y},isSvg:!1,structParent:c,popupRef:d,richText:h,comment:(null===u||void 0===u?void 0:u.str)||null,creationDate:m,modificationDate:p}}const a=await super.deserialize(e,t,s),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:u}=e;i?(s.addMissingCanvas(e.id,a),it(Mv,a,!0)):d&&s.imageManager.isValidId(d)?(it(kv,a,d),l&&it(Nv,a,l)):it(Av,a,c),it(Tv,a,h);const[m,p]=a.pageDimensions;return a.width=(o[2]-o[0])/m,a.height=(o[3]-o[1])/p,u&&(a.altTextData=u),a._initialData=n,e.comment&&a.setCommentData(e),it(Rv,a,!!n),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:nt(kv,this),isSvg:nt(Tv,this)});if(this.addComment(s),e)return s.bitmapUrl=tt(Dv,this,Uv).call(this,!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:n,altText:i}=this.serializeAltText(!1);if(!n&&i&&(s.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=tt(Dv,this,Hv).call(this,s);if(e.isSame)return null;var r;if(e.isSameAltText)delete s.accessibilityData;else s.accessibilityData.structParent=null!==(r=this._initialData.structParent)&&void 0!==r?r:-1;return s.id=this.annotationElementId,delete s.bitmapId,s}if(null===t)return s;t.stamps||(t.stamps=new Map);const a=nt(Tv,this)?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(t.stamps.has(nt(kv,this))){if(nt(Tv,this)){const e=t.stamps.get(nt(kv,this));a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=tt(Dv,this,Uv).call(this,!1))}}else t.stamps.set(nt(kv,this),{area:a,serialized:s}),s.bitmap=tt(Dv,this,Uv).call(this,!1);return s}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}function Iv(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(it(Nv,this,e.bitmap),t||(it(kv,this,e.id),it(Tv,this,e.isSvg)),e.file&&it(Cv,this,e.file.name),tt(Dv,this,Bv).call(this)):this.remove()}function Fv(){if(it(Sv,this,null),this._uiManager.enableWaiting(!1),nt(Ev,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&nt(Nv,this))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&nt(Nv,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function Ov(){if(nt(kv,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(nt(kv,this)).then(e=>tt(Dv,this,Iv).call(this,e,!0)).finally(()=>tt(Dv,this,Fv).call(this));if(nt(Av,this)){const e=nt(Av,this);return it(Av,this,null),this._uiManager.enableWaiting(!0),void it(Sv,this,this._uiManager.imageManager.getFromUrl(e).then(e=>tt(Dv,this,Iv).call(this,e)).finally(()=>tt(Dv,this,Fv).call(this)))}if(nt(_v,this)){const e=nt(_v,this);return it(_v,this,null),this._uiManager.enableWaiting(!0),void it(Sv,this,this._uiManager.imageManager.getFromFile(e).then(e=>tt(Dv,this,Iv).call(this,e)).finally(()=>tt(Dv,this,Fv).call(this)))}const e=document.createElement("input");e.type="file",e.accept=en.join(",");const t=this._uiManager._signal;it(Sv,this,new Promise(s=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),tt(Dv,this,Iv).call(this,t)}else this.remove();s()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:t})}).finally(()=>tt(Dv,this,Fv).call(this))),e.click()}function Bv(){var e;const{div:t}=this;let{width:s,height:n}=nt(Nv,this);const[i,r]=this.pageDimensions,a=.75;if(this.width)s=this.width*i,n=this.height*r;else if(s>a*i||n>a*r){const e=Math.min(a*i/s,a*r/n);s*=e,n*=e}this._uiManager.enableWaiting(!1);const o=it(Ev,this,document.createElement("canvas"));o.setAttribute("role","img"),this.addContainer(o),this.width=s/i,this.height=n/r,this.setDims(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),tt(Dv,this,zv).call(this),nt(Rv,this)||(this.parent.addUndoableEditor(this),it(Rv,this,!0)),this._reportTelemetry({action:"inserted_image"}),nt(Cv,this)&&this.div.setAttribute("aria-description",nt(Cv,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function Wv(e,t){const{width:s,height:n}=nt(Nv,this);let i=s,r=n,a=nt(Nv,this);for(;i>2*e||r>2*t;){const s=i,n=r;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));const o=new OffscreenCanvas(i,r);o.getContext("2d").drawImage(a,0,0,s,n,0,0,i,r),a=o.transferToImageBitmap()}return a}function zv(){const[e,t]=this.parentDimensions,{width:s,height:n}=this,i=new Zs,r=Math.ceil(s*e*i.sx),a=Math.ceil(n*t*i.sy),o=nt(Ev,this);if(!o||o.width===r&&o.height===a)return;o.width=r,o.height=a;const l=nt(Tv,this)?nt(Nv,this):tt(Dv,this,Wv).call(this,r,a),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,r,a)}function Uv(e){if(e){if(nt(Tv,this)){const e=this._uiManager.imageManager.getSvgUrl(nt(kv,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=nt(Nv,this));return e.getContext("2d").drawImage(nt(Nv,this),0,0),e.toDataURL()}if(nt(Tv,this)){const[e,t]=this.pageDimensions,s=Math.round(this.width*e*Fs.PDF_TO_CSS_UNITS),n=Math.round(this.height*t*Fs.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(s,n);return i.getContext("2d").drawImage(nt(Nv,this),0,0,nt(Nv,this).width,nt(Nv,this).height,0,0,s,n),i.transferToImageBitmap()}return structuredClone(nt(Nv,this))}function Hv(e){var t;const{pageIndex:s,accessibilityData:{altText:n}}=this._initialData,i=e.pageIndex===s,r=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}Ye(Lv,"_type","stamp"),Ye(Lv,"_editorType",Ft.STAMP);var Vv=new WeakMap,Gv=new WeakMap,qv=new WeakMap,Xv=new WeakMap,Yv=new WeakMap,Kv=new WeakMap,Jv=new WeakMap,Qv=new WeakMap,$v=new WeakMap,Zv=new WeakMap,eb=new WeakMap,tb=new WeakMap,sb=new WeakMap,nb=new WeakMap,ib=new WeakMap,rb=new WeakMap,ab=new WeakSet;class ob{constructor(e){let{uiManager:t,pageIndex:s,div:n,structTreeLayer:i,accessibilityManager:r,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;Ze(this,ab),et(this,Vv,void 0),et(this,Gv,!1),et(this,qv,null),et(this,Xv,null),et(this,Yv,null),et(this,Kv,new Map),et(this,Jv,!1),et(this,Qv,!1),et(this,$v,!1),et(this,Zv,null),et(this,eb,null),et(this,tb,null),et(this,sb,null),et(this,nb,null),et(this,ib,-1),et(this,rb,void 0);const h=[...pb._.values()];if(!ob._initialized){ob._initialized=!0;for(const e of h)e.initialize(d,t)}t.registerEditorTypes(h),it(rb,this,t),this.pageIndex=s,this.div=n,it(Vv,this,r),it(qv,this,a),this.viewport=c,it(tb,this,l),this.drawLayer=o,this._structTree=i,nt(rb,this).addLayer(this)}get isEmpty(){return 0===nt(Kv,this).size}get isInvisible(){return this.isEmpty&&nt(rb,this).getMode()===Ft.NONE}updateToolbar(e){nt(rb,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt(rb,this).getMode();switch(tt(ab,this,mb).call(this),e){case Ft.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Ft.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ft.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ft.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const s of pb._.values())t.toggle("".concat(s._type,"Editing"),e===s._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=nt(tb,this))||void 0===t?void 0:t.div)}setEditingState(e){nt(rb,this).setEditingState(e)}addCommands(e){nt(rb,this).addCommands(e)}cleanUndoStack(e){nt(rb,this).cleanUndoStack(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=nt(qv,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){var e;it($v,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null===(e=nt(nb,this))||void 0===e||e.abort(),it(nb,this,null);const t=new Set;for(const n of st(ab,this,lb))n.enableEditing(),n.show(!0),n.annotationElementId&&(nt(rb,this).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const s=nt(qv,this);if(s)for(const n of s.getEditableAnnotations()){if(n.hide(),nt(rb,this).isDeletedAnnotationElement(n.data.id))continue;if(t.has(n.data.id))continue;const e=await this.deserialize(n);e&&(this.addOrRebuild(e),e.enableEditing())}it($v,this,!1),nt(rb,this)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(it(Qv,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),nt(tb,this)&&!nt(nb,this)){it(nb,this,new AbortController);const e=nt(rb,this).combinedSignal(nt(nb,this));nt(tb,this).div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:s,timeStamp:n}=e;if(n-nt(ib,this)>500)return void it(ib,this,n);it(ib,this,-1);const{classList:i}=this.div;i.toggle("getElements",!0);const r=document.elementsFromPoint(t,s);if(i.toggle("getElements",!1),!this.div.contains(r[0]))return;let a;const o=new RegExp("^".concat(It,"[0-9]+$"));for(const c of r)if(o.test(c.id)){a=c.id;break}if(!a)return;const l=nt(Kv,this).get(a);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(e.stopPropagation(),e.preventDefault(),l.dblclick(e))},{signal:e,capture:!0})}const e=nt(qv,this);if(e){const s=new Map,n=new Map;for(const r of st(ab,this,lb)){var t;r.disableEditing(),r.annotationElementId?null===r.serialize()?(n.set(r.annotationElementId,r),null===(t=this.getEditableAnnotation(r.annotationElementId))||void 0===t||t.show(),r.remove()):s.set(r.annotationElementId,r):r.updateFakeAnnotationElement(e)}const i=e.getEditableAnnotations();for(const e of i){const{id:t}=e.data;if(nt(rb,this).isDeletedAnnotationElement(t)){e.updateEdited({deleted:!0});continue}let i=n.get(t);i?(i.resetAnnotationElement(e),i.show(!1),e.show()):(i=s.get(t),i&&(nt(rb,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(e)&&i.show(!1)),e.show())}}tt(ab,this,mb).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const n of pb._.values())s.remove("".concat(n._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),it(Qv,this,!1)}getEditableAnnotation(e){var t;return(null===(t=nt(qv,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){nt(rb,this).getActive()!==e&&nt(rb,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=nt(tb,this))&&void 0!==e&&e.div&&!nt(sb,this)){it(sb,this,new AbortController);const e=nt(rb,this).combinedSignal(nt(sb,this));nt(tb,this).div.addEventListener("pointerdown",tt(ab,this,cb).bind(this),{signal:e}),nt(tb,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=nt(tb,this))&&void 0!==e&&e.div&&nt(sb,this)&&(nt(sb,this).abort(),it(sb,this,null),nt(tb,this).div.classList.remove("highlighting"))}enableClick(){if(nt(Xv,this))return;it(Xv,this,new AbortController);const e=nt(rb,this).combinedSignal(nt(Xv,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null===(e=nt(Xv,this))||void 0===e||e.abort(),it(Xv,this,null)}attach(e){nt(Kv,this).set(e.id,e);const{annotationElementId:t}=e;t&&nt(rb,this).isDeletedAnnotationElement(t)&&nt(rb,this).removeDeletedAnnotationElement(e)}detach(e){var t;nt(Kv,this).delete(e.id),null===(t=nt(Vv,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!nt(Qv,this)&&e.annotationElementId&&nt(rb,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),nt(rb,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(nt(rb,this).addDeletedAnnotationElement(e.annotationElementId),La.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),nt(rb,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!nt($v,this)),nt(rb,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:s}=document;e.div.contains(s)&&!nt(Yv,this)&&(e._focusEventsAllowed=!1,it(Yv,this,setTimeout(()=>{it(Yv,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:nt(rb,this)._signal}),s.focus())},0))),e._structTreeParentId=null===(t=nt(Vv,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getEditorByUID(e){for(const t of nt(Kv,this).values())if(t.uid===e)return t;return null}getNextId(){return nt(rb,this).getId()}combinedSignal(e){return nt(rb,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=st(ab,this,db))||void 0===e?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await nt(rb,this).updateMode(e.mode);const{offsetX:s,offsetY:n}=tt(ab,this,ub).call(this),i=this.getNextId(),r=tt(ab,this,hb).call(this,Je({parent:this,id:i,x:s,y:n,uiManager:nt(rb,this),isCentered:!0},t));r&&this.add(r)}async deserialize(e){var t,s;return await(null===(t=pb._.get(null!==(s=e.annotationType)&&void 0!==s?s:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,nt(rb,this)))||null}createAndAddNewEditor(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getNextId(),i=tt(ab,this,hb).call(this,Je({parent:this,id:n,x:e.offsetX,y:e.offsetY,uiManager:nt(rb,this),isCentered:t},s));return i&&this.add(i),i}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(tt(ab,this,ub).call(this),!0,e)}setSelected(e){nt(rb,this).setSelected(e)}toggleSelected(e){nt(rb,this).toggleSelected(e)}unselect(e){nt(rb,this).unselect(e)}pointerup(e){var t;const{isMac:s}=Ns.platform;if(0!==e.button||e.ctrlKey&&s)return;if(e.target!==this.div)return;if(!nt(Jv,this))return;if(it(Jv,this,!1),null!==(t=st(ab,this,db))&&void 0!==t&&t.isDrawer&&st(ab,this,db).supportMultipleDrawings)return;if(!nt(Gv,this))return void it(Gv,this,!0);const n=nt(rb,this).getMode();n!==Ft.STAMP&&n!==Ft.SIGNATURE?this.createAndAddNewEditor(e,!1):nt(rb,this).unselectAll()}pointerdown(e){var t;if(nt(rb,this).getMode()===Ft.HIGHLIGHT&&this.enableTextSelection(),nt(Jv,this))return void it(Jv,this,!1);const{isMac:s}=Ns.platform;if(0!==e.button||e.ctrlKey&&s)return;if(e.target!==this.div)return;if(it(Jv,this,!0),null!==(t=st(ab,this,db))&&void 0!==t&&t.isDrawer)return void this.startDrawingSession(e);const n=nt(rb,this).getActive();it(Gv,this,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),nt(Zv,this))return void st(ab,this,db).startDrawing(this,nt(rb,this),!1,e);nt(rb,this).setCurrentDrawingSession(this),it(Zv,this,new AbortController);const t=nt(rb,this).combinedSignal(nt(Zv,this));this.div.addEventListener("blur",e=>{let{relatedTarget:t}=e;t&&!this.div.contains(t)&&(it(eb,this,null),this.commitOrRemove())},{signal:t}),st(ab,this,db).startDrawing(this,nt(rb,this),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&it(eb,this,e))}nt(eb,this)&&setTimeout(()=>{var e;null===(e=nt(eb,this))||void 0===e||e.focus(),it(eb,this,null)},0)}endDrawingSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return nt(Zv,this)?(nt(rb,this).setCurrentDrawingSession(null),nt(Zv,this).abort(),it(Zv,this,null),it(eb,this,null),st(ab,this,db).endDrawing(e)):null}findNewParent(e,t,s){const n=nt(rb,this).findParent(t,s);return null!==n&&n!==this&&(n.changeParent(e),!0)}commitOrRemove(){return!!nt(Zv,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){nt(Zv,this)&&st(ab,this,db).onScaleChangingWhenDrawing(this)}destroy(){var e;this.commitOrRemove(),(null===(e=nt(rb,this).getActive())||void 0===e?void 0:e.parent)===this&&(nt(rb,this).commitOrRemove(),nt(rb,this).setActiveEditor(null)),nt(Yv,this)&&(clearTimeout(nt(Yv,this)),it(Yv,this,null));for(const s of nt(Kv,this).values()){var t;null===(t=nt(Vv,this))||void 0===t||t.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove()}this.div=null,nt(Kv,this).clear(),nt(rb,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,$s(this.div,t);for(const s of nt(rb,this).getEditors(this.pageIndex))this.add(s),s.rebuild();this.updateMode()}update(e){let{viewport:t}=e;nt(rb,this).commitOrRemove(),tt(ab,this,mb).call(this);const s=this.viewport.rotation,n=t.rotation;if(this.viewport=t,$s(this.div,{rotation:n}),s!==n)for(const i of nt(Kv,this).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return nt(rb,this).viewParameters.realScale}}function lb(e){return 0!==nt(Kv,e).size?nt(Kv,e).values():nt(rb,e).getEditors(e.pageIndex)}function cb(e){nt(rb,this).unselectAll();const{target:t}=e;if(t===nt(tb,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&nt(tb,this).div.contains(t)){const{isMac:t}=Ns.platform;if(0!==e.button||e.ctrlKey&&t)return;nt(rb,this).showAllEditors("highlight",!0,!0),nt(tb,this).div.classList.add("free"),this.toggleDrawing(),Og.startHighlighting(this,"ltr"===nt(rb,this).direction,{target:nt(tb,this).div,x:e.x,y:e.y}),nt(tb,this).div.addEventListener("pointerup",()=>{nt(tb,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:nt(rb,this)._signal}),e.preventDefault()}}function db(e){return pb._.get(nt(rb,e).getMode())}function hb(e){const t=st(ab,this,db);return t?new t.prototype.constructor(e):null}function ub(){const{x:e,y:t,width:s,height:n}=this.boundingClientRect,i=Math.max(0,e),r=Math.max(0,t),a=(i+Math.min(window.innerWidth,e+s))/2-e,o=(r+Math.min(window.innerHeight,t+n))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function mb(){for(const e of nt(Kv,this).values())e.isEmpty()&&e.remove()}Ye(ob,"_initialized",!1);var pb={_:new Map([hf,Zx,Lv,Og,jv].map(e=>[e._editorType,e]))},fb=new WeakMap,gb=new WeakMap,xb=new WeakMap,vb=new WeakSet;class bb{constructor(e){let{pageIndex:t}=e;Ze(this,vb),et(this,fb,null),et(this,gb,new Map),et(this,xb,new Map),this.pageIndex=t}setParent(e){if(nt(fb,this)){if(nt(fb,this)!==e){if(nt(gb,this).size>0)for(const t of nt(gb,this).values())t.remove(),e.append(t);it(fb,this,e)}}else it(fb,this,e)}static get _svgFactory(){return ms(this,"_svgFactory",new cm)}draw(e){var t,s;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=(kb._=(t=kb._,s=t++,t),s),a=tt(vb,this,wb).call(this),o=bb._svgFactory.createElement("defs");a.append(o);const l=bb._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(r);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),n&&nt(xb,this).set(r,l);const d=i?tt(vb,this,jb).call(this,o,c):null,h=bb._svgFactory.createElement("use");return a.append(h),h.setAttribute("href","#".concat(c)),this.updateProperties(a,e),nt(gb,this).set(r,a),{id:r,clipPathId:"url(#".concat(d,")")}}drawOutline(e,t){var s,n;const i=(kb._=(s=kb._,n=s++,s),n),r=tt(vb,this,wb).call(this),a=bb._svgFactory.createElement("defs");r.append(a);const o=bb._svgFactory.createElement("path");a.append(o);const l="path_p".concat(this.pageIndex,"_").concat(i);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t){const e=bb._svgFactory.createElement("mask");a.append(e),c="mask_p".concat(this.pageIndex,"_").concat(i),e.setAttribute("id",c),e.setAttribute("maskUnits","objectBoundingBox");const t=bb._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const s=bb._svgFactory.createElement("use");e.append(s),s.setAttribute("href","#".concat(l)),s.setAttribute("stroke","none"),s.setAttribute("fill","black"),s.setAttribute("fill-rule","nonzero"),s.classList.add("mask")}const d=bb._svgFactory.createElement("use");r.append(d),d.setAttribute("href","#".concat(l)),c&&d.setAttribute("mask","url(#".concat(c,")"));const h=d.cloneNode();return r.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),nt(gb,this).set(i,r),i}finalizeDraw(e,t){nt(xb,this).delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:s,bbox:n,rootClass:i,path:r}=t,a="number"===typeof e?nt(gb,this).get(e):e;if(a){if(s&&tt(vb,this,Nb).call(this,a,s),n&&yb.call(bb,a,n),i){const{classList:e}=a;for(const[t,s]of Object.entries(i))e.toggle(t,s)}if(r){const e=a.firstChild.firstChild;tt(vb,this,Nb).call(this,e,r)}}}updateParent(e,t){if(t===this)return;const s=nt(gb,this).get(e);s&&(nt(fb,t).append(s),nt(gb,this).delete(e),nt(gb,t).set(e,s))}remove(e){nt(xb,this).delete(e),null!==nt(fb,this)&&(nt(gb,this).get(e).remove(),nt(gb,this).delete(e))}destroy(){it(fb,this,null);for(const e of nt(gb,this).values())e.remove();nt(gb,this).clear(),nt(xb,this).clear()}}function yb(e,t){let[s,n,i,r]=t;const{style:a}=e;a.top="".concat(100*n,"%"),a.left="".concat(100*s,"%"),a.width="".concat(100*i,"%"),a.height="".concat(100*r,"%")}function wb(){const e=Nt._svgFactory.create(1,1,!0);return nt(fb,this).append(e),e.setAttribute("aria-hidden",!0),e}function jb(e,t){const s=Nt._svgFactory.createElement("clipPath");e.append(s);const n="clip_".concat(t);s.setAttribute("id",n),s.setAttribute("clipPathUnits","objectBoundingBox");const i=Nt._svgFactory.createElement("use");return s.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),n}function Nb(e,t){for(const[s,n]of Object.entries(t))null===n?e.removeAttribute(s):e.setAttribute(s,n)}Nt=bb;var kb={_:0};function Sb(e,t){if(null==e)return{};var s,n,i=function(e,t){if(null==e)return{};var s={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;s[n]=e[n]}return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)s=r[n],-1===t.indexOf(s)&&{}.propertyIsEnumerable.call(e,s)&&(i[s]=e[s])}return i}function Ab(e){var t,s,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=Ab(e[t]))&&(n&&(n+=" "),n+=s)}else for(s in e)e[s]&&(n&&(n+=" "),n+=s);return n}globalThis._pdfjsTestingUtils={HighlightOutliner:lg},globalThis.pdfjsLib={AbortException:ys,AnnotationEditorLayer:ob,AnnotationEditorParamsType:Ot,AnnotationEditorType:Ft,AnnotationEditorUIManager:Xi,AnnotationLayer:tf,AnnotationMode:Lt,AnnotationType:qt,applyOpacity:function(e,t,s,n){const i=255*(1-(n=Math.min(Math.max(null!==n&&void 0!==n?n:1,0),1)));return[e=Math.round(e*n+i),t=Math.round(t*n+i),s=Math.round(s*n+i)]},build:"f56dc8601",ColorPicker:qu,createValidAbsoluteUrl:hs,CSSConstants:class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:s}=window.getComputedStyle(e);return e.remove(),ms(this,"commentForegroundColor",Ks(s))}},DOMSVGFactory:cm,DrawLayer:bb,FeatureTest:Ns,fetchData:Os,findContrastColor:function(e,t){const s=e[0]+256*e[1]+65536*e[2]+16777216*t[0]+4294967296*t[1]+1099511627776*t[2];let n=on.get(s);if(n)return n;const i=new Float32Array(9),r=i.subarray(0,3),a=i.subarray(3,6);sn(e,a);const o=i.subarray(6,9);sn(t,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),an(a,o,r)<c){let e,t;l?(e=a[2],t=1):(e=0,t=a[2]);const s=.005;for(;t-e>s;){const s=a[2]=(e+t)/2;l===an(a,o,r)<c?e=s:t=s}a[2]=l?t:e}return nn(a,r),n=Ss.makeHexColor(Math.round(255*r[0]),Math.round(255*r[1]),Math.round(255*r[2])),on.set(s,n),n},getDocument:Xh,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(zs(e))return ls('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=(e=>{try{return new URL(e)}catch(t){try{return new URL(decodeURIComponent(e))}catch(s){try{return new URL(e,"https://foo.bar")}catch(n){try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch(i){return null}}}}})(e);if(!s)return t;const n=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch(t){return e}},i=/\.pdf$/i,r=s.pathname.split("/").at(-1);if(i.test(r))return n(r);if(s.searchParams.size>0){const e=Array.from(s.searchParams.values()).reverse();for(const s of e)if(i.test(s))return n(s);const t=Array.from(s.searchParams.keys()).reverse();for(const s of t)if(i.test(s))return n(s)}if(s.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(e)return n(e[0])}return t},getRGB:Ks,getUuid:Ms,getXfaPageViewport:function(e,t){let{scale:s=1,rotation:n=0}=t;const{width:i,height:r}=e.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new Bs({viewBox:a,userUnit:1,scale:s,rotation:n})},GlobalWorkerOptions:Nd,ImageKind:Gt,InvalidPDFException:xs,isDataScheme:zs,isPdfFile:Us,isValidExplicitDest:No,MathClamp:Ts,noContextMenu:Gs,normalizeUnicode:function(e){return Cs||(Cs=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,Es=new Map([["\ufb05","\u017ft"]])),e.replaceAll(Cs,(e,t,s)=>t?t.normalize("NFKC"):Es.get(s))},OPS:Zt,OutputScale:Zs,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:tu,PDFDateString:Xs,PDFWorker:uu,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Fs,RenderingCancelledException:Ws,renderRichText:ln,ResponseException:vs,setLayerDimensions:$s,shadow:ms,SignatureExtractor:sv,stopEvent:qs,SupportedImageMimeTypes:en,TextLayer:Dh,TouchManager:ia,updateUrlHash:us,Util:Ss,VerbosityLevel:$t,version:Du,XfaLayer:Ls};const _b=function(){for(var e,t,s=0,n="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=Ab(e))&&(n&&(n+=" "),n+=t);return n};var Cb=Object.prototype.hasOwnProperty;function Eb(e,t,s){for(s of e.keys())if(Mb(s,t))return s}function Mb(e,t){var s,n,i;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((n=e.length)===t.length)for(;n--&&Mb(e[n],t[n]););return-1===n}if(s===Set){if(e.size!==t.size)return!1;for(n of e){if((i=n)&&"object"===typeof i&&!(i=Eb(t,i)))return!1;if(!t.has(i))return!1}return!0}if(s===Map){if(e.size!==t.size)return!1;for(n of e){if((i=n[0])&&"object"===typeof i&&!(i=Eb(t,i)))return!1;if(!Mb(n[1],t.get(i)))return!1}return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!s||"object"===typeof e){for(s in n=0,e){if(Cb.call(e,s)&&++n&&!Cb.call(t,s))return!1;if(!(s in t)||!Mb(e[s],t[s]))return!1}return Object.keys(t).length===n}}return e!==e&&t!==t}function Pb(e){let t=!1;return{promise:new Promise((s,n)=>{e.then(e=>!t&&s(e)).catch(e=>!t&&n(e))}),cancel(){t=!0}}}const Tb=["onCopy","onCut","onPaste","onCompositionEnd","onCompositionStart","onCompositionUpdate","onFocus","onBlur","onInput","onInvalid","onReset","onSubmit","onLoad","onError","onKeyDown","onKeyPress","onKeyUp","onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting","onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionEnd","onChange","onToggle"];function Rb(e,t){const s={};for(const n of Tb){const i=e[n];i&&(s[n]=t?e=>i(e,t(n)):i)}return s}var Db="Invariant failed";function Lb(e,t){if(!e)throw new Error(Db)}var Ib=s(568);const Fb=(0,n.createContext)(null);class Ob{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Lb(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){Lb(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=s?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{Lb(this.pdfDocument),Lb(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(e=>{Lb(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise(e=>{Lb(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then(t=>{e(t)}).catch(()=>{Lb(!1,'"'.concat(t,'" is not a valid page reference.'))}):"number"===typeof t?e(t):Lb(!1,'"'.concat(t,'" is not a valid destination reference.'))}).then(t=>{const s=t+1;Lb(this.pdfViewer),Lb(s>=1&&s<=this.pagesCount,'"'.concat(s,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:s})})})}goToPage(e){const t=e-1;Lb(this.pdfViewer),Lb(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Bb(e){let{children:t,type:s}=e;return(0,De.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(s),children:t})}const Wb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function zb(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Ub(){return(0,n.useReducer)(zb,{value:void 0,error:void 0})}const Hb="undefined"!==typeof window,Vb=Hb&&"file:"===window.location.protocol;function Gb(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function qb(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function Xb(e){Lb(qb(e));const[t="",s=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(s):unescape(s)}function Yb(){return Hb&&window.devicePixelRatio||1}const Kb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function Jb(){Ib(!Vb,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(Kb))}function Qb(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function $b(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}const Zb=["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate","scale"],ey=["url"],{Tm:ty}=e,sy=(e,t)=>{switch(t){case Wb.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case Wb.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function ny(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const iy=(0,n.forwardRef)(function(e,t){let{children:s,className:i,error:r="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:d,loading:h="Loading PDF\u2026",noData:u="No PDF file specified.",onItemClick:m,onLoadError:p,onLoadProgress:f,onLoadSuccess:g,onPassword:x=sy,onSourceError:v,onSourceSuccess:b,options:y,renderMode:w,rotate:j,scale:N}=e,k=Sb(e,Zb);const[S,A]=Ub(),{value:_,error:C}=S,[E,M]=Ub(),{value:P,error:T}=E,R=(0,n.useRef)(new Ob),D=(0,n.useRef)([]),L=(0,n.useRef)(void 0),I=(0,n.useRef)(void 0);l&&l!==L.current&&ny(l)&&(Ib(!Mb(l,L.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),L.current=l),y&&y!==I.current&&(Ib(!Mb(y,I.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),I.current=y);const F=(0,n.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:s,pageIndex:n=s-1}=e;if(m)return void m({dest:t,pageIndex:n,pageNumber:s});const i=D.current[n];i?i.scrollIntoView():Ib(!1,"An internal link leading to page ".concat(s," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,n.useImperativeHandle)(t,()=>({linkService:R,pages:D,viewer:F}),[]),(0,n.useEffect)(function(){A({type:"RESET"})},[l,A]);const O=(0,n.useCallback)(async()=>{if(!l)return null;if("string"===typeof l){if(qb(l)){return{data:Xb(l)}}return Jb(),{url:l}}if(l instanceof ty)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(Hb&&function(e){return Lb(Hb),e instanceof Blob}(l)){const e=await function(e){return new Promise((t,s)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return s(new Error("Error while reading a file."));t(n.result)},n.onerror=e=>{if(!e.target)return s(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return s(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return s(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return s(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return s(new Error("Error while reading a file: Aborted."));default:return s(new Error("Error while reading a file."))}},n.readAsArrayBuffer(e)})}(l);return{data:e}}if(Lb("object"===typeof l),Lb(ny(l)),"url"in l&&"string"===typeof l.url){if(qb(l.url)){const{url:e}=l,t=Sb(l,ey);return Je({data:Xb(e)},t)}Jb()}return l},[l]);(0,n.useEffect)(()=>{const e=Pb(O());return e.promise.then(e=>{A({type:"RESOLVE",value:e})}).catch(e=>{A({type:"REJECT",error:e})}),()=>{Qb(e)}},[O,A]),(0,n.useEffect)(()=>{"undefined"!==typeof _&&(!1!==_?b&&b():C&&(Ib(!1,C.toString()),v&&v(C)))},[_]),(0,n.useEffect)(function(){M({type:"RESET"})},[M,_]),(0,n.useEffect)(function(){if(!_)return;const e=Xh(y?Je(Je({},_),y):_);f&&(e.onProgress=f),x&&(e.onPassword=x);const t=e,s=t.promise.then(e=>{M({type:"RESOLVE",value:e})}).catch(e=>{t.destroyed||M({type:"REJECT",error:e})});return()=>{s.finally(()=>t.destroy())}},[y,M,_]),(0,n.useEffect)(()=>{"undefined"!==typeof P&&(!1!==P?P&&(g&&g(P),D.current=new Array(P.numPages),R.current.setDocument(P)):T&&(Ib(!1,T.toString()),p&&p(T)))},[P]),(0,n.useEffect)(function(){R.current.setViewer(F.current),R.current.setExternalLinkRel(a),R.current.setExternalLinkTarget(o)},[a,o]);const B=(0,n.useCallback)((e,t)=>{D.current[e]=t},[]),W=(0,n.useCallback)(e=>{delete D.current[e]},[]),z=(0,n.useMemo)(()=>({imageResourcesPath:d,linkService:R.current,onItemClick:m,pdf:P,registerPage:B,renderMode:w,rotate:j,scale:N,unregisterPage:W}),[d,m,P,B,w,j,N,W]),U=(0,n.useMemo)(()=>Rb(k,()=>P),[k,P]);return(0,De.jsx)("div",Je(Je({className:_b("react-pdf__Document",i),ref:c},U),{},{children:l?void 0===P||null===P?(0,De.jsx)(Bb,{type:"loading",children:"function"===typeof h?h():h}):!1===P?(0,De.jsx)(Bb,{type:"error",children:"function"===typeof r?r():r}):function(){if(e=z,!Boolean(null===e||void 0===e?void 0:e.pdf))throw new Error("pdf is undefined");var e;const t="function"===typeof s?s(z):s;return(0,De.jsx)(Fb.Provider,{value:z,children:t})}():(0,De.jsx)(Bb,{type:"no-data",children:"function"===typeof u?u():u})}))}),ry=iy;function ay(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=e.filter(Boolean);return s.length<=1?s[0]||null:function(e){for(var t=0,n=s;t<n.length;t++){var i=n[t];"function"===typeof i?i(e):i&&(i.current=e)}}}function oy(){return(0,n.useContext)(Fb)}const ly=(0,n.createContext)(null);function cy(){return(0,n.useContext)(ly)}function dy(){const e=oy(),t=cy();Lb(t);const s=Je(Je({},e),t),{imageResourcesPath:i,linkService:r,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:d,pdf:h,renderForms:u,rotate:m,scale:p=1}=s;Lb(h),Lb(d),Lb(r);const[f,g]=Ub(),{value:x,error:v}=f,b=(0,n.useRef)(null);Ib(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,n.useEffect)(function(){g({type:"RESET"})},[g,d]),(0,n.useEffect)(function(){if(!d)return;const e=Pb(d.getAnnotations()),t=e;return e.promise.then(e=>{g({type:"RESOLVE",value:e})}).catch(e=>{g({type:"REJECT",error:e})}),()=>{Qb(t)}},[g,d]),(0,n.useEffect)(()=>{void 0!==x&&(!1!==x?x&&o&&o(x):v&&(Ib(!1,v.toString()),a&&a(v)))},[x]);const y=(0,n.useMemo)(()=>d.getViewport({scale:p,rotation:m}),[d,m,p]);return(0,n.useEffect)(function(){if(!h||!d||!r||!x)return;const{current:e}=b;if(!e)return;const t=y.clone({dontFlip:!0}),s={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:h.annotationStorage,commentManager:null,div:e,l10n:null,linkService:r,page:d,structTreeLayer:null,viewport:t},n={annotations:x,annotationStorage:h.annotationStorage,div:e,imageResourcesPath:i,linkService:r,page:d,renderForms:u,viewport:t};e.innerHTML="";try{new tf(s).render(n),c&&c()}catch(a){!function(e){Ib(!1,"".concat(e)),l&&l(e)}(a)}return()=>{}},[x,i,r,d,h,u,y]),(0,De.jsx)("div",{className:_b("react-pdf__Page__annotations","annotationLayer"),ref:b})}const hy={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},uy=/^H(\d+)$/;function my(e){return"children"in e}function py(e){return!!my(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function fy(e){const t={};if(my(e)){const{role:s}=e,n=s.match(uy);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(function(e){return e in hy}(s)){const e=hy[s];e&&(t.role=e)}}return t}function gy(e){const t={};if(my(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),py(e)){const[s]=e.children;if(s){const e=gy(s);return Je(Je({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function xy(e){return e?Je(Je({},fy(e)),gy(e)):null}function vy(e){let{className:t,node:s}=e;const i=(0,n.useMemo)(()=>xy(s),[s]),r=(0,n.useMemo)(()=>my(s)?py(s)?null:s.children.map((e,t)=>(0,De.jsx)(vy,{node:e},t)):null,[s]);return(0,De.jsx)("span",Je(Je({className:t},i),{},{children:r}))}function by(){const e=cy();Lb(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:s}=e,[i,r]=Ub(),{value:a,error:o}=i,{customTextRenderer:l,page:c}=e;return(0,n.useEffect)(function(){r({type:"RESET"})},[r,c]),(0,n.useEffect)(function(){if(l)return;if(!c)return;const e=Pb(c.getStructTree()),t=e;return e.promise.then(e=>{r({type:"RESOLVE",value:e})}).catch(e=>{r({type:"REJECT",error:e})}),()=>Qb(t)},[l,c,r]),(0,n.useEffect)(()=>{void 0!==a&&(!1!==a?a&&s&&s(a):o&&(Ib(!1,o.toString()),t&&t(o)))},[a]),a?(0,De.jsx)(vy,{className:"react-pdf__Page__structTree structTree",node:a}):null}const yy=Lt;function wy(e){const t=cy();Lb(t);const s=Je(Je({},t),e),{_className:i,canvasBackground:r,devicePixelRatio:a=Yb(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:d,renderTextLayer:h,rotate:u,scale:m}=s,{canvasRef:p}=e;Lb(c);const f=(0,n.useRef)(null);function g(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(Ib(!1,e.toString()),o&&o(e))}const x=(0,n.useMemo)(()=>c.getViewport({scale:m*a,rotation:u}),[a,c,u,m]),v=(0,n.useMemo)(()=>c.getViewport({scale:m,rotation:u}),[c,u,m]);(0,n.useEffect)(function(){if(!c)return;c.cleanup();const{current:e}=f;if(!e)return;e.width=x.width,e.height=x.height,e.style.width="".concat(Math.floor(v.width),"px"),e.style.height="".concat(Math.floor(v.height),"px"),e.style.visibility="hidden";const t={annotationMode:d?yy.ENABLE_FORMS:yy.ENABLE,canvas:e,canvasContext:e.getContext("2d",{alpha:!1}),viewport:x};r&&(t.background=r);const s=c.render(t),n=s;return s.promise.then(()=>{e.style.visibility="",c&&l&&l($b(c,m))}).catch(g),()=>Qb(n)},[r,c,d,x,v]);const b=(0,n.useCallback)(()=>{const{current:e}=f;e&&(e.width=0,e.height=0)},[]);return(0,n.useEffect)(()=>b,[b]),(0,De.jsx)("canvas",{className:"".concat(i,"__canvas"),dir:"ltr",ref:ay(p,f),style:{display:"block",userSelect:"none"},children:h?(0,De.jsx)(by,{}):null})}function jy(){const e=cy();Lb(e);const{customTextRenderer:t,onGetTextError:s,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:d,scale:h}=e;Lb(o);const[u,m]=Ub(),{value:p,error:f}=u,g=(0,n.useRef)(null);Ib(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,n.useEffect)(function(){m({type:"RESET"})},[o,m]),(0,n.useEffect)(function(){if(!o)return;const e=Pb(o.getTextContent()),t=e;return e.promise.then(e=>{m({type:"RESOLVE",value:e})}).catch(e=>{m({type:"REJECT",error:e})}),()=>Qb(t)},[o,m]),(0,n.useEffect)(()=>{void 0!==p&&(!1!==p?p&&i&&i(p):f&&(Ib(!1,f.toString()),s&&s(f)))},[p]);const x=(0,n.useCallback)(()=>{a&&a()},[a]),v=(0,n.useCallback)(e=>{Ib(!1,e.toString()),r&&r(e)},[r]);const b=(0,n.useMemo)(()=>o.getViewport({scale:h,rotation:d}),[o,d,h]);return(0,n.useLayoutEffect)(function(){if(!o||!p)return;const{current:e}=g;if(!e)return;e.innerHTML="";const s=o.streamTextContent({includeMarkedContent:!0}),n=new Dh({container:e,textContentSource:s,viewport:b}),i=n;return n.render().then(()=>{const s=document.createElement("div");s.className="endOfContent",e.append(s);const n=e.querySelectorAll('[role="presentation"]');if(t){let e=0;p.items.forEach((s,i)=>{if(!function(e){return"str"in e}(s))return;const r=n[e];if(!r)return;const a=t(Je({pageIndex:l,pageNumber:c,itemIndex:i},s));r.innerHTML=a,e+=s.str&&s.hasEOL?2:1})}x()}).catch(v),()=>Qb(i)},[t,v,x,o,l,c,p,b]),(0,De.jsx)("div",{className:_b("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=g.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=g.current;e&&e.classList.add("selecting")},ref:g})}const Ny=["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"],ky=1;function Sy(e){const t=Je(Je({},oy()),e),{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:a,children:o,className:l,customRenderer:c,customTextRenderer:d,devicePixelRatio:h,error:u="Failed to load the page.",height:m,inputRef:p,loading:f="Loading page\u2026",noData:g="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:v,onGetStructTreeError:b,onGetStructTreeSuccess:y,onGetTextError:w,onGetTextSuccess:j,onLoadError:N,onLoadSuccess:k,onRenderAnnotationLayerError:S,onRenderAnnotationLayerSuccess:A,onRenderError:_,onRenderSuccess:C,onRenderTextLayerError:E,onRenderTextLayerSuccess:M,pageIndex:P,pageNumber:T,pdf:R,registerPage:D,renderAnnotationLayer:L=!0,renderForms:I=!1,renderMode:F="canvas",renderTextLayer:O=!0,rotate:B,scale:W=ky,unregisterPage:z,width:U}=t,H=Sb(t,Ny),[V,G]=Ub(),{value:q,error:X}=V,Y=(0,n.useRef)(null);Lb(R);const K=Gb(T)?T-1:null!==P&&void 0!==P?P:null,J=null!==T&&void 0!==T?T:Gb(P)?P+1:null,Q=null!==B&&void 0!==B?B:q?q.rotate:null,$=(0,n.useMemo)(()=>{if(!q)return null;let e=1;const t=null!==W&&void 0!==W?W:ky;if(U||m){const t=q.getViewport({scale:1,rotation:Q});U?e=U/t.width:m&&(e=m/t.height)}return t*e},[m,q,Q,W,U]);(0,n.useEffect)(function(){return()=>{Gb(K)&&i&&z&&z(K)}},[i,R,K,z]),(0,n.useEffect)(function(){G({type:"RESET"})},[G,R,K]),(0,n.useEffect)(function(){if(!R||!J)return;const e=Pb(R.getPage(J)),t=e;return e.promise.then(e=>{G({type:"RESOLVE",value:e})}).catch(e=>{G({type:"REJECT",error:e})}),()=>Qb(t)},[G,R,J]),(0,n.useEffect)(()=>{void 0!==q&&(!1!==q?function(){if(k){if(!q||!$)return;k($b(q,$))}if(i&&D){if(!Gb(K)||!Y.current)return;D(K,Y.current)}}():X&&(Ib(!1,X.toString()),N&&N(X)))},[q,$]);const Z=(0,n.useMemo)(()=>Gb(K)&&J&&Gb(Q)&&Gb($)?{_className:s,canvasBackground:r,customTextRenderer:d,devicePixelRatio:h,onGetAnnotationsError:x,onGetAnnotationsSuccess:v,onGetStructTreeError:b,onGetStructTreeSuccess:y,onGetTextError:w,onGetTextSuccess:j,onRenderAnnotationLayerError:S,onRenderAnnotationLayerSuccess:A,onRenderError:_,onRenderSuccess:C,onRenderTextLayerError:E,onRenderTextLayerSuccess:M,page:q,pageIndex:K,pageNumber:J,renderForms:I,renderTextLayer:O,rotate:Q,scale:$}:null,[s,r,d,h,x,v,b,y,w,j,S,A,_,C,E,M,q,K,J,I,O,Q,$]),ee=(0,n.useMemo)(()=>Rb(H,()=>q?$?$b(q,$):void 0:q),[H,q,$]),te="".concat(K,"@").concat($,"/").concat(Q);function se(){switch(F){case"custom":return Lb(c),(0,De.jsx)(c,{},"".concat(te,"_custom"));case"none":return null;default:return(0,De.jsx)(wy,{canvasRef:a},"".concat(te,"_canvas"))}}return(0,De.jsx)("div",Je(Je({className:_b(s,l),"data-page-number":J,ref:ay(p,Y),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":"".concat($),"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},ee),{},{children:J?null===R||void 0===q||null===q?(0,De.jsx)(Bb,{type:"loading",children:"function"===typeof f?f():f}):!1===R||!1===q?(0,De.jsx)(Bb,{type:"error",children:"function"===typeof u?u():u}):function(){if(e=Z,!Boolean(null===e||void 0===e?void 0:e.page))throw new Error("page is undefined");var e;const t="function"===typeof o?o(Z):o;return(0,De.jsxs)(ly.Provider,{value:Z,children:[se(),O?(0,De.jsx)(jy,{},"".concat(te,"_text")):null,L?(0,De.jsx)(dy,{},"".concat(te,"_annotations")):null,t]})}():(0,De.jsx)(Bb,{type:"no-data",children:"function"===typeof g?g():g})}))}Nd.workerSrc="https://unpkg.com/pdfjs-dist@".concat(Du,"/build/pdf.worker.min.mjs");const Ay=()=>{const[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[r,a]=(0,n.useState)(""),[o,l]=(0,n.useState)("all"),[c,d]=(0,n.useState)(null),[h,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(1),[f,g]=(0,n.useState)(1),[x,v]=(0,n.useState)(""),[b,y]=(0,n.useState)({});(0,n.useEffect)(()=>{(async()=>{try{i(!0);const[e,s]=await Promise.all([Re.getPublishedPapers(),Re.getIssueAssignments()]),n={};(s||[]).forEach(e=>{e&&e.paperId&&e.issue&&(n[e.paperId]=e.issue)});const r=(e||[]).map(e=>Je(Je({},e),{},{assignedIssue:e.assignedIssue||n[e.id]||null}));t(r)}catch(e){console.error("Error loading published papers for browse page",e),t([])}finally{i(!1)}})()},[]);const w=r.trim().toLowerCase(),j=(e||[]).filter(e=>{if(!e)return!1;if("all"!==o&&e.category!==o)return!1;if(!w)return!0;const t=(e.title||"").toLowerCase(),s=(e.abstract||"").toLowerCase(),n=Array.isArray(e.keywords)?e.keywords.join(" ").toLowerCase():String(e.keywords||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(w)||s.includes(w)||n.includes(w)||i.includes(w)}),N=["all",...new Set((e||[]).map(e=>e.category).filter(Boolean))],k=()=>{d(null),u(null),p(1),g(1),v("")},S=e=>{if(!e)return"Issue: Not assigned";const t=[];if(e.volume&&t.push("Vol. ".concat(e.volume)),e.issue&&t.push("Issue ".concat(e.issue)),e.month||e.year){const s="".concat(e.month?"".concat(e.month," "):"").concat(e.year||"").trim();s&&t.push("(".concat(s,")"))}return 0===t.length?"Issue: Not assigned":t.join(" ")};return s?(0,De.jsx)("div",{className:"min-h-full flex items-center justify-center bg-slate-50",children:(0,De.jsx)(Oe,{size:"lg",text:"Loading published papers..."})}):(0,De.jsxs)("div",{className:"min-h-full bg-slate-50 py-10",children:[(0,De.jsxs)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,De.jsxs)("header",{className:"mb-8 text-center",children:[(0,De.jsx)("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Research Library"}),(0,De.jsx)("p",{className:"text-slate-600 max-w-2xl mx-auto",children:"Tell us what you are looking for and browse matching published papers. Click a title to open the paper in a PDF viewer."})]}),(0,De.jsx)("section",{className:"mb-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-4 sm:p-6",children:(0,De.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-stretch md:items-end",children:[(0,De.jsxs)("div",{className:"flex-1",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"What are you looking for?"}),(0,De.jsx)("input",{type:"text",value:r,onChange:e=>a(e.target.value),placeholder:"Enter keywords, topic, author name, or phrase...",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,De.jsxs)("div",{className:"w-full md:w-60",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Section (Category)"}),(0,De.jsx)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:N.map(e=>(0,De.jsx)("option",{value:e,children:"all"===e?"All sections":e},e))})]})]})}),(0,De.jsx)("section",{className:"bg-white rounded-2xl shadow-sm border border-slate-200",children:0===j.length?(0,De.jsx)("div",{className:"p-8 text-center text-slate-500 text-sm",children:"No published papers found matching your search."}):(0,De.jsx)("div",{className:"divide-y divide-slate-200",children:(()=>{const e=new Map;(j||[]).forEach(t=>{var s,n,i,r;const a=t.assignedIssue||null,o=null!==(s=null===a||void 0===a?void 0:a.volume)&&void 0!==s?s:"",l=null!==(n=null===a||void 0===a?void 0:a.issue)&&void 0!==n?n:"",c=null!==(i=null===a||void 0===a?void 0:a.year)&&void 0!==i?i:"",d=null!==(r=null===a||void 0===a?void 0:a.month)&&void 0!==r?r:"",h=[""!==o?"v".concat(o):"v_",""!==l?"i".concat(l):"i_",""!==c?"y".concat(c):"y_",d||"_"].join("|"),u=S(a);e.has(h)||e.set(h,{key:h,label:u,issue:a,papers:[]}),e.get(h).papers.push(t)});const t=Array.from(e.values());return t.sort((e,t)=>{const s=e.issue,n=t.issue;if(!s&&!n)return 0;if(!s)return 1;if(!n)return-1;const i=s.year||0,r=n.year||0;if(i!==r)return r-i;const a=s.volume||0,o=n.volume||0;if(a!==o)return o-a;const l=s.issue||0;return(n.issue||0)-l}),t})().map(e=>{const t=!0===b[e.key];return(0,De.jsxs)("div",{className:"px-4 sm:px-6 py-4",children:[(0,De.jsxs)("button",{type:"button",onClick:()=>{return t=e.key,void y(e=>Je(Je({},e),{},{[t]:!e[t]}));var t},className:"w-full flex items-center justify-between gap-2 mb-2 text-left",children:[(0,De.jsx)("h2",{className:"text-sm font-semibold text-slate-800",children:e.label}),(0,De.jsx)("span",{className:"text-slate-400",children:(0,De.jsx)("svg",{className:"w-4 h-4 transform transition-transform ".concat(t?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),t&&(0,De.jsx)("ul",{className:"space-y-2 mt-1",children:e.papers.map(e=>(0,De.jsxs)("li",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 rounded-lg hover:bg-slate-50 px-2 py-2",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("button",{type:"button",onClick:()=>(e=>{d(e),p(1),g(1),u(null),v("")})(e),className:"text-left text-indigo-700 hover:text-indigo-900 font-semibold leading-snug hover:underline",children:e.title}),(0,De.jsxs)("div",{className:"mt-1 text-xs text-slate-600",children:["Authors: ",Array.isArray(e.authors)?e.authors.join(", "):e.authors||"N/A"]})]}),(0,De.jsxs)("div",{className:"text-xs text-slate-500 space-y-1 text-left sm:text-right",children:[e.category&&(0,De.jsx)("div",{className:"inline-flex items-center px-2 py-0.5 rounded-full bg-indigo-50 text-indigo-700",children:e.category}),e.publicationDate&&(0,De.jsxs)("div",{className:"text-[11px]",children:["Published:"," ",new Date(e.publicationDate).toLocaleDateString()]})]})]},e.id))})]},e.key)})})})]}),c&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center p-4 z-50",children:(0,De.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] flex flex-col overflow-hidden",children:[(0,De.jsxs)("div",{className:"px-4 sm:px-6 py-4 border-b border-slate-200 flex items-start justify-between gap-3",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h2",{className:"text-lg sm:text-xl font-bold text-slate-900 leading-snug line-clamp-2",children:c.title}),(0,De.jsxs)("p",{className:"mt-1 text-xs text-slate-600",children:["Authors: ",Array.isArray(c.authors)?c.authors.join(", "):c.authors||"N/A"]}),(0,De.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:S(c.assignedIssue)})]}),(0,De.jsx)("button",{type:"button",onClick:k,className:"text-slate-400 hover:text-slate-600 text-xl leading-none",children:"\xd7"})]}),(0,De.jsx)("div",{className:"flex-1 bg-slate-900/95",style:{maxHeight:"80vh",overflowY:"auto"},children:c.pdfUrl&&c.pdfUrl.toLowerCase().endsWith(".pdf")?(0,De.jsxs)("div",{className:"flex flex-col items-center justify-start py-6",children:[(0,De.jsx)(ry,{file:c.pdfUrl,onLoadSuccess:e=>{let{numPages:t}=e;u(t),p(1)},onLoadError:e=>v("Failed to load PDF."),loading:(0,De.jsx)("div",{className:"flex items-center justify-center text-slate-100 text-sm",children:(0,De.jsx)(Oe,{size:"sm",text:"Loading PDF..."})}),error:(0,De.jsx)("div",{className:"flex items-center justify-center text-red-200 text-sm",children:"Failed to load PDF."}),children:(0,De.jsx)(Sy,{pageNumber:m,height:650,scale:f})}),x&&(0,De.jsx)("div",{className:"mt-3 text-xs text-red-200",children:x}),h&&(0,De.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-slate-100 justify-center",children:[(0,De.jsxs)("div",{className:"flex items-center gap-2",children:[(0,De.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.max(e-.25,.5))},className:"px-2 py-1 rounded bg-slate-800 disabled:opacity-50",disabled:f<=.5,children:"-"}),(0,De.jsxs)("span",{children:[Math.round(100*f),"%"]}),(0,De.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.min(e+.25,2))},className:"px-2 py-1 rounded bg-slate-800 disabled:opacity-50",disabled:f>=2,children:"+"}),(0,De.jsx)("button",{type:"button",onClick:()=>{g(1)},className:"px-3 py-1 rounded bg-slate-800/70 hover:bg-slate-800",children:"Reset"})]}),(0,De.jsxs)("div",{className:"flex items-center gap-3",children:[(0,De.jsx)("button",{type:"button",onClick:()=>{p(e=>Math.max(e-1,1))},disabled:m<=1,className:"px-3 py-1 rounded bg-slate-800 disabled:opacity-50",children:"Previous"}),(0,De.jsxs)("span",{children:["Page ",m," of ",h]}),(0,De.jsx)("button",{type:"button",onClick:()=>{p(e=>h?Math.min(e+1,h):e+1)},disabled:h&&m>=h,className:"px-3 py-1 rounded bg-slate-800 disabled:opacity-50",children:"Next"})]})]})]}):(0,De.jsx)("div",{className:"flex items-center justify-center h-full min-h-[60vh] px-6 py-10",children:(0,De.jsxs)("div",{className:"max-w-md text-center",children:[(0,De.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"PDF not available"}),(0,De.jsx)("p",{className:"text-sm text-slate-200",children:"This paper does not have a PDF file available for inline viewing."})]})})}),(0,De.jsx)("div",{className:"px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50 flex justify-end",children:(0,De.jsx)("button",{type:"button",onClick:k,className:"px-4 py-2 bg-slate-800 hover:bg-slate-900 text-white text-xs sm:text-sm font-medium rounded-lg",children:"Close"})})]})})]})},_y=e=>{let{type:t="info",message:s,onClose:n}=e;return(0,De.jsx)("div",{className:"border rounded-lg p-4 ".concat((e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";default:return"bg-blue-50 border-blue-200 text-blue-800"}})(t)),children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"text-lg mr-2",children:(e=>{switch(e){case"success":return"\u2713";case"error":return"\u2715";case"warning":return"\u26a0";default:return"\u2139"}})(t)}),(0,De.jsx)("span",{className:"flex-1",children:s}),n&&(0,De.jsx)("button",{onClick:n,className:"ml-2 text-lg hover:opacity-70 transition-opacity",children:"\xd7"})]})})},Cy=()=>{var e,t;const{login:s,loginWithGoogle:i}=Ie(),r=te(),a=Z(),[o,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(""),f=(null===(e=a.state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";return(0,De.jsxs)("div",{className:"min-h-full bg-academic-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,De.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,De.jsx)("div",{className:"flex justify-center mb-8",children:(0,De.jsx)("img",{src:We,alt:"Research Platform Logo",className:"w-16 h-16 object-contain rounded-2xl shadow-lg"})}),(0,De.jsx)("h2",{className:"mt-2 text-center text-3xl font-extrabold text-academic-900 leading-tight",children:"Sign in to your account"}),(0,De.jsx)("p",{className:"mt-4 text-center text-base text-academic-600",children:"Access your research papers, reviews, and administrative tools"}),(0,De.jsxs)("p",{className:"mt-2 text-center text-sm text-academic-600",children:["Or"," ",(0,De.jsx)(Ce,{to:"/register",className:"font-medium text-amber-700 hover:text-amber-800 transition-colors duration-200",children:"create a new account"})]})]}),(0,De.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,De.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg rounded-lg sm:px-10",children:[m&&(0,De.jsx)(_y,{type:"error",message:m}),(0,De.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{e.preventDefault(),p(""),u(!0);try{const e=await s(o,c);e&&e.success?r(f,{replace:!0}):p((null===e||void 0===e?void 0:e.error)||"Failed to sign in. Please check your credentials.")}catch(t){p("Failed to sign in. Please check your credentials.")}finally{u(!1)}},children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-academic-700",children:"Email address"}),(0,De.jsx)("div",{className:"mt-1",children:(0,De.jsx)("input",{id:"email",type:"email",value:o,onChange:e=>l(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-2 border border-academic-300 rounded-md shadow-sm placeholder-academic-400 focus:outline-none focus:ring-amber-700 focus:border-amber-700 sm:text-sm"})})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-academic-700",children:"Password"}),(0,De.jsx)("div",{className:"mt-1",children:(0,De.jsx)("input",{id:"password",type:"password",value:c,onChange:e=>d(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-2 border border-academic-300 rounded-md shadow-sm placeholder-academic-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),(0,De.jsx)("div",{children:(0,De.jsx)("button",{type:"submit",disabled:h,className:"button w-full justify-center",children:h?(0,De.jsxs)("p",{className:"flex items-center justify-center gap-2 text-sm",children:[(0,De.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,De.jsx)("span",{children:"Signing In..."})]}):(0,De.jsx)("p",{children:"Sign In"})})})]}),(0,De.jsx)("div",{className:"mt-6 flex items-center justify-center",children:(0,De.jsx)(Ce,{to:"/forgot-password",className:"text-sm font-medium text-amber-700 hover:text-amber-800",children:"Forgot your password?"})}),(0,De.jsx)("div",{className:"mt-6",children:(0,De.jsxs)("button",{onClick:async()=>{p(""),u(!0);try{await i(),r("/")}catch(e){p("Google sign-in failed.")}finally{u(!1)}},className:"w-full flex items-center justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-academic-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:[(0,De.jsx)("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5 mr-2"}),"Sign in with Google"]})})]})})]})},Ey=["confirmPassword"],My=()=>{const[e,t]=(0,n.useState)({name:"",email:"",password:"",confirmPassword:"",affiliation:"",department:"",role:"author"}),[s,i]=(0,n.useState)(""),[r,a]=(0,n.useState)(!1),{register:o}=Ie(),l=te(),c=s=>{t(Je(Je({},e),{},{[s.target.name]:s.target.value})),i("")};return(0,De.jsxs)("div",{className:"min-h-full bg-academic-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,De.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,De.jsx)("div",{className:"flex justify-center",children:(0,De.jsx)("img",{src:We,alt:"Research Portal Logo",className:"h-16 w-auto"})}),(0,De.jsx)("h2",{className:"mt-6 text-center text-3xl font-bold text-academic-900",children:"Create your account"}),(0,De.jsxs)("p",{className:"mt-2 text-center text-sm text-academic-600",children:["Or"," ",(0,De.jsx)(Ce,{to:"/login",className:"font-medium text-amber-700 hover:text-amber-800",children:"sign in to your existing account"})]})]}),(0,De.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,De.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[s&&(0,De.jsx)(_y,{type:"error",message:s,onClose:()=>i("")}),(0,De.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),e.password!==e.confirmPassword?(i("Passwords do not match"),0):e.password.length<6?(i("Password must be at least 6 characters long"),0):e.name.trim()?e.email.trim()?e.affiliation.trim()?e.role||(i("Please select a role"),0):(i("Affiliation is required"),0):(i("Email is required"),0):(i("Name is required"),0)){a(!0),i("");try{const{confirmPassword:t}=e,s=Sb(e,Ey),n=await o(s);if(n.success){const e=s.role;l("reviewer"===e?"/reviewer-dashboard":"admin"===e||"editor"===e?"/admin-dashboard":"/author-dashboard")}else i(n.error)}catch(s){i("Registration failed. Please try again.")}finally{a(!1)}}},children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"name",className:"label",children:"Full Name"}),(0,De.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:c,className:"input-field",placeholder:"Enter your full name"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"email",className:"label",children:"Email address"}),(0,De.jsx)("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:c,className:"input-field",placeholder:"Enter your email"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"affiliation",className:"label",children:"Affiliation"}),(0,De.jsx)("input",{id:"affiliation",name:"affiliation",type:"text",required:!0,value:e.affiliation,onChange:c,className:"input-field",placeholder:"University, Institution, or Organization"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"department",className:"label",children:"Department"}),(0,De.jsx)("input",{id:"department",name:"department",type:"text",value:e.department,onChange:c,className:"input-field",placeholder:"Department or Field of Study"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"role",className:"label",children:"Register As"}),(0,De.jsxs)("select",{id:"role",name:"role",value:e.role,onChange:c,className:"input-field",required:!0,children:[(0,De.jsx)("option",{value:"author",children:"Author"}),(0,De.jsx)("option",{value:"reviewer",children:"Reviewer"}),(0,De.jsx)("option",{value:"editor",children:"Editor"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),(0,De.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:e.password,onChange:c,className:"input-field",placeholder:"Create a password"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm Password"}),(0,De.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:e.confirmPassword,onChange:c,className:"input-field",placeholder:"Confirm your password"})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-amber-700 border-academic-300 rounded"}),(0,De.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-academic-900",children:["I agree to the"," ",(0,De.jsx)("a",{href:"#",className:"text-amber-700 hover:text-amber-800",children:"Terms of Service"})," ","and"," ",(0,De.jsx)("a",{href:"#",className:"text-amber-700 hover:text-amber-800",children:"Privacy Policy"})]})]}),(0,De.jsx)("div",{children:(0,De.jsx)("button",{type:"submit",disabled:r,className:"button w-full justify-center",children:r?(0,De.jsxs)("p",{className:"flex items-center justify-center gap-2 text-sm",children:[(0,De.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,De.jsx)("span",{children:"Creating Account..."})]}):(0,De.jsx)("p",{children:"Create Account"})})})]}),(0,De.jsxs)("div",{className:"mt-6",children:[(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,De.jsx)("div",{className:"w-full border-t border-academic-300"})}),(0,De.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,De.jsx)("span",{className:"px-2 bg-white text-academic-500",children:"Or continue with"})})]}),(0,De.jsx)("div",{className:"mt-6",children:(0,De.jsxs)("button",{type:"button",onClick:()=>{alert("Google Sign-In will be available soon.")},className:"w-full flex justify-center items-center gap-3 py-2 px-4 border border-academic-300 rounded-md shadow-sm bg-white text-sm font-medium text-academic-700 hover:bg-academic-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-700",children:[(0,De.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,De.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,De.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,De.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,De.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})})]}),(0,De.jsxs)("div",{className:"mt-6",children:[(0,De.jsxs)("div",{className:"relative",children:[(0,De.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,De.jsx)("div",{className:"w-full border-t border-academic-300"})}),(0,De.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,De.jsx)("span",{className:"px-2 bg-white text-academic-500",children:"Note"})})]}),(0,De.jsx)("div",{className:"mt-6 text-center",children:(0,De.jsxs)("p",{className:"text-sm text-academic-600",children:["By registering, you will be able to submit research papers for review. Your account will be created as an ",e.role,"."]})})]})]})})]})},Py=()=>{const{user:e}=Ie(),[t,s]=(0,n.useState)("submissions"),[i,r]=(0,n.useState)([]),[a,o]=(0,n.useState)(!0),[l,c]=(0,n.useState)([]),[d,h]=(0,n.useState)(!0),u=te(),[m,p]=(0,n.useState)(!1),[f,g]=(0,n.useState)(""),[x,v]=(0,n.useState)("recent"),[b,y]=(0,n.useState)(!1),[w,j]=(0,n.useState)(!1),[N,k]=(0,n.useState)({title:"",authors:"",abstract:"",keywords:"",category:"",wordCount:"",pdfFile:null}),[S,A]=(0,n.useState)(!1),[_,C]=(0,n.useState)(null),[E,M]=(0,n.useState)(null),[P,T]=(0,n.useState)(null),[R,D]=(0,n.useState)(!1);(0,n.useEffect)(()=>{L(),I()},[]);const L=async()=>{try{o(!0);const t=(await Re.getAllPapers()).filter(t=>t.authors.some(t=>t.includes(e.name.split(" ")[0])));r(t)}catch(t){console.error("Error loading papers:",t)}finally{o(!1)}},I=async()=>{try{h(!0);const t=await Re.getNotifications(e.id);c(t)}catch(t){console.error("Error loading notifications:",t)}finally{h(!1)}},F=e=>{const{name:t,value:s,files:n}=e.target;k(Je(Je({},N),{},{[t]:n?n[0]:s}))},O=async t=>{if(await new Promise(e=>{const t=document.createElement("script");t.src="https://checkout.razorpay.com/v1/checkout.js",t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},document.body.appendChild(t)}))try{const s=i.find(e=>e.id===t);if(!s)return;const n=await Re.getRazorpayKey();if(!n)return void C({type:"error",message:"Failed to load payment configuration."});const r=await Re.createPaymentOrder(t,150);if(!r.success)return void C({type:"error",message:r.error||"Failed to initiate payment."});const{amount:a,id:o,currency:l}=r.order,c={key:n,amount:a.toString(),currency:l,name:"Research Paper Submission",description:"Submission Fee for ".concat(s.title),order_id:o,handler:async function(e){const s={orderCreationId:o,razorpayPaymentId:e.razorpay_payment_id,razorpayOrderId:e.razorpay_order_id,razorpaySignature:e.razorpay_signature,paperId:t},n=await Re.verifyPayment(s);n.success?(C({type:"success",message:"Payment processed successfully!"}),L()):C({type:"error",message:n.error||"Payment verification failed."})},prefill:{name:e.name,email:e.email,contact:""},theme:{color:"#b45309"}};new window.Razorpay(c).open()}catch(s){console.error(s),C({type:"error",message:"Payment failed. Please try again."})}else C({type:"error",message:"Razorpay SDK failed to load. Are you online?"})},B={submitted:i.filter(e=>"submitted"===e.status).length,under_review:i.filter(e=>"under_review"===e.status).length,published:i.filter(e=>"published"===e.status).length,rejected:i.filter(e=>"rejected"===e.status).length},W=l.filter(e=>!e.read).length,z=f.trim().toLowerCase(),U=["submitted","under_review","revisions_requested"];let H=(i||[]).filter(e=>{if(!z)return!0;const t=(e.title||"").toLowerCase(),s=(e.abstract||"").toLowerCase(),n=(e.category||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(z)||s.includes(z)||n.includes(z)||i.includes(z)});return b||(H=H.filter(e=>U.includes(e.status))),H=[...H].sort((e,t)=>{if("title_az"===x)return(e.title||"").localeCompare(t.title||"");if("title_za"===x)return(t.title||"").localeCompare(e.title||"");const s=e.submissionDate?new Date(e.submissionDate):new Date(0),n=t.submissionDate?new Date(t.submissionDate):new Date(0);return"oldest"===x?s-n:n-s}),a?(0,De.jsx)("div",{className:"min-h-full flex items-center justify-center",children:(0,De.jsx)(Oe,{size:"lg",text:"Loading your papers..."})}):(0,De.jsx)("div",{className:"min-h-full bg-academic-50",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,De.jsxs)("div",{className:"mb-10 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h1",{className:"text-3xl font-bold text-academic-900 mb-3 leading-tight",children:"Author Dashboard"}),(0,De.jsxs)("p",{className:"text-academic-600 text-lg",children:["Welcome back, ",(0,De.jsx)("span",{className:"font-medium",children:e.name}),". Track your research submissions and manage your academic portfolio."]})]}),(0,De.jsxs)("button",{type:"button",onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 bg-white border border-academic-200 rounded-lg shadow-sm text-sm font-medium text-academic-700 hover:bg-academic-50 transition-colors duration-200",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-academic-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),W>0&&(0,De.jsx)("span",{className:"ml-2 inline-flex items-center justify-center px-2 py-0.5 text-xs font-semibold bg-amber-700 text-white rounded-full",children:W})]})]}),_&&(0,De.jsx)("div",{className:"mb-8",children:(0,De.jsx)(_y,{type:_.type,message:_.message,onClose:()=>C(null)})}),m&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-academic-900",children:"Notifications"}),(0,De.jsx)("button",{type:"button",onClick:()=>p(!1),className:"text-academic-400 hover:text-academic-600",children:"\xd7"})]}),d?(0,De.jsx)("p",{className:"text-sm text-academic-500",children:"Loading notifications..."}):0===l.length?(0,De.jsx)("p",{className:"text-sm text-academic-500",children:"You have no notifications."}):(0,De.jsx)("div",{className:"space-y-3",children:l.map(e=>(0,De.jsx)("div",{onClick:()=>(async e=>{c(t=>t.map(t=>t.id===e?Je(Je({},t),{},{read:!0}):t));try{await Re.markNotificationRead(e)}catch(t){console.error("Error marking notification read:",t)}})(e.id),className:"p-3 rounded-lg border text-sm cursor-pointer transition-colors duration-200 ".concat(e.read?"bg-academic-50 border-academic-100 text-academic-600":"bg-white border-amber-100 text-academic-700 hover:bg-amber-50"),children:(0,De.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,De.jsx)("span",{className:"font-medium",children:e.title}),e.timestamp&&(0,De.jsx)("span",{className:"text-xs text-academic-400",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,De.jsx)("p",{className:"text-xs",children:e.message})]}),(0,De.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),(async e=>{c(t=>t.filter(t=>t.id!==e));try{await Re.deleteNotification(e)}catch(t){console.error("Error deleting notification:",t)}})(e.id)},className:"ml-2 text-xs text-red-600 hover:text-red-800",children:"Delete"})]})},e.id))})]})})}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-amber-50 rounded-xl",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Submitted"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.submitted})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-yellow-50 rounded-xl",children:(0,De.jsxs)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Under Review"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.under_review})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Published"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.published})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-red-50 rounded-xl",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Rejected"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:B.rejected})]})]})})]}),(0,De.jsx)("div",{className:"mb-10",children:(0,De.jsx)("button",{onClick:()=>u("/submitform"),className:"btn-glow",children:(0,De.jsx)("strong",{children:"Submit New Paper"})})}),w&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-8",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-academic-900",children:"Submit New Paper"}),(0,De.jsx)("button",{onClick:()=>j(!1),className:"text-academic-400 hover:text-academic-600 hover:bg-academic-100 rounded-full p-2 transition-colors duration-200",children:(0,De.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,De.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),A(!0);try{const e={title:N.title,authors:N.authors.split(",").map(e=>e.trim()),abstract:N.abstract,keywords:N.keywords.split(",").map(e=>e.trim()),category:N.category,wordCount:parseInt(N.wordCount),submissionFee:150,paymentStatus:"pending"};(await Re.submitPaper(e)).success?(C({type:"success",message:"Paper submitted successfully!"}),j(!1),k({title:"",authors:"",abstract:"",keywords:"",category:"",wordCount:"",pdfFile:null}),L()):C({type:"error",message:"Failed to submit paper. Please try again."})}catch(t){C({type:"error",message:"An error occurred while submitting the paper."})}finally{A(!1)}},className:"space-y-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Paper Title"}),(0,De.jsx)("input",{type:"text",name:"title",value:N.title,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",placeholder:"Enter paper title",required:!0})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Authors (comma-separated)"}),(0,De.jsx)("input",{type:"text",name:"authors",value:N.authors,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",placeholder:"Author 1, Author 2, Author 3",required:!0}),(0,De.jsx)("p",{className:"mt-1 text-xs text-academic-500",children:"Include all contributing authors in order of contribution"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Abstract"}),(0,De.jsx)("textarea",{name:"abstract",value:N.abstract,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200 resize-none",placeholder:"Enter paper abstract (150-300 words)",rows:"6",required:!0})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Keywords (comma-separated)"}),(0,De.jsx)("input",{type:"text",name:"keywords",value:N.keywords,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",placeholder:"keyword1, keyword2, keyword3",required:!0}),(0,De.jsx)("p",{className:"mt-1 text-xs text-academic-500",children:"3-8 keywords that best represent your paper"})]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Category"}),(0,De.jsxs)("select",{name:"category",value:N.category,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",required:!0,children:[(0,De.jsx)("option",{value:"",children:"Select category"}),(0,De.jsx)("option",{value:"Computer Science",children:"Computer Science"}),(0,De.jsx)("option",{value:"Environmental Science",children:"Environmental Science"}),(0,De.jsx)("option",{value:"Biomedical Engineering",children:"Biomedical Engineering"}),(0,De.jsx)("option",{value:"Physics",children:"Physics"}),(0,De.jsx)("option",{value:"Mathematics",children:"Mathematics"}),(0,De.jsx)("option",{value:"Chemistry",children:"Chemistry"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Word Count"}),(0,De.jsx)("input",{type:"number",name:"wordCount",value:N.wordCount,onChange:F,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",placeholder:"e.g., 5000",min:"500",required:!0}),(0,De.jsx)("p",{className:"mt-1 text-xs text-academic-500",children:"Minimum 500 words"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"PDF File"}),(0,De.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-academic-300 border-dashed rounded-lg hover:border-academic-400 transition-colors duration-200",children:(0,De.jsxs)("div",{className:"space-y-1 text-center",children:[(0,De.jsx)("svg",{className:"mx-auto h-12 w-12 text-academic-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:(0,De.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,De.jsxs)("div",{className:"flex text-sm text-academic-600",children:[(0,De.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-amber-700 hover:text-amber-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-amber-700",children:[(0,De.jsx)("span",{children:"Upload a file"}),(0,De.jsx)("input",{type:"file",name:"pdfFile",accept:".pdf",onChange:F,className:"sr-only",required:!0})]}),(0,De.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,De.jsx)("p",{className:"text-xs text-academic-500",children:"PDF up to 20MB"}),N.pdfFile&&(0,De.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[(0,De.jsx)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),N.pdfFile.name]})]})})]}),(0,De.jsx)("div",{className:"bg-academic-50 p-5 rounded-xl border border-academic-200",children:(0,De.jsxs)("div",{className:"flex items-start",children:[(0,De.jsx)("div",{className:"flex-shrink-0",children:(0,De.jsxs)("svg",{className:"h-6 w-6 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),(0,De.jsxs)("p",{children:["Submission fee: ",(0,De.jsx)("strong",{className:"text-lg text-amber-700",children:"\u20b9150"})]})]})}),(0,De.jsxs)("div",{className:"ml-3",children:[(0,De.jsx)("h3",{className:"text-sm font-medium text-academic-900",children:"Submission Information"}),(0,De.jsx)("div",{className:"mt-2 text-sm text-academic-600",children:(0,De.jsx)("p",{className:"mt-1",children:"Payment is required to initiate the review process. You can pay immediately after submission."})})]})]})}),(0,De.jsxs)("div",{className:"flex space-x-4 pt-6",children:[(0,De.jsx)("button",{type:"submit",disabled:S,className:"flex-1 py-3 px-4 bg-amber-700 hover:bg-amber-800 disabled:bg-amber-500 text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-amber-700 focus:ring-offset-2 flex items-center justify-center",children:S?(0,De.jsxs)("span",{className:"flex items-center",children:[(0,De.jsx)(Oe,{size:"sm",text:""}),(0,De.jsx)("span",{className:"ml-2",children:"Submitting..."})]}):"Submit Paper"}),(0,De.jsx)("button",{type:"button",onClick:()=>j(!1),className:"flex-1 py-3 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-academic-500 focus:ring-offset-2",children:"Cancel"})]})]})]})})}),(0,De.jsx)("div",{className:"mb-8",children:(0,De.jsx)("div",{className:"border-b border-academic-200",children:(0,De.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,De.jsxs)("button",{onClick:()=>s("submissions"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("submissions"===t?"border-amber-500 text-amber-600":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["All Submissions (",i.length,")"]}),(0,De.jsxs)("button",{onClick:()=>s("pending"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("pending"===t?"border-amber-500 text-amber-600":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["Pending Payment (",B.submitted,")"]})]})})}),"submissions"===t&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,De.jsx)("input",{type:"text",value:f,onChange:e=>g(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-academic-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700 text-sm"}),(0,De.jsxs)("div",{className:"flex items-center gap-3",children:[(0,De.jsxs)("select",{value:x,onChange:e=>v(e.target.value),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700",children:[(0,De.jsx)("option",{value:"recent",children:"Newest first"}),(0,De.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,De.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,De.jsx)("option",{value:"title_za",children:"Title Z-A"})]}),(0,De.jsx)("button",{type:"button",onClick:()=>y(e=>!e),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm font-medium text-academic-700 hover:bg-academic-50",children:b?"Show unfinished only":"View all papers"})]})]}),(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:H.map(e=>(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-academic-900 line-clamp-2 leading-tight",children:e.title}),(0,De.jsx)("span",{className:"".concat("published"===e.status?"badge-success":"under_review"===e.status?"badge-warning":"submitted"===e.status?"badge-info":"badge-danger"),children:e.status.replace("_"," ").toUpperCase()})]}),(0,De.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Authors:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:e.authors.join(", ")})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Submitted:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:new Date(e.submissionDate).toLocaleDateString()})]}),e.publicationDate&&(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Published:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:new Date(e.publicationDate).toLocaleDateString()})]})]}),(0,De.jsx)("div",{className:"mb-5",children:(0,De.jsx)("p",{className:"text-academic-700 text-sm leading-relaxed line-clamp-3",children:e.abstract})}),e.pdfUrl&&(0,De.jsx)("div",{className:"mb-5",children:(0,De.jsx)("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1.5 bg-academic-100 hover:bg-academic-200 text-academic-700 text-xs font-medium rounded-lg border border-black transition-colors duration-200",children:"View Manuscript (latest version)"})}),"submitted"===e.status&&"pending"===e.paymentStatus&&(0,De.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,De.jsxs)("div",{className:"flex justify-between items-center",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("span",{className:"text-sm text-academic-600 font-medium",children:["Submission fee: ",(0,De.jsx)("span",{className:"text-lg font-bold text-primary-600",children:"$150"})]}),(0,De.jsx)("p",{className:"text-xs text-academic-500 mt-1",children:"Complete payment to initiate review"})]}),(0,De.jsxs)("button",{onClick:()=>O(e.id),className:"Btn",children:[(0,De.jsxs)("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,De.jsx)("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,De.jsx)("path",{d:"M2 6L12 13L22 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),"Pay Now"]})]})}),"submitted"===e.status&&"paid"===e.paymentStatus&&(0,De.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,De.jsxs)("div",{className:"flex items-center justify-between",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,De.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Payment completed"})]}),(0,De.jsx)("span",{className:"text-sm text-academic-500",children:"Awaiting reviewer assignment"})]})}),"under_review"===e.status&&(0,De.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,De.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:"Currently under review"})]}),e.reviewDeadline&&(0,De.jsxs)("p",{className:"text-xs text-academic-500",children:["Estimated completion: ",new Date(e.reviewDeadline).toLocaleDateString()]})]})}),"revisions_requested"===e.status&&(0,De.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,De.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-orange-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M12 18a9 9 0 110-18 9 9 0 010 18z"})}),(0,De.jsx)("span",{className:"text-sm text-academic-700 font-medium",children:"Revisions requested - please upload a revised manuscript."})]}),(0,De.jsx)("button",{type:"button",onClick:()=>{M(e),T(null)},className:"btn-glow mt-1",children:(0,De.jsx)("strong",{children:"Upload Revised"})})]})}),"published"===e.status&&(0,De.jsxs)("div",{className:"pt-4 border-t border-academic-200",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,De.jsx)("span",{className:"text-sm text-green-600 font-medium",children:"Congratulations! Your paper has been published."})]}),e.doi&&(0,De.jsxs)("p",{className:"text-xs text-academic-600 mt-1",children:["DOI: ",e.doi]})]}),"rejected"===e.status&&(0,De.jsxs)("div",{className:"pt-4 border-t border-academic-200",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,De.jsx)("span",{className:"text-sm text-red-600",children:"This paper was not accepted for publication."})]}),(0,De.jsx)("p",{className:"text-xs text-academic-500 mt-1",children:"Consider revising based on feedback and resubmitting."})]})]},e.id))})]}),"pending"===t&&(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.filter(e=>"submitted"===e.status&&"pending"===e.paymentStatus).map(e=>(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-academic-900 mb-4 line-clamp-2",children:e.title}),(0,De.jsxs)("div",{className:"flex items-center justify-between",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("p",{className:"text-sm text-academic-600 font-medium",children:["Submission fee: ",(0,De.jsx)("span",{className:"text-lg font-bold text-primary-600",children:"$150"})]}),(0,De.jsxs)("p",{className:"text-xs text-academic-500 mt-1",children:["Submitted on ",new Date(e.submissionDate).toLocaleDateString()]}),(0,De.jsx)("p",{className:"text-xs text-academic-500 mt-1",children:"Complete payment to initiate review process"})]}),(0,De.jsxs)("button",{onClick:()=>O(e.id),className:"Btn",children:[(0,De.jsxs)("svg",{className:"svgIcon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,De.jsx)("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,De.jsx)("path",{d:"M2 6L12 13L22 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),"Pay Now"]})]})]},e.id))}),0===i.length&&(0,De.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-academic-200",children:[(0,De.jsx)("div",{className:"text-academic-300 text-6xl mb-4",children:(0,De.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),(0,De.jsx)("h3",{className:"text-xl font-semibold text-academic-700 mb-2",children:"No Papers Submitted Yet"}),(0,De.jsx)("p",{className:"text-academic-500 max-w-md mx-auto mb-6",children:"Start your academic journey by submitting your first research paper. We're excited to review your work!"}),(0,De.jsx)("button",{onClick:()=>j(!0),className:"py-3 px-6 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 shadow-sm hover:shadow-md",children:"Submit Your First Paper"})]}),E&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-academic-900",children:"Upload Revised Manuscript"}),(0,De.jsx)("button",{type:"button",onClick:()=>{M(null),T(null)},className:"text-academic-400 hover:text-academic-600",children:"\xd7"})]}),(0,De.jsxs)("div",{className:"mb-4 p-4 bg-academic-50 rounded-lg border border-academic-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-academic-900 mb-1 line-clamp-2",children:E.title}),(0,De.jsx)("p",{className:"text-xs text-academic-600",children:"Upload a revised version of your manuscript in response to reviewer/editor comments."})]}),(0,De.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),E&&P){D(!0);try{const t=await Re.uploadRevision(E.id,e.id,P);t.success?(C({type:"success",message:"Revised manuscript uploaded successfully."}),M(null),T(null),L()):C({type:"error",message:t.error||"Failed to upload revised manuscript."})}catch(s){console.error("Error uploading revised manuscript:",s),C({type:"error",message:"An error occurred while uploading the revised manuscript."})}finally{D(!1)}}else C({type:"error",message:"Please choose a revised manuscript file before submitting."})},className:"space-y-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Revised Manuscript (PDF)"}),(0,De.jsx)("div",{className:"mt-1 flex justify-center px-4 pt-5 pb-6 border-2 border-dashed border-academic-300 rounded-lg hover:border-academic-400 transition-colors duration-200",children:(0,De.jsxs)("div",{className:"space-y-1 text-center",children:[(0,De.jsx)("svg",{className:"mx-auto h-10 w-10 text-academic-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,De.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,De.jsxs)("div",{className:"flex text-sm text-academic-600 justify-center",children:[(0,De.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-primary-600 hover:text-primary-500",children:[(0,De.jsx)("span",{children:"Select file"}),(0,De.jsx)("input",{type:"file",accept:".pdf",onChange:e=>{const t=e.target.files&&e.target.files[0]?e.target.files[0]:null;T(t)},className:"sr-only"})]}),(0,De.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,De.jsx)("p",{className:"text-xs text-academic-500",children:"PDF format only, up to 20MB."}),P&&(0,De.jsxs)("p",{className:"text-xs text-green-700 mt-1",children:["Selected file: ",(0,De.jsx)("span",{className:"font-medium",children:P.name})]})]})})]}),(0,De.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,De.jsx)("button",{type:"submit",disabled:R||!P,className:"flex-1 py-2 px-4 bg-primary-600 hover:bg-primary-700 disabled:bg-primary-400 text-white text-sm font-medium rounded-lg transition-colors duration-200 flex items-center justify-center",children:R?"Uploading...":"Submit Revised Manuscript"}),(0,De.jsx)("button",{type:"button",onClick:()=>{M(null),T(null)},className:"flex-1 py-2 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 text-sm font-medium rounded-lg transition-colors duration-200",children:"Cancel"})]})]})]})})})]})})},Ty=()=>{const{user:e}=Ie(),t=te(),[s,i]=(0,n.useState)("assigned"),[r,a]=(0,n.useState)([]),[o,l]=(0,n.useState)([]),[c,d]=(0,n.useState)(!0),[h,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),[f,g]=(0,n.useState)({rating:"",recommendation:"",comments:""}),[x,v]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),[w,j]=(0,n.useState)([]),[N,k]=(0,n.useState)(""),[S,A]=(0,n.useState)("recent"),[_,C]=(0,n.useState)(!1);(0,n.useEffect)(()=>{E()},[]);const E=async()=>{try{d(!0);const t=(await Re.getAllPapers()).filter(t=>t.assignedReviewers&&t.assignedReviewers.includes(e.id));a(t);const s=await Re.getReviewsByReviewer(e.id);l(s);const n=await Re.getNotifications(e.id);j(Array.isArray(n)?n:[])}catch(t){console.error("Error loading reviewer data:",t)}finally{d(!1)}},M=e=>{g(t=>Je(Je({},t),{},{[e.target.name]:e.target.value}))},P=e=>{if(!e||!e.title||!Array.isArray(w))return 1;return 1+w.filter(t=>t&&"Revised manuscript uploaded"===t.title&&"string"===typeof t.message&&t.message.includes(e.title)).length},T=(()=>{const e=r.filter(e=>o.filter(t=>t.paperId===e.id).length<P(e)).length;return{assigned:r.length,completed:o.length,pending:e}})(),R=N.trim().toLowerCase();let D=(r||[]).map(e=>{const t=o.filter(t=>t.paperId===e.id),s=P(e),n=t.length,i=n>=s;return{paper:e,reviewsForPaper:t,totalRounds:s,reviewCount:n,isCompleted:i,isRevisionRound:!i&&s>1}}).filter(e=>{let{paper:t}=e;return(e=>{if(!R)return!0;const t=(e.title||"").toLowerCase(),s=(e.abstract||"").toLowerCase(),n=(e.category||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(R)||s.includes(R)||n.includes(R)||i.includes(R)})(t)});return _||(D=D.filter(e=>!e.isCompleted)),D=[...D].sort((e,t)=>{const s=e.paper,n=t.paper;if("title_az"===S)return(s.title||"").localeCompare(n.title||"");if("title_za"===S)return(n.title||"").localeCompare(s.title||"");const i=s.submissionDate?new Date(s.submissionDate):new Date(0),r=n.submissionDate?new Date(n.submissionDate):new Date(0);return"oldest"===S?i-r:r-i}),c?(0,De.jsx)("div",{className:"min-h-full flex items-center justify-center",children:(0,De.jsx)(Oe,{size:"lg",text:"Loading your assignments..."})}):(0,De.jsx)("div",{className:"min-h-full bg-academic-50",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,De.jsxs)("div",{className:"mb-10",children:[(0,De.jsx)("h1",{className:"text-3xl font-bold text-academic-900 mb-3 leading-tight",children:"Reviewer Dashboard"}),(0,De.jsxs)("p",{className:"text-academic-600 text-lg",children:["Welcome back, ",(0,De.jsx)("span",{className:"font-medium",children:e.name}),". Manage your review assignments with precision."]})]}),b&&(0,De.jsx)("div",{className:"mb-8",children:(0,De.jsx)(_y,{type:b.type,message:b.message,onClose:()=>y(null)})}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-amber-50 rounded-xl",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Assigned Papers"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:T.assigned})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-yellow-50 rounded-xl",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Pending Reviews"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:T.pending})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 transition-all duration-300 hover:shadow-md",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-500 uppercase tracking-wide",children:"Completed Reviews"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-academic-900 mt-1",children:T.completed})]})]})})]}),(0,De.jsx)("div",{className:"mb-8",children:(0,De.jsx)("div",{className:"border-b border-academic-200",children:(0,De.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,De.jsxs)("button",{onClick:()=>i("assigned"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("assigned"===s?"border-amber-700 text-amber-700":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["Assigned Papers (",T.assigned,")"]}),(0,De.jsxs)("button",{onClick:()=>i("completed"),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ".concat("completed"===s?"border-amber-700 text-amber-700":"border-transparent text-academic-500 hover:text-academic-700 hover:border-academic-300"),children:["Completed Reviews (",T.completed,")"]})]})})}),"assigned"===s&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,De.jsx)("input",{type:"text",value:N,onChange:e=>k(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-academic-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700 text-sm"}),(0,De.jsxs)("div",{className:"flex items-center gap-3",children:[(0,De.jsxs)("select",{value:S,onChange:e=>A(e.target.value),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700",children:[(0,De.jsx)("option",{value:"recent",children:"Newest first"}),(0,De.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,De.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,De.jsx)("option",{value:"title_za",children:"Title Z-A"})]}),(0,De.jsx)("button",{type:"button",onClick:()=>C(e=>!e),className:"px-3 py-2 border border-academic-200 rounded-lg bg-white text-sm font-medium text-academic-700 hover:bg-academic-50",children:_?"Show unfinished only":"View all papers"})]})]}),(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:D.map(e=>{let{paper:s,reviewsForPaper:n,totalRounds:i,reviewCount:r,isCompleted:a,isRevisionRound:o}=e;const l=n[0]||null;return(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-academic-900 line-clamp-2 leading-tight",children:s.title}),(0,De.jsx)("span",{className:"".concat(a?"badge-success":o?"badge-info":"badge-warning"),children:a?"REVIEWED":o?"REVISION PENDING":"PENDING"})]}),(0,De.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Authors:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:s.authors.join(", ")})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Category:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:s.category})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Submitted:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:new Date(s.submissionDate).toLocaleDateString()})]}),s.reviewDeadline&&(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-20",children:"Deadline:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:new Date(s.reviewDeadline).toLocaleDateString()})]})]}),(0,De.jsx)("div",{className:"mb-5",children:(0,De.jsx)("p",{className:"text-academic-700 text-sm leading-relaxed line-clamp-3",children:s.abstract})}),(0,De.jsx)("div",{className:"flex flex-wrap gap-2 mb-5",children:s.keywords.map((e,t)=>(0,De.jsx)("span",{className:"px-3 py-1 bg-academic-100 text-academic-700 text-xs rounded-full font-medium",children:e},t))}),a&&l&&(0,De.jsxs)("div",{className:"pt-4 border-t border-academic-200",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,De.jsx)("span",{className:"text-sm font-medium text-academic-600",children:"Your Review Summary"}),(0,De.jsxs)("span",{className:"text-sm text-academic-500 font-medium",children:["Rating: ",l.rating,"/5"]})]}),(0,De.jsxs)("p",{className:"text-sm text-academic-600 mb-2",children:[(0,De.jsx)("span",{className:"font-medium",children:"Recommendation:"})," ",(0,De.jsx)("span",{className:"font-semibold capitalize",children:l.recommendation.replace("_"," ")})]}),(0,De.jsx)("p",{className:"text-sm text-academic-700 line-clamp-2 bg-academic-50 p-3 rounded-md",children:l.comments})]}),(0,De.jsxs)("div",{className:"pt-4 border-t border-academic-200 flex flex-col sm:flex-row gap-3",children:[(0,De.jsx)("button",{onClick:()=>t("/review/paper/".concat(s.id)),className:"flex-1 py-3 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-academic-500 focus:ring-offset-2",children:"View Manuscript"}),!a&&(0,De.jsx)("button",{onClick:()=>(e=>{p(e),g({rating:"",recommendation:"",comments:""}),u(!0)})(s),className:"Btn",children:(0,De.jsx)("strong",{children:"Start Review"})})]})]},"".concat(s.id,"-").concat(i))})})]}),"completed"===s&&(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(e=>{const t=r.find(t=>t.id===e.paperId);return t?(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-academic-200 p-6 hover:shadow-md transition-all duration-300",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-academic-900 line-clamp-2 leading-tight",children:t.title}),(0,De.jsx)("span",{className:"badge-success",children:"COMPLETED"})]}),(0,De.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-24",children:"Authors:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:t.authors.join(", ")})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-24",children:"Submitted:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:new Date(t.submissionDate).toLocaleDateString()})]}),(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("span",{className:"font-medium text-academic-700 text-sm w-24",children:"Reviewed On:"}),(0,De.jsx)("span",{className:"text-sm text-academic-600",children:new Date(e.submittedDate).toLocaleDateString()})]})]}),(0,De.jsx)("div",{className:"pt-4 border-t border-academic-200",children:(0,De.jsxs)("div",{className:"mb-4",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,De.jsx)("span",{className:"text-sm font-medium text-academic-600",children:"Rating"}),(0,De.jsxs)("div",{className:"flex items-center",children:[[...Array(5)].map((t,s)=>(0,De.jsx)("svg",{className:"w-5 h-5 ".concat(s<e.rating?"text-yellow-400":"text-academic-300"),fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},s)),(0,De.jsxs)("span",{className:"ml-2 text-sm text-academic-600 font-medium",children:["(",e.rating,"/5)"]})]})]}),(0,De.jsx)("div",{className:"mb-3",children:(0,De.jsxs)("p",{className:"text-sm text-academic-600",children:[(0,De.jsx)("span",{className:"font-medium",children:"Recommendation:"}),(0,De.jsx)("span",{className:"ml-2 font-semibold capitalize",children:e.recommendation.replace("_"," ")})]})}),(0,De.jsxs)("div",{children:[(0,De.jsx)("p",{className:"text-sm font-medium text-academic-600 mb-2",children:"Review Comments"}),(0,De.jsx)("div",{className:"bg-academic-50 p-4 rounded-lg border-l-4 border-academic-200",children:(0,De.jsx)("p",{className:"text-sm text-academic-700 leading-relaxed",children:e.comments})})]})]})})]},e.id):null})}),"assigned"===s&&0===r.length&&(0,De.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-academic-200",children:[(0,De.jsx)("div",{className:"text-academic-300 text-6xl mb-4",children:(0,De.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,De.jsx)("h3",{className:"text-xl font-semibold text-academic-700 mb-2",children:"No Papers Assigned for Review"}),(0,De.jsx)("p",{className:"text-academic-500 max-w-md mx-auto",children:"You will be notified when new papers are assigned to you. Thank you for your contribution to the academic review process."})]}),"completed"===s&&0===o.length&&(0,De.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-academic-200",children:[(0,De.jsx)("div",{className:"text-academic-300 text-6xl mb-4",children:(0,De.jsx)("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,De.jsx)("h3",{className:"text-xl font-semibold text-academic-700 mb-2",children:"No Completed Reviews Yet"}),(0,De.jsx)("p",{className:"text-academic-500 max-w-md mx-auto",children:"Your completed reviews will appear here once you've submitted them. Start reviewing your assigned papers to build your review history."})]}),h&&m&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-8",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-academic-900",children:"Submit Review"}),(0,De.jsx)("button",{onClick:()=>u(!1),className:"text-academic-400 hover:text-academic-600 hover:bg-academic-100 rounded-full p-2 transition-colors duration-200",children:(0,De.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,De.jsxs)("div",{className:"mb-8 p-5 bg-academic-50 rounded-xl border border-academic-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-academic-900 text-lg mb-3",children:m.title}),(0,De.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-academic-700",children:"Authors:"}),(0,De.jsx)("p",{className:"text-academic-600 mt-1",children:m.authors.join(", ")})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-academic-700",children:"Category:"}),(0,De.jsx)("p",{className:"text-academic-600 mt-1",children:m.category})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-academic-700",children:"Submitted:"}),(0,De.jsx)("p",{className:"text-academic-600 mt-1",children:new Date(m.submissionDate).toLocaleDateString()})]}),m.reviewDeadline&&(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-academic-700",children:"Deadline:"}),(0,De.jsx)("p",{className:"text-academic-600 mt-1",children:new Date(m.reviewDeadline).toLocaleDateString()})]})]})]}),(0,De.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),v(!0);try{const t={paperId:m.id,reviewerId:e.id,reviewerName:e.name,rating:parseInt(f.rating),recommendation:f.recommendation,comments:f.comments};(await Re.submitReview(t)).success?(y({type:"success",message:"Review submitted successfully!"}),u(!1),p(null),E()):y({type:"error",message:"Failed to submit review. Please try again."})}catch(s){y({type:"error",message:"An error occurred while submitting the review."})}finally{v(!1)}},className:"space-y-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Overall Rating (1-5)"}),(0,De.jsxs)("select",{name:"rating",value:f.rating,onChange:M,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",required:!0,children:[(0,De.jsx)("option",{value:"",children:"Select a rating"}),(0,De.jsx)("option",{value:"1",children:"1 - Poor"}),(0,De.jsx)("option",{value:"2",children:"2 - Below Average"}),(0,De.jsx)("option",{value:"3",children:"3 - Average"}),(0,De.jsx)("option",{value:"4",children:"4 - Good"}),(0,De.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Recommendation"}),(0,De.jsxs)("select",{name:"recommendation",value:f.recommendation,onChange:M,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors duration-200",required:!0,children:[(0,De.jsx)("option",{value:"",children:"Select a recommendation"}),(0,De.jsx)("option",{value:"accept",children:"Accept"}),(0,De.jsx)("option",{value:"accept_with_revisions",children:"Accept with Minor Revisions"}),(0,De.jsx)("option",{value:"reject_with_revisions",children:"Reject with Major Revisions"}),(0,De.jsx)("option",{value:"reject",children:"Reject"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-academic-700 mb-2",children:"Detailed Comments"}),(0,De.jsx)("textarea",{name:"comments",value:f.comments,onChange:M,className:"w-full px-4 py-3 border border-academic-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors duration-200 resize-none",placeholder:"Provide detailed feedback on the paper's strengths, weaknesses, and suggestions for improvement...",rows:"6",required:!0}),(0,De.jsx)("p",{className:"mt-2 text-xs text-academic-500",children:"Your comments will help authors improve their work and assist editors in making informed decisions."})]}),(0,De.jsxs)("div",{className:"flex space-x-4 pt-6",children:[(0,De.jsx)("button",{type:"submit",disabled:x,className:"Btn",children:x?(0,De.jsxs)("span",{className:"flex items-center",children:[(0,De.jsx)(Oe,{size:"sm",text:""}),(0,De.jsx)("span",{className:"ml-2",children:"Submitting..."})]}):"Submit Review"}),(0,De.jsx)("button",{type:"button",onClick:()=>u(!1),className:"flex-1 py-3 px-4 bg-academic-200 hover:bg-academic-300 text-academic-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-academic-500 focus:ring-offset-2",children:"Cancel"})]})]})]})})})]})})},Ry=()=>{const{user:e}=Ie(),[t,s]=(0,n.useState)("submissions"),[i,r]=(0,n.useState)([]),[a,o]=(0,n.useState)({}),[l,c]=(0,n.useState)([]),[d,h]=(0,n.useState)(!0),[u,m]=(0,n.useState)([]),[p,f]=(0,n.useState)(!0),[g,x]=(0,n.useState)({}),[v,b]=(0,n.useState)(null),[y,w]=(0,n.useState)({}),[j,N]=(0,n.useState)(null),[k,S]=(0,n.useState)(!1),[A,_]=(0,n.useState)(null),[C,E]=(0,n.useState)(""),[M,P]=(0,n.useState)(!1),[T,R]=(0,n.useState)(null),[D,L]=(0,n.useState)([]),[I,F]=(0,n.useState)(!1),[O,B]=(0,n.useState)(null),[W,z]=(0,n.useState)([]),[U,H]=(0,n.useState)(!1),[V,G]=(0,n.useState)(null),[q,X]=(0,n.useState)(""),[Y,K]=(0,n.useState)(!1),[J,Q]=(0,n.useState)(!1),[$,Z]=(0,n.useState)(null),[ee,te]=(0,n.useState)(""),[se,ne]=(0,n.useState)(!1),[ie,re]=(0,n.useState)(!1),[ae,oe]=(0,n.useState)(null),[le,ce]=(0,n.useState)(""),[de,he]=(0,n.useState)(!1),[ue,me]=(0,n.useState)({volume:"",issue:"",month:"",year:""}),[pe,fe]=(0,n.useState)(""),[ge,xe]=(0,n.useState)(!1),[ve,be]=(0,n.useState)("name_az"),ye=(0,n.useRef)(null),we=(0,n.useRef)(null),[je,Ne]=(0,n.useState)(""),[ke,Se]=(0,n.useState)("recent"),[Ae,_e]=(0,n.useState)(!1);(0,n.useEffect)(()=>{Ce()},[]),(0,n.useEffect)(()=>{const e=e=>{ye.current&&!ye.current.contains(e.target)&&xe(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,n.useEffect)(()=>{(async()=>{if(e&&e.id)try{const t=await Re.getNotifications(e.id);L(Array.isArray(t)?t:[])}catch(t){console.error("Error loading admin notifications in AdminDashboard",t),L([])}else L([])})()},[e]);const Ce=async()=>{try{h(!0),f(!0);const s=await Re.getAllPapers(),n=await Promise.all(s.map(async e=>{const t=await Re.getReviewsByPaper(e.id);return{paperId:e.id,reviews:t}})),i={};n.forEach(e=>{let{paperId:t,reviews:s}=e;i[t]=s}),o(i);const a=await Re.getReviewers();c(a);const l=await Re.getIssues();if(m(l),e&&e.id)try{const t=await Re.getNotifications(e.id);L(Array.isArray(t)?t:[])}catch(t){console.error("Error loading admin notifications in dashboard",t),L([])}else L([]);const d=await Re.getIssueAssignments(),u={};d.forEach(e=>{e&&e.paperId&&e.issue&&(u[e.paperId]=e.issue)}),x(u);const p=(s||[]).map(e=>Je(Je({},e),{},{assignedIssue:u[e.id]||null}));r(p)}catch(s){console.error("Error loading admin ",s)}finally{h(!1),f(!1)}},Ee=e=>{const{name:t,value:s}=e.target;me(e=>Je(Je({},e),{},{[t]:s}))},Me=pe.trim().toLowerCase();let Pe=l.filter(e=>{const t=(e.name||"").toLowerCase(),s=(e.email||"").toLowerCase(),n=(e.affiliation||"").toLowerCase();return!Me||(t.includes(Me)||s.includes(Me)||n.includes(Me))});Pe=[...Pe].sort((e,t)=>"name_az"===ve?(e.name||"").localeCompare(t.name||""):"name_za"===ve?(t.name||"").localeCompare(e.name||""):"affiliation_az"===ve?(e.affiliation||"").localeCompare(t.affiliation||""):0);const Te={submitted:i.filter(e=>"submitted"===e.status).length,under_review:i.filter(e=>"under_review"===e.status).length,published:i.filter(e=>"published"===e.status).length,rejected:i.filter(e=>"rejected"===e.status).length},Le=je.trim().toLowerCase(),Fe=e=>{if(!Le)return!0;const t=(e.title||"").toLowerCase(),s=(e.abstract||"").toLowerCase(),n=(e.category||"").toLowerCase(),i=Array.isArray(e.authors)?e.authors.join(" ").toLowerCase():String(e.authors||"").toLowerCase();return t.includes(Le)||s.includes(Le)||n.includes(Le)||i.includes(Le)},Be=["submitted","under_review","revisions_requested"];let We=(i||[]).filter(Fe);Ae||(We=We.filter(e=>Be.includes(e.status))),We=[...We].sort((e,t)=>{if("title_az"===ke)return(e.title||"").localeCompare(t.title||"");if("title_za"===ke)return(t.title||"").localeCompare(e.title||"");const s=e.submissionDate?new Date(e.submissionDate):new Date(0),n=t.submissionDate?new Date(t.submissionDate):new Date(0);return"oldest"===ke?s-n:n-s});let ze=(i||[]).filter(e=>"under_review"===e.status||"revisions_requested"===e.status).filter(Fe);ze=[...ze].sort((e,t)=>{if("title_az"===ke)return(e.title||"").localeCompare(t.title||"");if("title_za"===ke)return(t.title||"").localeCompare(e.title||"");const s=e.submissionDate?new Date(e.submissionDate):new Date(0),n=t.submissionDate?new Date(t.submissionDate):new Date(0);return"oldest"===ke?s-n:n-s});const Ue=e=>!!(e&&e.title&&Array.isArray(D))&&D.some(t=>t&&"Revised manuscript uploaded"===t.title&&"string"===typeof t.message&&t.message.includes(e.title));return d?(0,De.jsx)("div",{className:"min-h-full flex items-center justify-center",children:(0,De.jsx)(Oe,{size:"lg",text:"Loading admin data..."})}):(0,De.jsx)("div",{className:"min-h-full bg-gray-50",children:(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,De.jsxs)("div",{className:"mb-10",children:[(0,De.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Admin Dashboard"}),(0,De.jsxs)("p",{className:"text-gray-600 text-lg",children:["Welcome back, ",(0,De.jsx)("span",{className:"font-medium",children:e.name}),". Manage submissions and reviewer assignments."]})]}),T&&(0,De.jsx)("div",{className:"mb-8",children:(0,De.jsx)(_y,{type:T.type,message:T.message,onClose:()=>R(null)})}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-amber-50 rounded-xl",children:(0,De.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-amber-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Submitted"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te.submitted})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-yellow-50 rounded-xl",children:(0,De.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Under Review"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te.under_review})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-green-50 rounded-xl",children:(0,De.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Published"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te.published})]})]})}),(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("div",{className:"p-3 bg-red-50 rounded-xl",children:(0,De.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsxs)("div",{className:"ml-4",children:[(0,De.jsx)("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:"Rejected"}),(0,De.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:Te.rejected})]})]})})]}),(0,De.jsx)("div",{className:"mb-8",children:(0,De.jsx)("div",{className:"border-b border-gray-200",children:(0,De.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,De.jsxs)("button",{onClick:()=>s("submissions"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("submissions"===t?"border-amber-700 text-amber-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["All Submissions (",i.length,")"]}),(0,De.jsxs)("button",{onClick:()=>s("pending"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("pending"===t?"border-amber-700 text-amber-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Pending Assignment (",Te.submitted,")"]}),(0,De.jsxs)("button",{onClick:()=>s("issues"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("issues"===t?"border-amber-700 text-amber-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Journal Issues (",u.length,")"]}),(0,De.jsxs)("button",{onClick:()=>s("review"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("review"===t?"border-amber-700 text-amber-700":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Under Review (",Te.under_review,")"]})]})})}),"submissions"===t&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,De.jsx)("input",{type:"text",value:je,onChange:e=>Ne(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm"}),(0,De.jsxs)("div",{className:"flex items-center gap-3",children:[(0,De.jsxs)("select",{value:ke,onChange:e=>Se(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500",children:[(0,De.jsx)("option",{value:"recent",children:"Newest first"}),(0,De.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,De.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,De.jsx)("option",{value:"title_za",children:"Title Z-A"})]}),(0,De.jsx)("button",{type:"button",onClick:()=>_e(e=>!e),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:Ae?"Show unfinished only":"View all papers"})]})]}),(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:We.map(e=>(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,De.jsx)("span",{className:"".concat("published"===e.status?"badge-success":"under_review"===e.status?"badge-warning":"submitted"===e.status?"badge-info":"badge-danger"),children:e.status.replace("_"," ").toUpperCase()})]}),(0,De.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Authors:"})," ",e.authors.join(", ")]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Category:"})," ",e.category]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Submitted:"})," ",new Date(e.submissionDate).toLocaleDateString()]}),e.doi&&(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"DOI:"})," ",e.doi]})]}),(0,De.jsx)("p",{className:"text-gray-700 text-sm mb-5 line-clamp-3",children:e.abstract}),"published"===e.status&&u.length>0&&(0,De.jsx)("div",{className:"pt-4 border-t border-gray-200",children:e.assignedIssue?(0,De.jsx)("div",{className:"flex items-center justify-between text-xs text-gray-600",children:(0,De.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-green-50 text-green-700 rounded-full font-medium",children:["Assigned to Volume ",e.assignedIssue.volume,", Issue ",e.assignedIssue.issue]})}):(0,De.jsx)("button",{type:"button",onClick:()=>(e=>{e&&(u&&0!==u.length?(oe(e),u.length>0?ce(String(u[0].id)):ce(""),re(!0)):R({type:"error",message:"No issues available. Please create an issue first in the Journal Issues tab."}))})(e),className:"inline-flex items-center px-3 py-1.5 bg-amber-700 hover:bg-amber-800 text-white text-xs font-semibold rounded-full shadow-sm transition",children:"Add to Journal Issue"})}),(0,De.jsx)("div",{className:"flex flex-wrap gap-2 mb-5",children:e.keywords.map((e,t)=>(0,De.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded font-medium",children:e},t))}),e.assignedReviewers&&(0,De.jsxs)("div",{className:"pt-4 border-t border-gray-200 text-sm text-gray-600",children:[(0,De.jsx)("span",{className:"font-medium",children:"Assigned Reviewers:"})," ",e.assignedReviewers.length]})]},e.id))})]}),"pending"===t&&(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:i.filter(e=>"submitted"===e.status).map(e=>(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,De.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:"PENDING ASSIGNMENT"})]}),(0,De.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Authors:"})," ",e.authors.join(", ")]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Category:"})," ",e.category]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium text-gray-700 w-20 inline-block",children:"Submitted:"})," ",new Date(e.submissionDate).toLocaleDateString()]})]}),(0,De.jsx)("p",{className:"text-gray-700 text-sm mb-5 line-clamp-3",children:e.abstract}),(0,De.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,De.jsx)("button",{onClick:()=>{_(e),S(!0)},className:"w-full py-2 px-4 bg-amber-700 hover:bg-amber-800 text-white text-sm font-medium rounded-lg transition",children:"Assign Reviewer"})})]},e.id))}),"review"===t&&(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,De.jsx)("input",{type:"text",value:je,onChange:e=>Ne(e.target.value),placeholder:"Search by title, author, category...",className:"w-full md:max-w-md px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700 text-sm"}),(0,De.jsx)("div",{className:"flex items-center gap-3",children:(0,De.jsxs)("select",{value:ke,onChange:e=>Se(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700",children:[(0,De.jsx)("option",{value:"recent",children:"Newest first"}),(0,De.jsx)("option",{value:"oldest",children:"Oldest first"}),(0,De.jsx)("option",{value:"title_az",children:"Title A-Z"}),(0,De.jsx)("option",{value:"title_za",children:"Title Z-A"})]})})]}),(0,De.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:ze.map(e=>{var t;const s=a[e.id]||[],n=(null===(t=s[0])||void 0===t?void 0:t.recommendation)||"";return(0,De.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,De.jsxs)("div",{className:"flex-1 mr-3 space-y-1",children:[(0,De.jsx)("h3",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),"revisions_requested"===e.status&&(0,De.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-orange-50 text-orange-700 text-xs font-medium rounded-full",children:"Revision requested / waiting for updated manuscript"}),Ue(e)&&(0,De.jsx)("span",{className:"badge-revised",children:"Revised manuscript received"})]}),(0,De.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 whitespace-nowrap",children:"UNDER REVIEW"})]}),s.length>0&&(0,De.jsx)("div",{className:"mb-3",children:(0,De.jsx)("button",{type:"button",onClick:()=>{B(e),z(s),F(!0)},className:"mt-1 text-amber-700 hover:text-amber-900 text-xs font-medium",children:"View all reviews"})}),(0,De.jsxs)("div",{className:"mb-4 space-y-2 text-sm",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Authors:"})," ",e.authors.join(", ")]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Category:"})," ",e.category]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",new Date(e.submissionDate).toLocaleDateString()]}),e.reviewDeadline&&(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Deadline:"})," ",new Date(e.reviewDeadline).toLocaleDateString()]})]}),(0,De.jsx)("p",{className:"text-gray-700 text-sm mb-5 line-clamp-3",children:e.abstract}),e.assignedReviewers&&(0,De.jsxs)("div",{className:"mb-5 text-sm text-gray-600",children:[(0,De.jsx)("span",{className:"font-medium",children:"Assigned Reviewers:"})," ",e.assignedReviewers.length]}),s.length>0&&(0,De.jsxs)("div",{className:"mb-5 text-sm text-gray-700",children:[(0,De.jsx)("span",{className:"font-medium",children:"Completed Reviews:"})," ",s.length,n&&(0,De.jsxs)("button",{type:"button",onClick:()=>{B(e),z(s),F(!0)},className:"ml-3 inline-flex items-center px-3 py-1 bg-indigo-50 hover:bg-indigo-100 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-200 transition",children:["Recommendation:",(0,De.jsx)("span",{className:"ml-1 capitalize",children:n.replace("_"," ")})]})]}),0===s.length&&(0,De.jsx)("p",{className:"mb-5 text-xs text-gray-500",children:"At least one completed review is required before making a final decision."}),(0,De.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,De.jsxs)("div",{className:"flex space-x-3",children:[(0,De.jsx)("button",{onClick:()=>(async e=>{try{const t=await Re.publishPaper(e);t.success?(R({type:"success",message:"Paper published successfully."}),Ce()):R({type:"error",message:t.error||"Failed to publish paper."})}catch(t){R({type:"error",message:"An error occurred while publishing the paper."})}})(e.id),disabled:0===s.length,className:"Btn disabled:opacity-50 disabled:cursor-not-allowed",children:(0,De.jsx)("strong",{children:"Publish Paper"})}),(0,De.jsx)("button",{onClick:()=>{_(e),S(!0)},className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Assign More"})]})})]},e.id)})})]}),"issues"===t&&(0,De.jsx)("div",{children:(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,De.jsxs)("div",{className:"lg:col-span-2",children:[(0,De.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"All Issues"}),(0,De.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,De.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border-l-4 ".concat(e.isCurrent?"border-green-500":"border-gray-200"),children:[(0,De.jsxs)("div",{className:"flex items-center justify-between",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("p",{className:"font-bold text-gray-900",children:["Volume ",e.volume,", Issue ",e.issue," (",e.month," ",e.year,")"]}),e.isCurrent&&(0,De.jsx)("span",{className:"text-xs font-semibold bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Current Issue"})]}),(0,De.jsxs)("div",{className:"flex items-center gap-2",children:[(0,De.jsx)("button",{onClick:()=>(async e=>{if(e)if(v!==e.id){if(b(e.id),!y[e.id])try{N(e.id);const t=await Re.getIssuePapers(e.id);w(s=>Je(Je({},s),{},{[e.id]:t||[]}))}catch(t){console.error("Error loading papers for issue",e.id,t),w(t=>Je(Je({},t),{},{[e.id]:[]})),N(null)}}else b(null)})(e),className:"text-xs bg-gray-100 text-gray-700 hover:bg-gray-200 px-3 py-1 rounded-md",children:v===e.id?"Hide Papers":"View Papers"}),!e.isCurrent&&(0,De.jsx)("button",{onClick:()=>(async e=>{try{const t=await Re.setCurrentIssue(e);if(t.success&&t.issue){const e=t.issue;m(t=>t.map(t=>Je(Je({},t),{},{isCurrent:t.id===e.id}))),R({type:"success",message:"Current issue has been updated."})}else R({type:"error",message:t.error||"Failed to update current issue."})}catch(t){R({type:"error",message:"An error occurred while updating the current issue."})}})(e.id),className:"text-xs bg-amber-100 text-amber-700 hover:bg-amber-200 px-3 py-1 rounded-md",children:"Set as Current"}),(0,De.jsx)("button",{onClick:()=>(async e=>{try{const t=await Re.deleteIssue(e);t.success?(m(t=>t.filter(t=>t.id!==e)),R({type:"success",message:"Issue deleted successfully."})):R({type:"error",message:t.error||"Failed to delete issue."})}catch(t){R({type:"error",message:"An error occurred while deleting the issue."})}})(e.id),className:"text-xs bg-red-100 text-red-700 hover:bg-red-200 px-3 py-1 rounded-md",children:"Delete"})]})]}),v===e.id&&(0,De.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200 space-y-2 text-sm",children:j===e.id?(0,De.jsx)("p",{className:"text-gray-500",children:"Loading papers for this issue..."}):0===(y[e.id]||[]).length?(0,De.jsx)("p",{className:"text-gray-500",children:"No papers have been assigned to this issue yet."}):(y[e.id]||[]).map(e=>(0,De.jsxs)("div",{className:"flex flex-col",children:[(0,De.jsx)("a",{href:e.pdfUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-blue-700 hover:text-blue-900 hover:underline",children:e.title}),(0,De.jsx)("span",{className:"text-xs text-gray-600",children:Array.isArray(e.authors)?e.authors.join(", "):e.authors})]},e.id))})]},e.id))})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Add New Issue"}),(0,De.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=parseInt(ue.volume,10),t=parseInt(ue.issue,10),s=parseInt(ue.year,10),n=await Re.createIssue({volume:e,issue:t,month:ue.month,year:s});n.success&&n.issue?(m(e=>[n.issue,...e].sort((e,t)=>t.year-e.year||t.issue-e.issue)),me({volume:"",issue:"",month:"",year:""}),R({type:"success",message:"New issue added successfully."})):R({type:"error",message:n.error||"Failed to add issue."})}catch(t){R({type:"error",message:"An error occurred while adding the issue."})}},className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 space-y-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"volume",className:"block text-sm font-medium text-gray-700",children:"Volume"}),(0,De.jsx)("input",{type:"number",name:"volume",id:"volume",value:ue.volume,onChange:Ee,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-700 focus:border-amber-700 sm:text-sm",placeholder:"e.g., 3"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"issue",className:"block text-sm font-medium text-gray-700",children:"Issue"}),(0,De.jsx)("input",{type:"number",name:"issue",id:"issue",value:ue.issue,onChange:Ee,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-700 focus:border-amber-700 sm:text-sm",placeholder:"e.g., 4"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-700",children:"Month"}),(0,De.jsx)("input",{type:"text",name:"month",id:"month",value:ue.month,onChange:Ee,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-700 focus:border-amber-700 sm:text-sm",placeholder:"e.g., December"})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700",children:"Year"}),(0,De.jsx)("input",{type:"number",name:"year",id:"year",value:ue.year,onChange:Ee,required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-amber-700 focus:border-amber-700 sm:text-sm",placeholder:"e.g., 2025"})]}),(0,De.jsx)("button",{type:"submit",className:"w-full py-2 px-4 bg-amber-700 hover:bg-amber-800 text-white font-medium rounded-lg transition",children:"Add Issue"})]})]})]})}),"pending"===t&&0===i.filter(e=>"submitted"===e.status).length&&(0,De.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,De.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"All Papers Assigned"}),(0,De.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"All submitted papers have been assigned to reviewers. Check back later for new submissions."})]}),"review"===t&&0===i.filter(e=>"under_review"===e.status).length&&(0,De.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,De.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No Papers Under Review"}),(0,De.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"Papers currently under review will appear here. You can assign reviewers to pending papers."})]}),k&&A&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Assign Reviewer"}),(0,De.jsx)("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,De.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:A.title}),(0,De.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Authors:"})," ",A.authors.join(", ")]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Category:"})," ",A.category]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",new Date(A.submissionDate).toLocaleDateString()]})]})]}),(0,De.jsxs)("div",{className:"mb-6",ref:ye,children:[(0,De.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-3",children:[(0,De.jsxs)("div",{className:"relative flex-1",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Reviewers"}),(0,De.jsx)("input",{ref:we,type:"text",value:pe,onChange:e=>fe(e.target.value),placeholder:"Search by name, email, or affiliation...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 pr-10"}),(0,De.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none mt-5 sm:mt-0",children:(0,De.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,De.jsxs)("div",{className:"w-full sm:w-56",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,De.jsxs)("select",{value:ve,onChange:e=>be(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700",children:[(0,De.jsx)("option",{value:"name_az",children:"Name A-Z"}),(0,De.jsx)("option",{value:"name_za",children:"Name Z-A"}),(0,De.jsx)("option",{value:"affiliation_az",children:"Affiliation A-Z"})]})]})]}),(0,De.jsx)("div",{className:"border border-gray-200 rounded-lg max-h-72 overflow-y-auto divide-y",children:Pe.length>0?Pe.map(e=>(0,De.jsx)("button",{type:"button",onClick:()=>{E(String(e.id)),fe(e.name||e.email||"")},className:"w-full text-left px-3 py-2 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 ".concat(C===String(e.id)?"bg-blue-50 border-l-4 border-blue-400":"hover:bg-gray-50"),children:(0,De.jsxs)("div",{children:[(0,De.jsx)("div",{className:"font-medium text-gray-900",children:e.name||"Unnamed reviewer"}),(0,De.jsxs)("div",{className:"text-xs text-gray-500",children:[e.email&&(0,De.jsx)("span",{children:e.email}),e.affiliation&&(0,De.jsxs)("span",{className:"ml-1",children:["\u2022 ",e.affiliation]})]})]})},e.id)):(0,De.jsx)("div",{className:"px-3 py-4 text-sm text-gray-500 text-center",children:"No reviewers found. Try a different search."})})]}),(0,De.jsxs)("div",{className:"flex space-x-3",children:[(0,De.jsx)("button",{onClick:async()=>{if(A&&C){P(!0);try{const e=await Re.assignReviewer(A.id,parseInt(C));e.success?(R({type:"success",message:"Reviewer assigned successfully."}),S(!1),_(null),E(""),fe(""),Ce()):R({type:"error",message:e.error||"Failed to assign reviewer."})}catch(e){R({type:"error",message:"An error occurred while assigning the reviewer."})}finally{P(!1)}}},disabled:M||!C,className:"flex-1 py-2 px-4 bg-amber-700 hover:bg-amber-800 disabled:bg-amber-500 text-white text-sm font-medium rounded-lg transition flex items-center justify-center",children:M?"Assigning...":"Assign Reviewer"}),(0,De.jsx)("button",{onClick:()=>S(!1),className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Cancel"})]})]})})}),I&&O&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Reviews for this paper"}),(0,De.jsx)("button",{onClick:()=>F(!1),className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,De.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:O.title}),(0,De.jsxs)("p",{className:"text-sm text-gray-600",children:["Authors: ",O.authors.join(", ")]})]}),0===W.length?(0,De.jsx)("p",{className:"text-sm text-gray-600",children:"No reviews have been submitted yet."}):(0,De.jsx)("div",{className:"space-y-4",children:W.map(e=>(0,De.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("p",{className:"text-sm font-medium text-gray-800",children:["Reviewer: ",e.reviewerName||"#".concat(e.reviewerId)]}),(0,De.jsxs)("p",{className:"text-xs text-gray-500",children:["Submitted on ",e.submittedDate?new Date(e.submittedDate).toLocaleDateString():"N/A"]})]}),(0,De.jsxs)("div",{className:"text-sm font-semibold text-gray-800",children:["Rating: ",e.rating,"/5"]})]}),(0,De.jsxs)("p",{className:"text-sm text-gray-700 mb-1",children:[(0,De.jsx)("span",{className:"font-medium",children:"Recommendation:"})," ",(0,De.jsx)("span",{className:"capitalize",children:e.recommendation.replace("_"," ")})]}),(0,De.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:e.comments})]},e.id))}),(0,De.jsxs)("div",{className:"flex flex-wrap gap-3 mt-6",children:[(0,De.jsx)("button",{type:"button",onClick:()=>{var e;(e=O)&&(G(e),X(""),H(!0))},className:"py-2 px-4 bg-yellow-100 hover:bg-yellow-200 text-yellow-800 text-sm font-medium rounded-lg transition",children:"Request Revisions"}),(0,De.jsx)("button",{type:"button",onClick:()=>{var e;(e=O)&&(Z(e),te(""),Q(!0))},className:"py-2 px-4 bg-red-100 hover:bg-red-200 text-red-700 text-sm font-medium rounded-lg transition",children:"Reject Paper"}),(0,De.jsx)("button",{type:"button",onClick:()=>F(!1),className:"ml-auto py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Close"})]})]})})}),U&&V&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Request Revisions"}),(0,De.jsx)("button",{onClick:()=>{H(!1),G(null),X("")},className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,De.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:V.title}),(0,De.jsx)("p",{className:"text-xs text-gray-600",children:"This message will be sent to the author. Please clearly describe the requested changes."})]}),(0,De.jsxs)("div",{className:"mb-4",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message to author"}),(0,De.jsx)("textarea",{value:q,onChange:e=>X(e.target.value),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-700 focus:border-amber-700 text-sm resize-none",placeholder:"Describe the requested revisions..."})]}),(0,De.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,De.jsx)("button",{type:"button",onClick:async()=>{if(!V)return;const e=q.trim();if(e)try{K(!0);const t=await Re.requestRevisions(V.id,e);t.success?(R({type:"success",message:"Revision request sent to the author."}),H(!1),G(null),X(""),Ce()):R({type:"error",message:t.error||"Failed to request revisions."})}catch(t){R({type:"error",message:"An error occurred while requesting revisions."})}finally{K(!1)}else R({type:"error",message:"Please describe the requested changes before sending a revision request."})},disabled:Y||!q.trim(),className:"flex-1 py-2 px-4 bg-yellow-500 hover:bg-yellow-600 disabled:bg-yellow-300 text-white text-sm font-medium rounded-lg transition",children:Y?"Sending...":"Send Request"}),(0,De.jsx)("button",{type:"button",onClick:()=>{H(!1),G(null),X("")},className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Cancel"})]})]})})}),J&&$&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Reject Paper"}),(0,De.jsx)("button",{onClick:()=>{Q(!1),Z(null),te("")},className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,De.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:$.title}),(0,De.jsx)("p",{className:"text-xs text-gray-600",children:"You can optionally include a short note explaining the reason for rejection. This will be shared with the author."})]}),(0,De.jsxs)("div",{className:"mb-4",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Optional note to author"}),(0,De.jsx)("textarea",{value:ee,onChange:e=>te(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 text-sm resize-none",placeholder:"Explain briefly why the paper is being rejected (optional)."})]}),(0,De.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,De.jsx)("button",{type:"button",onClick:async()=>{if($)try{ne(!0);const e=ee.trim(),t=await Re.rejectPaper($.id,e||void 0);t.success?(R({type:"success",message:"Paper rejected and author notified."}),Q(!1),Z(null),te(""),Ce()):R({type:"error",message:t.error||"Failed to reject paper."})}catch(e){R({type:"error",message:"An error occurred while rejecting the paper."})}finally{ne(!1)}},disabled:se,className:"flex-1 py-2 px-4 bg-red-600 hover:bg-red-700 disabled:bg-red-400 text-white text-sm font-medium rounded-lg transition",children:se?"Rejecting...":"Reject Paper"}),(0,De.jsx)("button",{type:"button",onClick:()=>{Q(!1),Z(null),te("")},className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Cancel"})]})]})})}),ie&&ae&&(0,De.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,De.jsx)("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:(0,De.jsxs)("div",{className:"p-6",children:[(0,De.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,De.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Assign to Journal Issue"}),(0,De.jsx)("button",{onClick:()=>{re(!1),oe(null),ce("")},className:"text-gray-400 hover:text-gray-600",children:"\xd7"})]}),(0,De.jsxs)("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,De.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:ae.title}),(0,De.jsx)("p",{className:"text-xs text-gray-600",children:"Choose a journal issue to which this published paper should belong."})]}),(0,De.jsxs)("div",{className:"mb-4",children:[(0,De.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select issue"}),(0,De.jsxs)("select",{value:le,onChange:e=>ce(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm bg-white",children:[(0,De.jsx)("option",{value:"",children:"Choose an issue..."}),u.map(e=>(0,De.jsx)("option",{value:e.id,children:"Volume ".concat(e.volume,", Issue ").concat(e.issue," (").concat(e.month," ").concat(e.year,")")},e.id))]})]}),(0,De.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,De.jsx)("button",{type:"button",onClick:async()=>{if(!ae||!le)return;const e=parseInt(le,10);if(Number.isNaN(e))R({type:"error",message:"Invalid issue ID."});else try{he(!0);const t=await Re.assignPaperToIssue(ae.id,e);t.success?(R({type:"success",message:"Paper assigned to issue successfully."}),re(!1),oe(null),ce(""),Ce()):R({type:"error",message:t.error||"Failed to assign paper to issue."})}catch(t){console.error("Error assigning paper to issue:",t),R({type:"error",message:"An error occurred while assigning the paper to an issue."})}finally{he(!1)}},disabled:de||!le,className:"flex-1 py-2 px-4 bg-amber-700 hover:bg-amber-800 disabled:bg-amber-500 text-white text-sm font-medium rounded-lg transition",children:de?"Assigning...":"Assign to Issue"}),(0,De.jsx)("button",{type:"button",onClick:()=>{re(!1),oe(null),ce("")},className:"flex-1 py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded-lg transition",children:"Cancel"})]})]})})})]})})};Nd.workerSrc="https://unpkg.com/pdfjs-dist@".concat(Du,"/build/pdf.worker.min.mjs");const Dy=()=>{var e;const{id:t}=function(){let{matches:e}=n.useContext(J),t=e[e.length-1];return t?t.params:{}}(),s=te(),{user:i}=Ie(),[r,a]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0),[c,d]=(0,n.useState)(""),[h,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(1),[f,g]=(0,n.useState)(1);(0,n.useEffect)(()=>{(async()=>{try{l(!0),d("");const e=await Re.getPaperById(t);e?a(e):d("Paper not found.")}catch(Gy){console.error("Failed to load paper",Gy),d("Failed to load paper. Please try again.")}finally{l(!1)}})()},[t]);if(o)return(0,De.jsx)("div",{className:"min-h-full flex items-center justify-center bg-academic-50",children:(0,De.jsx)(Oe,{size:"lg",text:"Loading manuscript..."})});if(c||!r)return(0,De.jsx)("div",{className:"min-h-full bg-academic-50 flex items-center justify-center px-4",children:(0,De.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-xl p-6 text-center",children:[(0,De.jsx)("h1",{className:"text-xl font-semibold text-academic-900 mb-3",children:"Unable to open manuscript"}),(0,De.jsx)("p",{className:"text-academic-600 mb-6",children:c||"Paper not found."}),(0,De.jsx)("button",{onClick:()=>s(-1),className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg text-sm font-medium",children:"Go Back"})]})});const x=r.pdfUrl&&r.pdfUrl.toLowerCase().endsWith(".pdf");return(0,De.jsx)("div",{className:"min-h-full bg-academic-50 py-6 sm:py-10",children:(0,De.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,De.jsxs)("div",{className:"mb-4 flex items-center justify-between gap-3",children:[(0,De.jsxs)("button",{onClick:()=>s("/reviewer-dashboard"),className:"inline-flex items-center text-sm text-academic-600 hover:text-academic-900",children:[(0,De.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back to Reviewer Dashboard"]}),(0,De.jsxs)("span",{className:"text-xs text-academic-500",children:["Paper ID: ",r.id]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-academic-200 overflow-hidden",children:[(0,De.jsxs)("div",{className:"px-6 py-5 border-b border-academic-200 flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(0,De.jsxs)("div",{children:[(0,De.jsx)("h1",{className:"text-2xl font-bold text-academic-900 mb-2 leading-snug",children:r.title}),(0,De.jsxs)("p",{className:"text-sm text-academic-600 mb-1",children:[(0,De.jsx)("span",{className:"font-medium",children:"Authors:"})," ",(null===(e=r.authors)||void 0===e?void 0:e.join(", "))||"N/A"]}),(0,De.jsxs)("p",{className:"text-sm text-academic-600 mb-1",children:[(0,De.jsx)("span",{className:"font-medium",children:"Category:"})," ",r.category||"N/A"]}),(0,De.jsxs)("p",{className:"text-sm text-academic-600",children:[(0,De.jsx)("span",{className:"font-medium",children:"Submitted:"})," ",r.submissionDate?new Date(r.submissionDate).toLocaleDateString():"N/A"]})]}),(0,De.jsxs)("div",{className:"text-right text-xs text-academic-500",children:[(0,De.jsx)("p",{className:"mb-1",children:"Confidential review copy"}),i&&(0,De.jsxs)("p",{children:["Reviewer: ",i.name," (",i.email,")"]})]})]}),!x&&(0,De.jsx)("div",{className:"px-6 py-4 bg-amber-50 border-b border-amber-200 text-sm text-amber-800",children:"This manuscript is not a PDF file, so inline viewing may be limited. You may need to request a PDF version from the editor."}),(0,De.jsx)("div",{className:"relative bg-academic-900/95",style:{maxHeight:"80vh",overflowY:"auto"},children:x?(0,De.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-start py-6",children:[(0,De.jsx)(ry,{file:r.pdfUrl,onLoadSuccess:e=>{let{numPages:t}=e;u(t),p(1)},loading:(0,De.jsx)("div",{className:"flex items-center justify-center text-academic-100 text-sm",children:(0,De.jsx)(Oe,{size:"sm",text:"Loading PDF..."})}),error:(0,De.jsx)("div",{className:"flex items-center justify-center text-red-200 text-sm",children:"Failed to load PDF."}),children:(0,De.jsx)(Sy,{pageNumber:m,height:650,scale:f})}),h&&(0,De.jsxs)("div",{className:"mt-4 flex flex-wrap items-center gap-3 text-xs text-academic-100 justify-center",children:[(0,De.jsxs)("div",{className:"flex items-center gap-2",children:[(0,De.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.max(e-.25,.5))},className:"px-2 py-1 rounded bg-academic-800 disabled:opacity-50",disabled:f<=.5,children:"-"}),(0,De.jsxs)("span",{children:[Math.round(100*f),"%"]}),(0,De.jsx)("button",{type:"button",onClick:()=>{g(e=>Math.min(e+.25,2))},className:"px-2 py-1 rounded bg-academic-800 disabled:opacity-50",disabled:f>=2,children:"+"}),(0,De.jsx)("button",{type:"button",onClick:()=>{g(1)},className:"px-3 py-1 rounded bg-academic-800/70 hover:bg-academic-800",children:"Reset"})]}),(0,De.jsxs)("div",{className:"flex items-center gap-3",children:[(0,De.jsx)("button",{type:"button",onClick:()=>{p(e=>Math.max(e-1,1))},disabled:m<=1,className:"px-3 py-1 rounded bg-academic-800 disabled:opacity-50",children:"Previous"}),(0,De.jsxs)("span",{children:["Page ",m," of ",h]}),(0,De.jsx)("button",{type:"button",onClick:()=>{p(e=>h?Math.min(e+1,h):e+1)},disabled:h&&m>=h,className:"px-3 py-1 rounded bg-academic-800 disabled:opacity-50",children:"Next"})]})]})]}):(0,De.jsx)("div",{className:"flex items-center justify-center h-full min-h-[70vh] px-6 py-10",children:(0,De.jsxs)("div",{className:"max-w-md text-center",children:[(0,De.jsx)("h2",{className:"text-lg font-semibold text-white mb-3",children:"Inline view not available"}),(0,De.jsx)("p",{className:"text-sm text-academic-200 mb-4",children:"This manuscript is stored in a format the browser cannot preview directly. Please contact the editor to obtain a PDF version for easier inline review."})]})})}),(0,De.jsxs)("div",{className:"px-6 py-4 border-t border-academic-200 bg-academic-50 text-[11px] text-academic-500 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,De.jsx)("p",{children:"Screenshots and copying cannot be fully prevented by a web application. To discourage leaks, this view includes a visible watermark with your reviewer identity."}),(0,De.jsx)("p",{className:"italic",children:"All access is logged. Do not share this content outside the review process."})]})]})]})})};var Ly=s(997);const Iy=()=>{const e=(0,n.useRef)();(0,Ly.useReactToPrint)({content:()=>e.current,documentTitle:"IJEPA_Author_Guidelines",pageStyle:"\n      @media print {\n        body { -webkit-print-color-adjust: exact; }\n        .no-print { display: none !important; }\n        .print-only { display: block !important; }\n      }\n      @screen {\n        .print-only { display: none !important; }\n      }\n    "});return(0,De.jsx)("div",{className:"min-h-screen bg-slate-50",children:(0,De.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,De.jsxs)("div",{ref:e,className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 print:p-6",children:[(0,De.jsxs)("div",{className:"text-center mb-10 pb-6 border-b border-slate-200",children:[(0,De.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-slate-900 mb-3",children:"Author Guidelines"}),(0,De.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"International Journal of Engineering Practices and Applications (IJEPA)"})]}),(0,De.jsxs)("p",{className:"text-slate-700 mb-8 leading-relaxed",children:["The ",(0,De.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," welcomes high-quality research contributions from scholars, academicians, industry professionals, and practitioners across all engineering domains. Authors are requested to carefully read and follow the guidelines below before submitting their manuscripts."]}),(0,De.jsxs)("div",{className:"space-y-10",children:[(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"1. Manuscript Preparation"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Language:"})," All manuscripts must be written in clear, concise, and grammatically correct English."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Format:"})," Manuscripts should be submitted in MS Word (DOC/DOCX) format. PDF files will not be accepted for initial submission."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Length:"})," Research papers should typically range between 6\u201312 pages. Review articles may be longer, subject to editorial approval."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Structure:"})," The manuscript should be organized as follows:",(0,De.jsxs)("ol",{className:"list-decimal pl-6 mt-2 space-y-1",children:[(0,De.jsx)("li",{children:"Title Page (with author details)"}),(0,De.jsx)("li",{children:"Abstract (150\u2013250 words) and Keywords (3\u20136)"}),(0,De.jsx)("li",{children:"Introduction"}),(0,De.jsx)("li",{children:"Methodology / Materials and Methods"}),(0,De.jsx)("li",{children:"Results and Discussion"}),(0,De.jsx)("li",{children:"Conclusion"}),(0,De.jsx)("li",{children:"Acknowledgements (if any)"}),(0,De.jsx)("li",{children:"References"})]})]})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"2. Formatting Requirements"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Font:"})," Times New Roman, size 12, single-column, 1.5 line spacing."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Headings:"})," Use a clear hierarchy (e.g., 1. Introduction, 1.1 Subheading)."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Figures & Tables:"})," Must be numbered consecutively, with descriptive captions. Ensure high resolution and clarity."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"Equations:"})," Should be typed using an equation editor and numbered sequentially."]}),(0,De.jsxs)("li",{children:[(0,De.jsx)("strong",{children:"References:"})," Follow ",(0,De.jsx)("span",{className:"font-semibold",children:"IEEE"})," referencing style consistently throughout."]})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"3. Originality & Plagiarism Policy"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsx)("li",{children:"Submissions must be original and not under review or published elsewhere."}),(0,De.jsx)("li",{children:"All manuscripts will be checked for plagiarism. Papers exceeding the acceptable similarity index will be rejected."})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"4. Peer Review Process"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsx)("li",{children:"All submissions undergo a double-blind peer-review process."}),(0,De.jsx)("li",{children:"Authors may be asked to revise their manuscripts based on reviewer feedback."}),(0,De.jsx)("li",{children:"Final acceptance is subject to editorial approval."})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"5. Submission Process"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsxs)("li",{children:["Manuscripts should be submitted via the ",(0,De.jsx)("a",{href:"/SubmitForm",className:"text-amber-700 hover:underline",children:"Online Submission System"})," or emailed directly to ",(0,De.jsx)("span",{className:"font-mono",children:"editor@ijepa.org"}),"."]}),(0,De.jsxs)("li",{children:["Along with the manuscript, authors must provide:",(0,De.jsxs)("ul",{className:"list-none pl-4 mt-2 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 A cover letter highlighting the contribution of the paper."}),(0,De.jsx)("li",{children:"\u2022 A signed copyright form (see below)."})]})]})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"6. Publication Charges"}),(0,De.jsx)("p",{className:"text-slate-700 mb-3",children:"To support the open-access policy and editorial process, the following Article Processing Charges (APC) apply:"}),(0,De.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,De.jsxs)("ul",{className:"space-y-2",children:[(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"Indian Authors:"}),(0,De.jsx)("span",{className:"font-semibold",children:"INR 1500/- per accepted paper"})]}),(0,De.jsxs)("li",{className:"flex justify-between",children:[(0,De.jsx)("span",{children:"International Authors:"}),(0,De.jsx)("span",{className:"font-semibold",children:"USD 50 per accepted paper"})]})]}),(0,De.jsx)("p",{className:"mt-3 text-sm text-amber-800 italic",children:"Note: No submission fees are charged. Authors are required to pay only after acceptance of the manuscript."})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"7. Paper Template"}),(0,De.jsx)("p",{className:"text-slate-700 mb-4",children:"Authors must prepare their manuscripts using the official IJEPA Paper Template to ensure uniformity."}),(0,De.jsxs)("a",{href:"#",className:"inline-flex items-center px-5 py-2.5 bg-amber-700 hover:bg-amber-800 text-white font-medium rounded-lg transition-colors",children:[(0,De.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Paper Template"]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"8. Copyright Form"}),(0,De.jsx)("p",{className:"text-slate-700 mb-4",children:"Upon acceptance, authors must complete and submit the IJEPA Copyright Transfer Form. This form ensures that:"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 mb-4 space-y-1 text-slate-700",children:[(0,De.jsx)("li",{children:"The work is original and not published elsewhere."}),(0,De.jsx)("li",{children:"Authors transfer publication rights to IJEPA while retaining intellectual property rights."})]}),(0,De.jsxs)("a",{href:"#",className:"inline-flex items-center px-5 py-2.5 bg-amber-800 hover:bg-amber-900 text-white font-medium rounded-lg transition-colors",children:[(0,De.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Copyright Form"]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"9. Publication Ethics"}),(0,De.jsx)("p",{className:"text-slate-700 mb-3",children:"IJEPA adheres to strict ethical standards. Authors are expected to:"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsx)("li",{children:"Properly cite all sources of information."}),(0,De.jsx)("li",{children:"Acknowledge contributions and funding support."}),(0,De.jsx)("li",{children:"Disclose any potential conflicts of interest."}),(0,De.jsx)("li",{children:"Refrain from multiple submissions of the same work."})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"10. Copyright & Open Access Policy"}),(0,De.jsxs)("ul",{className:"list-disc pl-6 space-y-2 text-slate-700",children:[(0,De.jsx)("li",{children:"By submitting to IJEPA, authors agree to transfer copyright of the accepted article to the journal."}),(0,De.jsx)("li",{children:"All published papers are made freely accessible under the journal\u2019s open-access policy, ensuring maximum visibility."})]})]}),(0,De.jsxs)("section",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-4 pb-2 border-b border-slate-100",children:"11. Contact Information"}),(0,De.jsx)("p",{className:"text-slate-700",children:"For queries regarding manuscript preparation and submission, please contact:"}),(0,De.jsxs)("div",{className:"mt-3 p-4 bg-slate-50 rounded-lg border border-slate-200",children:[(0,De.jsx)("p",{className:"font-medium",children:"Editorial Office, IJEPA"}),(0,De.jsx)("p",{className:"mt-1 font-mono text-slate-700",children:"Email: editor@ijepa.org"})]})]})]}),(0,De.jsx)("div",{className:"mt-12 pt-6 border-t border-slate-200 text-center",children:(0,De.jsx)("p",{className:"text-slate-600 italic",children:"We strongly encourage authors to review recent articles published in IJEPA to familiarize themselves with the journal\u2019s style and scope before submission."})})]})})})},Fy=()=>(0,De.jsxs)("div",{className:"bg-[#f8fafc] min-h-screen py-8 px-4",children:[(0,De.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,De.jsxs)("div",{className:"text-center mb-10",children:[(0,De.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Call for Papers"}),(0,De.jsx)("p",{className:"text-gray-600"})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Scope of the Journal"}),(0,De.jsx)("p",{className:"mb-3 text-gray-700",children:"Topics of interest include (but are not limited to):"}),(0,De.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,De.jsx)("li",{children:"Civil, Mechanical, Electrical, and Electronics Engineering"}),(0,De.jsx)("li",{children:"Computer Science, Artificial Intelligence, and Information Technology"}),(0,De.jsx)("li",{children:"Industrial and Manufacturing Engineering"}),(0,De.jsx)("li",{children:"Materials Science and Engineering Applications"}),(0,De.jsx)("li",{children:"Communication, Signal Processing, and Control Systems"}),(0,De.jsx)("li",{children:"Renewable Energy, Green Technologies, and Sustainable Engineering"}),(0,De.jsx)("li",{children:"Emerging Trends and Interdisciplinary Engineering Practices"})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Why Publish with IJEPA?"}),(0,De.jsx)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Peer-reviewed and high-quality publications","Open access for global visibility and readership","Rapid and transparent review process","International editorial and reviewer panel","Opportunities for academic recognition and collaboration"].map((e,t)=>(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2 mt-0.5",children:"\u2713"}),(0,De.jsx)("span",{children:e})]},t))})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Submission Guidelines"}),(0,De.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,De.jsxs)("li",{children:["\u2022 Authors are requested to submit their manuscripts in accordance with the journal\u2019s formatting guidelines, available on the"," ",(0,De.jsx)(Ce,{to:"/author-guidelines",className:"text-amber-700 hover:underline",children:"Author Guidelines"})," ","page."]}),(0,De.jsx)("li",{children:"\u2022 Submissions should be original, unpublished, and not under consideration elsewhere."}),(0,De.jsxs)("li",{children:["\u2022 Manuscripts can be submitted online via our"," ",(0,De.jsx)(Ce,{to:"/SubmitForm",className:"text-amber-700 hover:underline",children:"Online Submission System"})," ","or by email to"," ",(0,De.jsx)("a",{href:"mailto:editor@ijepa.org",className:"text-amber-700 hover:underline",children:"editor@ijepa.org"}),"."]})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Literature Review (Point Form)"}),(0,De.jsxs)("ul",{className:"list-disc pl-5 space-y-2 text-gray-700",children:[(0,De.jsx)("li",{children:"Previous studies highlight that digital research platforms significantly improve accessibility and information retrieval for researchers."}),(0,De.jsx)("li",{children:"Literature suggests that user-friendly website interfaces enhance engagement, reduce confusion, and support effective learning."}),(0,De.jsx)("li",{children:"Researchers emphasize the importance of structured content organization to help users navigate academic material efficiently."}),(0,De.jsx)("li",{children:"Studies indicate that open-access repositories and online archives promote transparency and broaden participation in research."}),(0,De.jsx)("li",{children:"Prior work identifies common challenges such as information overload, credibility issues, and gaps in digital literacy."}),(0,De.jsx)("li",{children:"Scholars recommend using intelligent search systems and reliable citation tools to overcome these challenges."}),(0,De.jsx)("li",{children:"Existing research shows a growing trend toward digital platforms being essential tools for modern academic collaboration."}),(0,De.jsx)("li",{children:"Literature also highlights the need for secure, efficient, and accessible research websites to support scholarly communication."})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Important Dates"}),(0,De.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[["Manuscript Submission Deadline","20/12/2024"],["Notification of Acceptance","[Insert Date]"],["Final Camera-Ready Paper Due","[Insert Date]"],["Publication Date","[Insert Date]"]].map((e,t)=>{let[s,n]=e;return(0,De.jsxs)("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex flex-col justify-between hover:shadow-md transition-shadow",children:[(0,De.jsx)("p",{className:"font-semibold text-slate-800",children:s}),(0,De.jsx)("p",{className:"text-amber-700 font-bold text-lg mt-2",children:n})]},t)})})]}),(0,De.jsx)("div",{className:"text-center mt-6",children:(0,De.jsx)(Ce,{to:"/SubmitForm",className:"inline-block bg-amber-700 hover:bg-amber-800 text-white font-medium py-3 px-8 rounded-lg transition-colors duration-200",children:"Submit Your Manuscript"})})]}),(0,De.jsxs)("footer",{className:"mt-12 text-center text-gray-500 text-sm",children:["\xa9 ",(new Date).getFullYear()," International Journal of Engineering Practices and Applications (IJEPA). All rights reserved."]})]}),Oy=()=>(0,De.jsx)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:(0,De.jsxs)("main",{className:"flex-grow",children:[(0,De.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,De.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,De.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-600 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,De.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-amber-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"})]}),(0,De.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,De.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Indexing & ",(0,De.jsx)("span",{className:"text-amber-200",children:"Abstracting"})]}),(0,De.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"Enhancing global visibility, accessibility, and impact of your research through strategic database partnerships."})]})]}),(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,De.jsx)("div",{className:"text-center mb-16",children:(0,De.jsxs)("p",{className:"text-lg text-slate-700 max-w-4xl mx-auto leading-relaxed",children:["The ",(0,De.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," is committed to increasing the visibility, accessibility, and citation of published research. To achieve this, we actively pursue indexing in leading academic and research databases."]})}),(0,De.jsxs)("section",{className:"mb-20",children:[(0,De.jsxs)("div",{className:"flex items-center mb-8",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,De.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Currently Indexed In"})]}),(0,De.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Google Scholar",description:"Global academic search engine"},{name:"CrossRef",description:"DOI registration agency"},{name:"ResearchGate",description:"Research networking platform"},{name:"Academia.edu",description:"Academic sharing platform"},{name:"Semantic Scholar",description:"AI-powered research discovery"},{name:"BASE",description:"Bielefeld Academic Search Engine"}].map((e,t)=>(0,De.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300",children:(0,De.jsxs)("div",{className:"flex items-start",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,De.jsx)("svg",{className:"w-5 h-5 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})})}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-1",children:e.name}),(0,De.jsx)("p",{className:"text-slate-600 text-sm",children:e.description})]})]})},t))})]}),(0,De.jsxs)("section",{className:"mb-20",children:[(0,De.jsx)("div",{className:"flex items-center mb-8",children:(0,De.jsx)("div",{className:"w-10 h-10 bg-amber-50 rounded-lg flex items-center justify-center mr-4"})}),(0,De.jsx)("div",{className:"space-y-6"})]}),(0,De.jsx)("section",{className:"mb-16",children:(0,De.jsxs)("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-2xl p-8 border border-amber-100",children:[(0,De.jsx)("h2",{className:"text-3xl font-bold text-slate-900 mb-6 text-center",children:"Why Indexing Matters"}),(0,De.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:["Greater visibility and global readership for published papers","Increased citations and academic recognition for authors","Long-term preservation and accessibility of research","Compliance with academic and institutional requirements for quality publications."].map((e,t)=>(0,De.jsxs)("div",{className:"flex items-start",children:[(0,De.jsx)("div",{className:"flex-shrink-0 w-6 h-6 bg-amber-100 text-amber-800 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,De.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,De.jsx)("p",{className:"text-slate-700",children:e})]},t))})]})}),(0,De.jsx)("section",{className:"mb-16",children:(0,De.jsx)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:(0,De.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,De.jsx)("div",{className:"flex-shrink-0 mb-6 md:mb-0 md:mr-8",children:(0,De.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-2xl flex items-center justify-center",children:(0,De.jsx)("svg",{className:"w-8 h-8 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{d:"M13 10V3L4 14h7v7l9-11h-7z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-3",children:"DOIs & CrossRef Membership"}),(0,De.jsxs)("p",{className:"text-slate-700 leading-relaxed",children:["Each article published in IJEPA is assigned a unique ",(0,De.jsx)("strong",{children:"Digital Object Identifier (DOI)"}),", ensuring permanent online availability, reliable citation tracking, and integration with global scholarly infrastructure through our CrossRef membership."]})]})]})})}),(0,De.jsxs)("div",{className:"text-center py-12 bg-slate-900 rounded-2xl text-white",children:[(0,De.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Our Commitment"}),(0,De.jsx)("p",{className:"text-slate-300 max-w-3xl mx-auto mb-6 leading-relaxed",children:"We are continuously working to expand our indexing coverage so that IJEPA remains a trusted platform for impactful engineering research."}),(0,De.jsxs)("a",{href:"/contact-us",className:"inline-flex items-center px-6 py-3 bg-white text-slate-900 font-semibold rounded-xl hover:bg-slate-100 transition-all duration-300 shadow-lg",children:[(0,De.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Contact Editorial Office"]})]})]})]})}),By=()=>{const[e,t]=(0,n.useState)([]),[s,i]=(0,n.useState)(!0),[r,a]=(0,n.useState)([]),[o,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(null),[h,u]=(0,n.useState)({}),[m,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{const e=(await Re.getIssues()||[]).slice().sort((e,t)=>t.year-e.year||t.issue-e.issue);t(e)}catch(e){console.error("Error loading issues:",e)}finally{i(!1)}})()},[]);const f=e.find(e=>e.isCurrent),g=e.filter(e=>!e.isCurrent);(0,n.useEffect)(()=>{e&&e.length>0?(async()=>{const t=e.find(e=>e.isCurrent);if(t)try{l(!0);const e=await Re.getIssuePapers(t.id);a(e||[])}catch(s){console.error("Error loading current issue papers:",s),a([])}finally{l(!1)}else a([])})():a([])},[e]);const x=g.reduce((e,t)=>{const s="Volume ".concat(t.volume);return e[s]||(e[s]=[]),e[s].push(t),e},{}),v=e=>({id:e.id,title:e.title,authors:e.authors||[],category:e.category||"N/A",doi:e.doi||"N/A",abstract:e.abstract||"",keywords:e.keywords||[],submittedDate:e.submissionDate?new Date(e.submissionDate).toLocaleDateString():"N/A",publishedDate:e.publicationDate?new Date(e.publicationDate).toLocaleDateString():"N/A",citations:e.citationCount||0,status:(e.status||"Published").replace("_"," ").toUpperCase(),pdfUrl:e.pdfUrl||null}),b=e=>{let{paper:t}=e;return(0,De.jsx)("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 hover:shadow-lg transition-all duration-300 overflow-hidden",children:(0,De.jsxs)("div",{className:"p-5",children:[(0,De.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,De.jsx)("h3",{className:"text-lg font-bold text-slate-900 line-clamp-2",children:t.title}),(0,De.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:t.status})]}),(0,De.jsxs)("div",{className:"mb-3",children:[(0,De.jsxs)("p",{className:"text-sm text-slate-600 mb-1",children:[(0,De.jsx)("strong",{children:"Authors:"})," ",t.authors.join(", ")]}),(0,De.jsxs)("p",{className:"text-sm text-slate-600",children:[(0,De.jsx)("strong",{children:"Category:"})," ",t.category]})]}),(0,De.jsx)("div",{className:"mb-3",children:(0,De.jsxs)("p",{className:"text-sm text-slate-600 mb-1",children:[(0,De.jsx)("strong",{children:"DOI:"})," ",(0,De.jsx)("a",{href:"https://doi.org/".concat(t.doi),target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 underline",children:t.doi})]})}),(0,De.jsx)("p",{className:"text-sm text-slate-700 mb-4 line-clamp-3",children:t.abstract}),(0,De.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:t.keywords.map((e,t)=>(0,De.jsx)("span",{className:"inline-flex items-center px-2 py-1 bg-slate-100 text-slate-800 text-xs rounded-full",children:e},t))}),(0,De.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-500 mb-4",children:[(0,De.jsxs)("span",{children:["Submitted: ",t.submittedDate]}),(0,De.jsxs)("span",{children:["Published: ",t.publishedDate]}),(0,De.jsxs)("span",{children:["Citations: ",t.citations]})]}),(0,De.jsx)("a",{href:t.pdfUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex items-center justify-center px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors duration-200",children:"View Full Paper"})]})})};return(0,De.jsx)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:(0,De.jsxs)("main",{className:"flex-grow",children:[(0,De.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,De.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,De.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-600 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,De.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-amber-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"})]}),(0,De.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,De.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Journal ",(0,De.jsx)("span",{className:"text-amber-200",children:"Issues"})]}),(0,De.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"Explore current and archived issues of IJEPA featuring peer-reviewed research across engineering disciplines."})]})]}),(0,De.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[(0,De.jsx)("div",{className:"text-center mb-16",children:(0,De.jsxs)("p",{className:"text-lg text-slate-700 max-w-4xl mx-auto leading-relaxed",children:["The ",(0,De.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," publishes regular issues featuring high-quality research articles, reviews, and case studies across diverse engineering domains. Our issues provide a global platform for disseminating knowledge and fostering innovation in engineering practices and applications."]})}),(0,De.jsxs)("section",{className:"mb-20",children:[(0,De.jsxs)("div",{className:"flex items-center mb-8",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center mr-4",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-amber-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,De.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Current Issue"})]}),s?(0,De.jsx)("div",{className:"text-center text-slate-500",children:"Loading current issue..."}):f?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsxs)("div",{className:"text-center mb-8",children:[(0,De.jsxs)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:["Volume ",f.volume,", Issue ",f.issue," \u2013 ",f.month,", ",f.year]}),(0,De.jsx)("p",{className:"text-slate-600",children:"Articles published in this issue."})]}),o?(0,De.jsx)("div",{className:"text-center text-slate-500",children:"Loading papers for this issue..."}):r.length>0?(0,De.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map(e=>(0,De.jsx)(b,{paper:v(e)},e.id))}):(0,De.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 text-center",children:(0,De.jsx)("p",{className:"text-slate-600",children:"No papers have been assigned to this issue yet."})})]}):(0,De.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8 text-center",children:(0,De.jsx)("p",{className:"text-slate-600",children:"No current issue is available at the moment."})})]}),(0,De.jsxs)("section",{className:"mb-20",children:[(0,De.jsxs)("div",{className:"flex items-center mb-8",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center mr-4",children:(0,De.jsx)("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M9 11a2 2 0 11-4 0m8 0a2 2 0 11-4 0m-4 8a2 2 0 012-2h8a2 2 0 012 2v2M5 19h14a2 2 0 002-2v-2"})})}),(0,De.jsx)("h2",{className:"text-3xl font-bold text-slate-900",children:"Archives"})]}),(0,De.jsx)("p",{className:"text-slate-700 mb-6",children:"Explore previously published volumes and issues of IJEPA. All articles are available in full text under our open-access policy."}),s?(0,De.jsx)("div",{className:"text-center text-slate-500",children:"Loading archives..."}):(0,De.jsx)("div",{className:"space-y-12",children:Object.entries(x).map(e=>{let[t,s]=e;return(0,De.jsxs)("section",{children:[(0,De.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-4 pb-2 border-b border-slate-200",children:t}),(0,De.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,De.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-slate-200 hover:shadow-xl transition-all duration-300 cursor-pointer",onClick:()=>(async e=>{if(e)if(c!==e.id){if(d(e.id),!h[e.id])try{p(e.id);const t=await Re.getIssuePapers(e.id);u(s=>Je(Je({},s),{},{[e.id]:t||[]}))}catch(t){console.error("Error loading archive issue papers:",t),u(t=>Je(Je({},t),{},{[e.id]:[]}))}finally{p(null)}}else d(null)})(e),children:[(0,De.jsxs)("h4",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center justify-between",children:[(0,De.jsxs)("span",{children:["Issue ",e.issue,", ",e.year]}),(0,De.jsx)("span",{className:"text-xs text-amber-700",children:c===e.id?"Hide Articles":"View Articles"})]}),c===e.id&&(0,De.jsx)("div",{className:"mt-4 border-t border-slate-200 pt-4 space-y-3",children:m===e.id?(0,De.jsx)("p",{className:"text-sm text-slate-500",children:"Loading papers for this issue..."}):0===(h[e.id]||[]).length?(0,De.jsx)("p",{className:"text-sm text-slate-500",children:"No papers have been assigned to this issue yet."}):(h[e.id]||[]).map(e=>(0,De.jsxs)("div",{className:"text-sm",children:[(0,De.jsx)("a",{href:e.pdfUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-amber-800 hover:text-amber-900 hover:underline",children:e.title}),(0,De.jsx)("p",{className:"text-slate-600 text-xs mt-1",children:Array.isArray(e.authors)?e.authors.join(", "):e.authors})]},e.id))})]},e.id))})]},t)})})]}),(0,De.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:[(0,De.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex items-start mb-4",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,De.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Publication Frequency"})]}),(0,De.jsxs)("p",{className:"text-slate-700",children:["IJEPA publishes ",(0,De.jsx)("strong",{children:"Monthly"}),". Special issues on emerging topics in engineering may also be announced periodically."]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg border border-slate-200",children:[(0,De.jsxs)("div",{className:"flex items-start mb-4",children:[(0,De.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4 flex-shrink-0",children:(0,De.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,De.jsx)("h3",{className:"text-xl font-bold text-slate-900",children:"Access Policy"})]}),(0,De.jsxs)("p",{className:"text-slate-700",children:["All journal issues are published online and made ",(0,De.jsx)("strong",{children:"freely accessible"})," under our open-access policy, ensuring maximum visibility and citation for authors."]})]})]}),(0,De.jsxs)("div",{className:"text-center py-10 bg-gradient-to-r from-amber-50 to-amber-100 rounded-2xl border border-amber-100",children:[(0,De.jsx)("p",{className:"text-lg text-slate-700 mb-4",children:"To publish in upcoming issues, please visit our Call for Papers page."}),(0,De.jsxs)("a",{href:"/call-for-papers",className:"inline-flex items-center px-6 py-3 bg-amber-700 hover:bg-amber-800 text-white font-semibold rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Call for Papers",(0,De.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]})})},Wy=()=>{const e="editor@ijepa.org";return(0,De.jsx)("div",{className:"bg-[#f8fafc] min-h-screen py-8 px-4",children:(0,De.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,De.jsxs)("div",{className:"text-center mb-10",children:[(0,De.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Join Us as Associate Editor or Reviewer"}),(0,De.jsx)("p",{className:"text-gray-600 max-w-3xl mx-auto",children:"The International Journal of Engineering Practices and Applications (IJEPA) invites academicians, researchers, and industry experts with strong academic and research credentials to join our editorial community as Associate Editors or Reviewers."})]}),(0,De.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:(0,De.jsx)("p",{className:"text-gray-700",children:"We believe that the quality of a journal is a reflection of the dedication and expertise of its editorial board and reviewers. By joining IJEPA, you will have the opportunity to contribute to the advancement of engineering research worldwide while gaining valuable recognition for your service."})}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Eligibility Criteria"}),(0,De.jsxs)("ul",{className:"space-y-2 text-gray-700",children:[(0,De.jsx)("li",{children:"\u2022 A Ph.D. or Master\u2019s degree in a relevant engineering or technology discipline."}),(0,De.jsx)("li",{children:"\u2022 Proven research record with publications in peer-reviewed journals or conferences."}),(0,De.jsx)("li",{children:"\u2022 Commitment to maintaining high ethical standards in research and publication."}),(0,De.jsx)("li",{children:"\u2022 Willingness to review manuscripts in your area of expertise within stipulated timelines."})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Roles & Responsibilities"}),(0,De.jsxs)("div",{className:"mb-4",children:[(0,De.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Associate Editors"}),(0,De.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,De.jsx)("li",{children:"Assist in managing the peer-review process."}),(0,De.jsx)("li",{children:"Provide editorial decisions and recommendations."}),(0,De.jsx)("li",{children:"Contribute to the strategic development of the journal."})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Reviewers"}),(0,De.jsxs)("ul",{className:"list-disc pl-5 space-y-1 text-gray-700",children:[(0,De.jsx)("li",{children:"Provide constructive, detailed, and timely reviews of assigned manuscripts."}),(0,De.jsx)("li",{children:"Help uphold the quality and integrity of published research."})]})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm mb-6",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Benefits"}),(0,De.jsxs)("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-gray-700",children:[(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2 mt-0.5",children:"\u2713"}),(0,De.jsx)("span",{children:"Recognition as an Associate Editor/Reviewer on the IJEPA website."})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2 mt-0.5",children:"\u2713"}),(0,De.jsx)("span",{children:"Opportunity to stay updated with cutting-edge research in your field."})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2 mt-0.5",children:"\u2713"}),(0,De.jsx)("span",{children:"Certificate of appreciation for your editorial/reviewing contribution."})]}),(0,De.jsxs)("li",{className:"flex items-start",children:[(0,De.jsx)("span",{className:"text-amber-700 mr-2 mt-0.5",children:"\u2713"}),(0,De.jsx)("span",{children:"Networking with international researchers and professionals."})]})]})]}),(0,De.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[(0,De.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"How to Apply"}),(0,De.jsx)("p",{className:"text-gray-700 mb-4",children:"Interested candidates are invited to complete the application form via the link below:"}),(0,De.jsx)("a",{href:"https://forms.gle/ThKT31uW4K4F3dUX7",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-amber-700 hover:bg-amber-800 text-white font-medium rounded-lg transition-colors duration-200",children:"\ud83d\udc49 Apply Here"}),(0,De.jsxs)("p",{className:"mt-6 text-gray-600",children:["For queries, please contact:",(0,De.jsx)("br",{}),(0,De.jsx)("span",{className:"font-medium",children:"Editorial Office, IJEPA"}),(0,De.jsx)("br",{}),"Email: ",(0,De.jsx)("a",{href:"mailto:".concat(e),className:"text-amber-700 hover:underline",children:e})]})]}),(0,De.jsxs)("footer",{className:"mt-12 text-center text-gray-500 text-sm",children:["\xa9 ",(new Date).getFullYear()," International Journal of Engineering Practices and Applications (IJEPA). All rights reserved."]})]})})},zy={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:4000",Uy=()=>{const{user:e}=Ie(),t=te(),[s,i]=(0,n.useState)(!0),[r,a]=(0,n.useState)({fullName:(null===e||void 0===e?void 0:e.name)||"",email:(null===e||void 0===e?void 0:e.email)||"",affiliation:"",paperTitle:"",keywords:"",manuscript:null,copyrightForm:null,comments:""}),[o,l]=(0,n.useState)({}),[c,d]=(0,n.useState)(!1),[h,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)("");(0,n.useEffect)(()=>{e?i(!1):t("/login",{state:{from:"/submitform"}})},[e,t]);const f=e=>{const{name:t,value:s}=e.target;a(e=>Je(Je({},e),{},{[t]:s})),o[t]&&l(e=>Je(Je({},e),{},{[t]:""}))},g=e=>{const{name:t,files:s}=e.target;a(e=>Je(Je({},e),{},{[t]:s[0]})),o[t]&&l(e=>Je(Je({},e),{},{[t]:""}))},x=e=>e?(0,De.jsxs)("div",{className:"flex items-center mt-2 p-3 bg-green-50 rounded-lg border border-green-200",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,De.jsx)("span",{className:"text-green-800 font-medium truncate",children:e.name})]}):null;return s?(0,De.jsx)("div",{className:"min-h-full flex items-center justify-center bg-slate-50",children:(0,De.jsx)(Oe,{size:"lg",text:"Authenticating..."})}):h?(0,De.jsx)("div",{className:"min-h-full bg-slate-50 flex items-center justify-center",children:(0,De.jsxs)("div",{className:"text-center p-8",children:[(0,De.jsx)("div",{className:"mx-auto mb-6 w-24 h-24 flex items-center justify-center bg-green-100 rounded-full",children:(0,De.jsx)("svg",{className:"w-16 h-16 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,De.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Paper Submitted Successfully!"}),(0,De.jsx)("p",{className:"text-lg text-slate-600 max-w-md mx-auto mb-8",children:"Thank you for your submission. You will receive a confirmation email shortly. Our team will review your paper and get back to you."}),(0,De.jsx)("button",{onClick:()=>t("/author-dashboard"),className:"py-3 px-6 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300",children:"Back to Dashboard"})]})}):(0,De.jsx)("div",{className:"min-h-full bg-slate-50 py-12",children:(0,De.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,De.jsxs)("div",{className:"text-center mb-12",children:[(0,De.jsxs)("button",{onClick:()=>t("/author-dashboard"),className:"mb-6 flex items-center text-slate-600 hover:text-slate-900 transition-colors self-start",children:[(0,De.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Dashboard"]}),(0,De.jsx)("h1",{className:"text-3xl font-bold text-slate-900 mb-4",children:"Submit Your Research Paper"}),(0,De.jsx)("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Please fill in all required fields and upload the necessary documents to submit your manuscript for review."})]}),(0,De.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:(0,De.jsx)("div",{className:"p-6 sm:p-8",children:(0,De.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.fullName.trim()||(e.fullName="Full name is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(e.email="Email is invalid"):e.email="Email is required",r.affiliation.trim()||(e.affiliation="Affiliation is required"),r.paperTitle.trim()||(e.paperTitle="Paper title is required"),r.manuscript||(e.manuscript="Manuscript file is required"),r.copyrightForm||(e.copyrightForm="Copyright form is required"),l(e),0===Object.keys(e).length})()){d(!0),p("");try{const t=new FormData;t.append("fullName",r.fullName),t.append("email",r.email),t.append("affiliation",r.affiliation),t.append("paperTitle",r.paperTitle),t.append("keywords",r.keywords||""),t.append("comments",r.comments||""),null!==e&&void 0!==e&&e.id&&t.append("userId",String(e.id)),r.manuscript&&t.append("manuscript",r.manuscript),r.copyrightForm&&t.append("copyrightForm",r.copyrightForm);const s=await fetch("".concat(zy,"/api/submissions"),{method:"POST",body:t}),n=await s.json();s.ok&&n.success?u(!0):p(n.error||"Failed to submit paper. Please try again.")}catch(s){console.error("Submission failed",s),p("Submission failed. Please try again.")}finally{d(!1)}}},className:"space-y-8",children:[m&&(0,De.jsx)("div",{className:"mb-4 rounded-lg bg-red-50 border border-red-200 px-4 py-3 text-sm text-red-700",children:m}),(0,De.jsxs)("div",{className:"border-b border-slate-200 pb-8",children:[(0,De.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,De.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"1"}),"Author Information"]}),(0,De.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:r.fullName,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.fullName?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"Enter your full name"}),o.fullName&&(0,De.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.fullName})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:["Email Address ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.email?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"your.email@institution.edu"}),o.email&&(0,De.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),(0,De.jsxs)("div",{className:"md:col-span-2",children:[(0,De.jsxs)("label",{htmlFor:"affiliation",className:"block text-sm font-medium text-slate-700 mb-2",children:["Affiliation / Institution ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"text",id:"affiliation",name:"affiliation",value:r.affiliation,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.affiliation?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"University, Company, or Organization"}),o.affiliation&&(0,De.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.affiliation})]})]})]}),(0,De.jsxs)("div",{className:"border-b border-slate-200 pb-8",children:[(0,De.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,De.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"2"}),"Paper Details"]}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"paperTitle",className:"block text-sm font-medium text-slate-700 mb-2",children:["Paper Title ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"text",id:"paperTitle",name:"paperTitle",value:r.paperTitle,onChange:f,className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors ".concat(o.paperTitle?"border-red-500 bg-red-50":"border-slate-300"),placeholder:"Enter the title of your research paper"}),o.paperTitle&&(0,De.jsx)("p",{className:"mt-1 text-sm text-red-600",children:o.paperTitle})]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"keywords",className:"block text-sm font-medium text-slate-700 mb-2",children:"Keywords (Optional)"}),(0,De.jsx)("input",{type:"text",id:"keywords",name:"keywords",value:r.keywords,onChange:f,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"e.g., AI, Civil Engineering, Renewable Energy"}),(0,De.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Separate keywords with commas"})]})]})]}),(0,De.jsxs)("div",{className:"border-b border-slate-200 pb-8",children:[(0,De.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,De.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"3"}),"Document Uploads"]}),(0,De.jsxs)("div",{className:"space-y-8",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Upload Manuscript ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl hover:border-indigo-400 transition-colors\r ${errors.manuscript ? 'border-red-500 bg-red-50' : 'border-slate-300'}",children:(0,De.jsxs)("div",{className:"space-y-1 text-center",children:[(0,De.jsx)("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,De.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,De.jsxs)("div",{className:"flex text-sm text-slate-600 justify-center",children:[(0,De.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500",children:[(0,De.jsx)("span",{children:"Upload a file"}),(0,De.jsx)("input",{type:"file",name:"manuscript",accept:".pdf,.doc,.docx",onChange:g,className:"sr-only"})]}),(0,De.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,De.jsx)("p",{className:"text-xs text-slate-500",children:"PDF, DOC, or DOCX format only (Max 20MB)"}),x(r.manuscript)]})}),o.manuscript&&(0,De.jsx)("p",{className:"mt-2 text-sm text-red-600",children:o.manuscript})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["Upload Signed Copyright Form ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl hover:border-indigo-400 transition-colors\r ${errors.copyrightForm ? 'border-red-500 bg-red-50' : 'border-slate-300'}",children:(0,De.jsxs)("div",{className:"space-y-1 text-center",children:[(0,De.jsx)("svg",{className:"mx-auto h-12 w-12 text-slate-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,De.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,De.jsxs)("div",{className:"flex text-sm text-slate-600 justify-center",children:[(0,De.jsxs)("label",{className:"relative cursor-pointer rounded-md font-medium text-indigo-600 hover:text-indigo-500",children:[(0,De.jsx)("span",{children:"Upload a file"}),(0,De.jsx)("input",{type:"file",name:"copyrightForm",accept:".pdf,.doc,.docx",onChange:g,className:"sr-only"})]}),(0,De.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,De.jsx)("p",{className:"text-xs text-slate-500",children:"PDF, DOC, or DOCX format (Max 10MB)"}),x(r.copyrightForm)]})}),o.copyrightForm&&(0,De.jsx)("p",{className:"mt-2 text-sm text-red-600",children:o.copyrightForm})]})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("h2",{className:"text-xl font-bold text-slate-900 mb-6 flex items-center",children:[(0,De.jsx)("span",{className:"w-8 h-8 bg-indigo-100 text-indigo-700 rounded-lg flex items-center justify-center mr-3",children:"4"}),"Additional Information"]}),(0,De.jsxs)("div",{children:[(0,De.jsx)("label",{htmlFor:"comments",className:"block text-sm font-medium text-slate-700 mb-2",children:"Additional Comments / Cover Letter (Optional)"}),(0,De.jsx)("textarea",{id:".comments",name:"comments",value:r.comments,onChange:f,rows:"4",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"Share any additional context, special requests, or cover letter details..."}),(0,De.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Max 500 characters"})]})]}),(0,De.jsxs)("div",{className:"pt-6",children:[(0,De.jsx)("button",{type:"submit",disabled:c,className:"w-full py-4 px-6 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center",children:c?(0,De.jsxs)(De.Fragment,{children:[(0,De.jsx)(Oe,{size:"sm",text:""}),(0,De.jsx)("span",{className:"ml-3",children:"Submitting Paper..."})]}):"Submit Paper for Review"}),(0,De.jsxs)("p",{className:"mt-4 text-center text-sm text-slate-500",children:["By submitting, you agree to our ",(0,De.jsx)("a",{href:"/author-guidelines",className:"text-indigo-600 hover:underline",children:"Author Guidelines"})," and ",(0,De.jsx)("a",{href:"#",className:"text-indigo-600 hover:underline",children:"Publication Ethics"}),"."]})]})]})})})]})})},Hy=()=>{const[e,t]=(0,n.useState)({name:"",email:"",subject:"",message:""}),[s,i]=(0,n.useState)(!1),[r,a]=(0,n.useState)(!1),[o,l]=(0,n.useState)(""),c=e=>{const{name:s,value:n}=e.target;t(e=>Je(Je({},e),{},{[s]:n})),o&&l("")};return(0,De.jsx)("div",{className:"min-h-screen flex flex-col bg-slate-50",children:(0,De.jsxs)("main",{className:"flex-grow",children:[(0,De.jsxs)("section",{className:"relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white py-20",children:[(0,De.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,De.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-amber-600 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse"}),(0,De.jsx)("div",{className:"absolute top-1/3 right-1/4 w-96 h-96 bg-amber-400 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-pulse animation-delay-2000"})]}),(0,De.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,De.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Contact ",(0,De.jsx)("span",{className:"text-amber-200",children:"Us"})]}),(0,De.jsx)("p",{className:"text-xl text-slate-300 max-w-3xl mx-auto leading-relaxed",children:"We're here to assist you with any questions about submissions, editorial policies, or journal operations."})]})]}),(0,De.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:(0,De.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,De.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8",children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Get in Touch"}),(0,De.jsxs)("p",{className:"text-slate-700 mb-8 leading-relaxed",children:["The ",(0,De.jsx)("strong",{children:"International Journal of Engineering Practices and Applications (IJEPA)"})," values communication with authors, reviewers, editors, and readers. We encourage you to reach out to us for any queries, clarifications, or support related to manuscript submission, editorial policies, or publication processes."]}),(0,De.jsxs)("div",{className:"mb-10",children:[(0,De.jsxs)("h3",{className:"text-xl font-bold text-slate-900 mb-4 flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-amber-700 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2M7 21h10"})}),"Editorial Office"]}),(0,De.jsxs)("div",{className:"space-y-3 text-slate-700",children:[(0,De.jsx)("p",{className:"font-medium",children:"International Journal of Engineering Practices and Applications (IJEPA)"}),(0,De.jsxs)("div",{className:"flex items-start",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-slate-500 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,De.jsx)("span",{children:"editor@ijepa.org"})]}),(0,De.jsxs)("div",{className:"flex items-start",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-slate-500 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),(0,De.jsx)("span",{children:"+91 98765 43210"})]}),(0,De.jsxs)("div",{className:"flex items-start",children:[(0,De.jsx)("svg",{className:"w-5 h-5 text-slate-500 mt-0.5 mr-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"})}),(0,De.jsx)("span",{children:"www.ijepa.org"})]})]})]}),(0,De.jsxs)("div",{className:"space-y-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[(0,De.jsx)("svg",{className:"w-4 h-4 text-amber-700 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"For Authors"]}),(0,De.jsxs)("ul",{className:"text-slate-700 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 Questions about manuscript preparation or submission guidelines"}),(0,De.jsx)("li",{children:"\u2022 Status updates on submitted papers"}),(0,De.jsx)("li",{children:"\u2022 Queries regarding publication charges or templates"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[(0,De.jsx)("svg",{className:"w-4 h-4 text-purple-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"For Reviewers / Editors"]}),(0,De.jsxs)("ul",{className:"text-slate-700 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 Interest in joining as an Associate Editor or Reviewer"}),(0,De.jsx)("li",{children:"\u2022 Support regarding the review process or editorial roles"})]})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center",children:[(0,De.jsx)("svg",{className:"w-4 h-4 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"General Inquiries"]}),(0,De.jsxs)("ul",{className:"text-slate-700 space-y-1",children:[(0,De.jsx)("li",{children:"\u2022 Feedback about the journal or published papers"}),(0,De.jsx)("li",{children:"\u2022 Technical support with website or submission system"})]})]})]}),(0,De.jsx)("div",{className:"mt-8 p-4 bg-amber-50 rounded-lg border border-amber-200",children:(0,De.jsxs)("p",{className:"text-amber-800 font-medium",children:["We aim to respond to all inquiries within ",(0,De.jsx)("strong",{children:"2\u20133 business days"}),"."]})})]}),(0,De.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-8",children:[(0,De.jsx)("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Send us a Message"}),r&&(0,De.jsx)("div",{className:"mb-6 p-4 bg-green-50 text-green-800 rounded-lg border border-green-200",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,De.jsx)("span",{children:"Message sent successfully! We'll get back to you soon."})]})}),o&&(0,De.jsx)("div",{className:"mb-6 p-4 bg-red-50 text-red-800 rounded-lg border border-red-200",children:(0,De.jsxs)("div",{className:"flex items-center",children:[(0,De.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,De.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,De.jsx)("span",{children:o})]})}),(0,De.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),l("");try{await new Promise(e=>setTimeout(e,1500)),a(!0),t({name:"",email:"",subject:"",message:""}),setTimeout(()=>a(!1),5e3)}catch(s){l("Failed to send message. Please try again later.")}finally{i(!1)}},className:"space-y-6",children:[(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700 mb-2",children:["Full Name ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors",placeholder:"Enter your full name"})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:["Email Address ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"your.email@example.com"})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"subject",className:"block text-sm font-medium text-slate-700 mb-2",children:["Subject ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:c,required:!0,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors",placeholder:"What is this regarding?"})]}),(0,De.jsxs)("div",{children:[(0,De.jsxs)("label",{htmlFor:"message",className:"block text-sm font-medium text-slate-700 mb-2",children:["Message ",(0,De.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,De.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:c,required:!0,rows:"6",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-700 focus:border-amber-700 transition-colors resize-none",placeholder:"Please provide details about your inquiry.."})]}),(0,De.jsx)("button",{type:"submit",disabled:s,className:"w-full py-3 px-6 bg-amber-700 hover:bg-amber-800 disabled:bg-amber-500 text-white font-semibold rounded-lg shadow-md hover:shadow-lg transition-all duration-300 flex items-center justify-center",children:s?(0,De.jsxs)("span",{className:"flex items-center",children:[(0,De.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,De.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,De.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message..."]}):"Send Message"})]})]})]})})]})})};const Vy=function(){return(0,De.jsx)(Fe,{children:(0,De.jsx)(Se,{children:(0,De.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,De.jsx)(ze,{}),(0,De.jsx)("main",{className:"flex-1",children:(0,De.jsxs)(be,{children:[(0,De.jsx)(xe,{path:"/",element:(0,De.jsx)(Ge,{})}),(0,De.jsx)(xe,{path:"/login",element:(0,De.jsx)(Cy,{})}),(0,De.jsx)(xe,{path:"/register",element:(0,De.jsx)(My,{})}),(0,De.jsx)(xe,{path:"/papers",element:(0,De.jsx)(Ay,{})}),(0,De.jsx)(xe,{path:"/author-guidelines",element:(0,De.jsx)(Iy,{})}),(0,De.jsx)(xe,{path:"/indexing",element:(0,De.jsx)(Oy,{})}),(0,De.jsx)(xe,{path:"/callforpapers",element:(0,De.jsx)(Fy,{})}),(0,De.jsx)(xe,{path:"/journal-issues",element:(0,De.jsx)(By,{})}),(0,De.jsx)(xe,{path:"/joinusedito",element:(0,De.jsx)(Wy,{})}),(0,De.jsx)(xe,{path:"/submitform",element:(0,De.jsx)(Uy,{})}),(0,De.jsx)(xe,{path:"/contact-us",element:(0,De.jsx)(Hy,{})}),(0,De.jsx)(xe,{path:"/contact-us",element:(0,De.jsx)(Hy,{})}),(0,De.jsx)(xe,{path:"/author-dashboard",element:(0,De.jsx)(Be,{requiredRole:"author",children:(0,De.jsx)(Py,{})})}),(0,De.jsx)(xe,{path:"/reviewer-dashboard",element:(0,De.jsx)(Be,{requiredRole:"reviewer",children:(0,De.jsx)(Ty,{})})}),(0,De.jsx)(xe,{path:"/review/paper/:id",element:(0,De.jsx)(Be,{requiredRole:"reviewer",children:(0,De.jsx)(Dy,{})})}),(0,De.jsx)(xe,{path:"/admin-dashboard",element:(0,De.jsx)(Be,{requiredRole:"admin",children:(0,De.jsx)(Ry,{})})}),(0,De.jsx)(xe,{path:"*",element:(0,De.jsx)(ge,{to:"/",replace:!0})})]})}),(0,De.jsx)(Ue,{}),(0,De.jsx)(He,{})]})})})};r.createRoot(document.getElementById("root")).render((0,De.jsx)(n.StrictMode,{children:(0,De.jsx)(Vy,{})}))})()})();
//# sourceMappingURL=main.3b1c071a.js.map